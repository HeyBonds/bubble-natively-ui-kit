(()=>{var ai,H,tc,wm,ur,Zl,rc,ic,nc,$s,Ms,Ps,oc,si={},sc=[],Sm=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ui=Array.isArray;function pt(e,r){for(var i in r)e[i]=r[i];return e}function Ds(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ut(e,r,i){var t,n,o,s={};for(o in r)o=="key"?t=r[o]:o=="ref"?n=r[o]:s[o]=r[o];if(arguments.length>2&&(s.children=arguments.length>3?ai.call(arguments,2):i),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]===void 0&&(s[o]=e.defaultProps[o]);return oi(e,s,t,n,null)}function oi(e,r,i,t,n){var o={type:e,props:r,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:n??++tc,__i:-1,__u:0};return n==null&&H.vnode!=null&&H.vnode(o),o}function Ls(){return{current:null}}function lt(e){return e.children}function tt(e,r){this.props=e,this.context=r}function Sr(e,r){if(r==null)return e.__?Sr(e.__,e.__i+1):null;for(var i;r<e.__k.length;r++)if((i=e.__k[r])!=null&&i.__e!=null)return i.__e;return typeof e.type=="function"?Sr(e):null}function ac(e){var r,i;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,r=0;r<e.__k.length;r++)if((i=e.__k[r])!=null&&i.__e!=null){e.__e=e.__c.base=i.__e;break}return ac(e)}}function Ts(e){(!e.__d&&(e.__d=!0)&&ur.push(e)&&!In.__r++||Zl!=H.debounceRendering)&&((Zl=H.debounceRendering)||rc)(In)}function In(){for(var e,r,i,t,n,o,s,a=1;ur.length;)ur.length>a&&ur.sort(ic),e=ur.shift(),a=ur.length,e.__d&&(i=void 0,t=void 0,n=(t=(r=e).__v).__e,o=[],s=[],r.__P&&((i=pt({},t)).__v=t.__v+1,H.vnode&&H.vnode(i),Fs(r.__P,i,t,r.__n,r.__P.namespaceURI,32&t.__u?[n]:null,o,n??Sr(t),!!(32&t.__u),s),i.__v=t.__v,i.__.__k[i.__i]=i,cc(o,i,s),t.__e=t.__=null,i.__e!=n&&ac(i)));In.__r=0}function uc(e,r,i,t,n,o,s,a,u,l,f){var c,d,g,v,_,m,y,w=t&&t.__k||sc,S=r.length;for(u=xm(i,r,w,u,S),c=0;c<S;c++)(g=i.__k[c])!=null&&(d=g.__i==-1?si:w[g.__i]||si,g.__i=c,m=Fs(e,g,d,n,o,s,a,u,l,f),v=g.__e,g.ref&&d.ref!=g.ref&&(d.ref&&Bs(d.ref,null,g),f.push(g.ref,g.__c||v,g)),_==null&&v!=null&&(_=v),(y=!!(4&g.__u))||d.__k===g.__k?u=lc(g,u,e,y):typeof g.type=="function"&&m!==void 0?u=m:v&&(u=v.nextSibling),g.__u&=-7);return i.__e=_,u}function xm(e,r,i,t,n){var o,s,a,u,l,f=i.length,c=f,d=0;for(e.__k=new Array(n),o=0;o<n;o++)(s=r[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?s=e.__k[o]=oi(null,s,null,null,null):ui(s)?s=e.__k[o]=oi(lt,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?s=e.__k[o]=oi(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):e.__k[o]=s,u=o+d,s.__=e,s.__b=e.__b+1,a=null,(l=s.__i=Cm(s,i,u,c))!=-1&&(c--,(a=i[l])&&(a.__u|=2)),a==null||a.__v==null?(l==-1&&(n>f?d--:n<f&&d++),typeof s.type!="function"&&(s.__u|=4)):l!=u&&(l==u-1?d--:l==u+1?d++:(l>u?d--:d++,s.__u|=4))):e.__k[o]=null;if(c)for(o=0;o<f;o++)(a=i[o])!=null&&(2&a.__u)==0&&(a.__e==t&&(t=Sr(a)),dc(a,a));return t}function lc(e,r,i,t){var n,o;if(typeof e.type=="function"){for(n=e.__k,o=0;n&&o<n.length;o++)n[o]&&(n[o].__=e,r=lc(n[o],r,i,t));return r}e.__e!=r&&(t&&(r&&e.type&&!r.parentNode&&(r=Sr(e)),i.insertBefore(e.__e,r||null)),r=e.__e);do r=r&&r.nextSibling;while(r!=null&&r.nodeType==8);return r}function vt(e,r){return r=r||[],e==null||typeof e=="boolean"||(ui(e)?e.some(function(i){vt(i,r)}):r.push(e)),r}function Cm(e,r,i,t){var n,o,s,a=e.key,u=e.type,l=r[i],f=l!=null&&(2&l.__u)==0;if(l===null&&a==null||f&&a==l.key&&u==l.type)return i;if(t>(f?1:0)){for(n=i-1,o=i+1;n>=0||o<r.length;)if((l=r[s=n>=0?n--:o++])!=null&&(2&l.__u)==0&&a==l.key&&u==l.type)return s}return-1}function Ql(e,r,i){r[0]=="-"?e.setProperty(r,i??""):e[r]=i==null?"":typeof i!="number"||Sm.test(r)?i:i+"px"}function kn(e,r,i,t,n){var o,s;e:if(r=="style")if(typeof i=="string")e.style.cssText=i;else{if(typeof t=="string"&&(e.style.cssText=t=""),t)for(r in t)i&&r in i||Ql(e.style,r,"");if(i)for(r in i)t&&i[r]==t[r]||Ql(e.style,r,i[r])}else if(r[0]=="o"&&r[1]=="n")o=r!=(r=r.replace(nc,"$1")),s=r.toLowerCase(),r=s in e||r=="onFocusOut"||r=="onFocusIn"?s.slice(2):r.slice(2),e.l||(e.l={}),e.l[r+o]=i,i?t?i.u=t.u:(i.u=$s,e.addEventListener(r,o?Ps:Ms,o)):e.removeEventListener(r,o?Ps:Ms,o);else{if(n=="http://www.w3.org/2000/svg")r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(r!="width"&&r!="height"&&r!="href"&&r!="list"&&r!="form"&&r!="tabIndex"&&r!="download"&&r!="rowSpan"&&r!="colSpan"&&r!="role"&&r!="popover"&&r in e)try{e[r]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&r[4]!="-"?e.removeAttribute(r):e.setAttribute(r,r=="popover"&&i==1?"":i))}}function ec(e){return function(r){if(this.l){var i=this.l[r.type+e];if(r.t==null)r.t=$s++;else if(r.t<i.u)return;return i(H.event?H.event(r):r)}}}function Fs(e,r,i,t,n,o,s,a,u,l){var f,c,d,g,v,_,m,y,w,S,C,x,I,E,P,O,T,M=r.type;if(r.constructor!==void 0)return null;128&i.__u&&(u=!!(32&i.__u),o=[a=r.__e=i.__e]),(f=H.__b)&&f(r);e:if(typeof M=="function")try{if(y=r.props,w="prototype"in M&&M.prototype.render,S=(f=M.contextType)&&t[f.__c],C=f?S?S.props.value:f.__:t,i.__c?m=(c=r.__c=i.__c).__=c.__E:(w?r.__c=c=new M(y,C):(r.__c=c=new tt(y,C),c.constructor=M,c.render=Im),S&&S.sub(c),c.state||(c.state={}),c.__n=t,d=c.__d=!0,c.__h=[],c._sb=[]),w&&c.__s==null&&(c.__s=c.state),w&&M.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=pt({},c.__s)),pt(c.__s,M.getDerivedStateFromProps(y,c.__s))),g=c.props,v=c.state,c.__v=r,d)w&&M.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),w&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(w&&M.getDerivedStateFromProps==null&&y!==g&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(y,C),r.__v==i.__v||!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(y,c.__s,C)===!1){for(r.__v!=i.__v&&(c.props=y,c.state=c.__s,c.__d=!1),r.__e=i.__e,r.__k=i.__k,r.__k.some(function($){$&&($.__=r)}),x=0;x<c._sb.length;x++)c.__h.push(c._sb[x]);c._sb=[],c.__h.length&&s.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(y,c.__s,C),w&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(g,v,_)})}if(c.context=C,c.props=y,c.__P=e,c.__e=!1,I=H.__r,E=0,w){for(c.state=c.__s,c.__d=!1,I&&I(r),f=c.render(c.props,c.state,c.context),P=0;P<c._sb.length;P++)c.__h.push(c._sb[P]);c._sb=[]}else do c.__d=!1,I&&I(r),f=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++E<25);c.state=c.__s,c.getChildContext!=null&&(t=pt(pt({},t),c.getChildContext())),w&&!d&&c.getSnapshotBeforeUpdate!=null&&(_=c.getSnapshotBeforeUpdate(g,v)),O=f,f!=null&&f.type===lt&&f.key==null&&(O=fc(f.props.children)),a=uc(e,ui(O)?O:[O],r,i,t,n,o,s,a,u,l),c.base=r.__e,r.__u&=-161,c.__h.length&&s.push(c),m&&(c.__E=c.__=null)}catch($){if(r.__v=null,u||o!=null)if($.then){for(r.__u|=u?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,r.__e=a}else{for(T=o.length;T--;)Ds(o[T]);Rs(r)}else r.__e=i.__e,r.__k=i.__k,$.then||Rs(r);H.__e($,r,i)}else o==null&&r.__v==i.__v?(r.__k=i.__k,r.__e=i.__e):a=r.__e=km(i.__e,r,i,t,n,o,s,u,l);return(f=H.diffed)&&f(r),128&r.__u?void 0:a}function Rs(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Rs)}function cc(e,r,i){for(var t=0;t<i.length;t++)Bs(i[t],i[++t],i[++t]);H.__c&&H.__c(r,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(o){o.call(n)})}catch(o){H.__e(o,n.__v)}})}function fc(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:ui(e)?e.map(fc):pt({},e)}function km(e,r,i,t,n,o,s,a,u){var l,f,c,d,g,v,_,m=i.props||si,y=r.props,w=r.type;if(w=="svg"?n="http://www.w3.org/2000/svg":w=="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),o!=null){for(l=0;l<o.length;l++)if((g=o[l])&&"setAttribute"in g==!!w&&(w?g.localName==w:g.nodeType==3)){e=g,o[l]=null;break}}if(e==null){if(w==null)return document.createTextNode(y);e=document.createElementNS(n,w,y.is&&y),a&&(H.__m&&H.__m(r,o),a=!1),o=null}if(w==null)m===y||a&&e.data==y||(e.data=y);else{if(o=o&&ai.call(e.childNodes),!a&&o!=null)for(m={},l=0;l<e.attributes.length;l++)m[(g=e.attributes[l]).name]=g.value;for(l in m)if(g=m[l],l!="children"){if(l=="dangerouslySetInnerHTML")c=g;else if(!(l in y)){if(l=="value"&&"defaultValue"in y||l=="checked"&&"defaultChecked"in y)continue;kn(e,l,null,g,n)}}for(l in y)g=y[l],l=="children"?d=g:l=="dangerouslySetInnerHTML"?f=g:l=="value"?v=g:l=="checked"?_=g:a&&typeof g!="function"||m[l]===g||kn(e,l,g,m[l],n);if(f)a||c&&(f.__html==c.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),r.__k=[];else if(c&&(e.innerHTML=""),uc(r.type=="template"?e.content:e,ui(d)?d:[d],r,i,t,w=="foreignObject"?"http://www.w3.org/1999/xhtml":n,o,s,o?o[0]:i.__k&&Sr(i,0),a,u),o!=null)for(l=o.length;l--;)Ds(o[l]);a||(l="value",w=="progress"&&v==null?e.removeAttribute("value"):v!=null&&(v!==e[l]||w=="progress"&&!v||w=="option"&&v!=m[l])&&kn(e,l,v,m[l],n),l="checked",_!=null&&_!=e[l]&&kn(e,l,_,m[l],n))}return e}function Bs(e,r,i){try{if(typeof e=="function"){var t=typeof e.__u=="function";t&&e.__u(),t&&r==null||(e.__u=e(r))}else e.current=r}catch(n){H.__e(n,i)}}function dc(e,r,i){var t,n;if(H.unmount&&H.unmount(e),(t=e.ref)&&(t.current&&t.current!=e.__e||Bs(t,null,r)),(t=e.__c)!=null){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(o){H.__e(o,r)}t.base=t.__P=null}if(t=e.__k)for(n=0;n<t.length;n++)t[n]&&dc(t[n],r,i||typeof e.type!="function");i||Ds(e.__e),e.__c=e.__=e.__e=void 0}function Im(e,r,i){return this.constructor(e,i)}function xr(e,r,i){var t,n,o,s;r==document&&(r=document.documentElement),H.__&&H.__(e,r),n=(t=typeof i=="function")?null:i&&i.__k||r.__k,o=[],s=[],Fs(r,e=(!t&&i||r).__k=ut(lt,null,[e]),n||si,si,r.namespaceURI,!t&&i?[i]:n?null:r.firstChild?ai.call(r.childNodes):null,o,!t&&i?i:n?n.__e:r.firstChild,t,s),cc(o,e,s)}function Us(e,r){xr(e,r,Us)}function hc(e,r,i){var t,n,o,s,a=pt({},e.props);for(o in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),r)o=="key"?t=r[o]:o=="ref"?n=r[o]:a[o]=r[o]===void 0&&s!=null?s[o]:r[o];return arguments.length>2&&(a.children=arguments.length>3?ai.call(arguments,2):i),oi(e.type,a,t||e.key,n||e.ref,null)}function js(e){function r(i){var t,n;return this.getChildContext||(t=new Set,(n={})[r.__c]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){t=null},this.shouldComponentUpdate=function(o){this.props.value!=o.value&&t.forEach(function(s){s.__e=!0,Ts(s)})},this.sub=function(o){t.add(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){t&&t.delete(o),s&&s.call(o)}}),i.children}return r.__c="__cC"+oc++,r.__=e,r.Provider=r.__l=(r.Consumer=function(i,t){return i.children(t)}).contextType=r,r}ai=sc.slice,H={__e:function(e,r,i,t){for(var n,o,s;r=r.__;)if((n=r.__c)&&!n.__)try{if((o=n.constructor)&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(e)),s=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(e,t||{}),s=n.__d),s)return n.__E=n}catch(a){e=a}throw e}},tc=0,wm=function(e){return e!=null&&e.constructor===void 0},tt.prototype.setState=function(e,r){var i;i=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=pt({},this.state),typeof e=="function"&&(e=e(pt({},i),this.props)),e&&pt(i,e),e!=null&&this.__v&&(r&&this._sb.push(r),Ts(this))},tt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ts(this))},tt.prototype.render=lt,ur=[],rc=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ic=function(e,r){return e.__v.__b-r.__v.__b},In.__r=0,nc=/(PointerCapture)$|Capture$/i,$s=0,Ms=ec(!1),Ps=ec(!0),oc=0;var Ut,pe,zs,pc,Cr=0,Sc=[],Ee=H,vc=Ee.__b,mc=Ee.__r,gc=Ee.diffed,yc=Ee.__c,_c=Ee.unmount,bc=Ee.__;function kr(e,r){Ee.__h&&Ee.__h(pe,e,Cr||r),Cr=0;var i=pe.__H||(pe.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function U(e){return Cr=1,On(xc,e)}function On(e,r,i){var t=kr(Ut++,2);if(t.t=e,!t.__c&&(t.__=[i?i(r):xc(void 0,r),function(a){var u=t.__N?t.__N[0]:t.__[0],l=t.t(u,a);u!==l&&(t.__N=[l,t.__[1]],t.__c.setState({}))}],t.__c=pe,!pe.__f)){var n=function(a,u,l){if(!t.__c.__H)return!0;var f=t.__c.__H.__.filter(function(d){return!!d.__c});if(f.every(function(d){return!d.__N}))return!o||o.call(this,a,u,l);var c=t.__c.props!==a;return f.forEach(function(d){if(d.__N){var g=d.__[0];d.__=d.__N,d.__N=void 0,g!==d.__[0]&&(c=!0)}}),o&&o.call(this,a,u,l)||c};pe.__f=!0;var o=pe.shouldComponentUpdate,s=pe.componentWillUpdate;pe.componentWillUpdate=function(a,u,l){if(this.__e){var f=o;o=void 0,n(a,u,l),o=f}s&&s.call(this,a,u,l)},pe.shouldComponentUpdate=n}return t.__N||t.__}function ze(e,r){var i=kr(Ut++,3);!Ee.__s&&Ks(i.__H,r)&&(i.__=e,i.u=r,pe.__H.__h.push(i))}function Ir(e,r){var i=kr(Ut++,4);!Ee.__s&&Ks(i.__H,r)&&(i.__=e,i.u=r,pe.__h.push(i))}function Ae(e){return Cr=5,Ot(function(){return{current:e}},[])}function Vs(e,r,i){Cr=6,Ir(function(){if(typeof e=="function"){var t=e(r());return function(){e(null),t&&typeof t=="function"&&t()}}if(e)return e.current=r(),function(){return e.current=null}},i==null?i:i.concat(e))}function Ot(e,r){var i=kr(Ut++,7);return Ks(i.__H,r)&&(i.__=e(),i.__H=r,i.__h=e),i.__}function je(e,r){return Cr=8,Ot(function(){return e},r)}function qs(e){var r=pe.context[e.__c],i=kr(Ut++,9);return i.c=e,r?(i.__==null&&(i.__=!0,r.sub(pe)),r.props.value):e.__}function Gs(e,r){Ee.useDebugValue&&Ee.useDebugValue(r?r(e):e)}function Hs(){var e=kr(Ut++,11);if(!e.__){for(var r=pe.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;var i=r.__m||(r.__m=[0,0]);e.__="P"+i[0]+"-"+i[1]++}return e.__}function Em(){for(var e;e=Sc.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(En),e.__H.__h.forEach(Ws),e.__H.__h=[]}catch(r){e.__H.__h=[],Ee.__e(r,e.__v)}}Ee.__b=function(e){pe=null,vc&&vc(e)},Ee.__=function(e,r){e&&r.__k&&r.__k.__m&&(e.__m=r.__k.__m),bc&&bc(e,r)},Ee.__r=function(e){mc&&mc(e),Ut=0;var r=(pe=e.__c).__H;r&&(zs===pe?(r.__h=[],pe.__h=[],r.__.forEach(function(i){i.__N&&(i.__=i.__N),i.u=i.__N=void 0})):(r.__h.forEach(En),r.__h.forEach(Ws),r.__h=[],Ut=0)),zs=pe},Ee.diffed=function(e){gc&&gc(e);var r=e.__c;r&&r.__H&&(r.__H.__h.length&&(Sc.push(r)!==1&&pc===Ee.requestAnimationFrame||((pc=Ee.requestAnimationFrame)||Om)(Em)),r.__H.__.forEach(function(i){i.u&&(i.__H=i.u),i.u=void 0})),zs=pe=null},Ee.__c=function(e,r){r.some(function(i){try{i.__h.forEach(En),i.__h=i.__h.filter(function(t){return!t.__||Ws(t)})}catch(t){r.some(function(n){n.__h&&(n.__h=[])}),r=[],Ee.__e(t,i.__v)}}),yc&&yc(e,r)},Ee.unmount=function(e){_c&&_c(e);var r,i=e.__c;i&&i.__H&&(i.__H.__.forEach(function(t){try{En(t)}catch(n){r=n}}),i.__H=void 0,r&&Ee.__e(r,i.__v))};var wc=typeof requestAnimationFrame=="function";function Om(e){var r,i=function(){clearTimeout(t),wc&&cancelAnimationFrame(r),setTimeout(e)},t=setTimeout(i,35);wc&&(r=requestAnimationFrame(i))}function En(e){var r=pe,i=e.__c;typeof i=="function"&&(e.__c=void 0,i()),pe=r}function Ws(e){var r=pe;e.__c=e.__(),pe=r}function Ks(e,r){return!e||e.length!==r.length||r.some(function(i,t){return i!==e[t]})}function xc(e,r){return typeof r=="function"?r(e):r}function Pc(e,r){for(var i in r)e[i]=r[i];return e}function Js(e,r){for(var i in e)if(i!=="__source"&&!(i in r))return!0;for(var t in r)if(t!=="__source"&&e[t]!==r[t])return!0;return!1}function Tc(e,r){var i=r(),t=U({t:{__:i,u:r}}),n=t[0].t,o=t[1];return Ir(function(){n.__=i,n.u=r,Ys(n)&&o({t:n})},[e,i,r]),ze(function(){return Ys(n)&&o({t:n}),e(function(){Ys(n)&&o({t:n})})},[e]),i}function Ys(e){var r,i,t=e.u,n=e.__;try{var o=t();return!((r=n)===(i=o)&&(r!==0||1/r==1/i)||r!=r&&i!=i)}catch{return!0}}function Rc(e){e()}function $c(e){return e}function Dc(){return[!1,Rc]}var Lc=Ir;function Xs(e,r){this.props=e,this.context=r}function Am(e,r){function i(n){var o=this.props.ref,s=o==n.ref;return!s&&o&&(o.call?o(null):o.current=null),r?!r(this.props,n)||!s:Js(this.props,n)}function t(n){return this.shouldComponentUpdate=i,ut(e,n)}return t.displayName="Memo("+(e.displayName||e.name)+")",t.prototype.isReactComponent=!0,t.__f=!0,t.type=e,t}(Xs.prototype=new tt).isPureReactComponent=!0,Xs.prototype.shouldComponentUpdate=function(e,r){return Js(this.props,e)||Js(this.state,r)};var Cc=H.__b;H.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Cc&&Cc(e)};var Nm=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Mm(e){function r(i){var t=Pc({},i);return delete t.ref,e(t,i.ref||null)}return r.$$typeof=Nm,r.render=e,r.prototype.isReactComponent=r.__f=!0,r.displayName="ForwardRef("+(e.displayName||e.name)+")",r}var kc=function(e,r){return e==null?null:vt(vt(e).map(r))},Pm={map:kc,forEach:kc,count:function(e){return e?vt(e).length:0},only:function(e){var r=vt(e);if(r.length!==1)throw"Children.only";return r[0]},toArray:vt},Tm=H.__e;H.__e=function(e,r,i,t){if(e.then){for(var n,o=r;o=o.__;)if((n=o.__c)&&n.__c)return r.__e==null&&(r.__e=i.__e,r.__k=i.__k),n.__c(e,r)}Tm(e,r,i,t)};var Ic=H.unmount;function Fc(e,r,i){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(t){typeof t.__c=="function"&&t.__c()}),e.__c.__H=null),(e=Pc({},e)).__c!=null&&(e.__c.__P===i&&(e.__c.__P=r),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(t){return Fc(t,r,i)})),e}function Bc(e,r,i){return e&&i&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(t){return Bc(t,r,i)}),e.__c&&e.__c.__P===r&&(e.__e&&i.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=i)),e}function An(){this.__u=0,this.o=null,this.__b=null}function Uc(e){if(!e.__)return null;var r=e.__.__c;return r&&r.__a&&r.__a(e)}function Rm(e){var r,i,t,n=null;function o(s){if(r||(r=e()).then(function(a){a&&(n=a.default||a),t=!0},function(a){i=a,t=!0}),i)throw i;if(!t)throw r;return n?ut(n,s):null}return o.displayName="Lazy",o.__f=!0,o}function li(){this.i=null,this.l=null}H.unmount=function(e){var r=e.__c;r&&(r.__z=!0),r&&r.__R&&r.__R(),r&&32&e.__u&&(e.type=null),Ic&&Ic(e)},(An.prototype=new tt).__c=function(e,r){var i=r.__c,t=this;t.o==null&&(t.o=[]),t.o.push(i);var n=Uc(t.__v),o=!1,s=function(){o||t.__z||(o=!0,i.__R=null,n?n(u):u())};i.__R=s;var a=i.__P;i.__P=null;var u=function(){if(!--t.__u){if(t.state.__a){var l=t.state.__a;t.__v.__k[0]=Bc(l,l.__c.__P,l.__c.__O)}var f;for(t.setState({__a:t.__b=null});f=t.o.pop();)f.__P=a,f.forceUpdate()}};t.__u++||32&r.__u||t.setState({__a:t.__b=t.__v.__k[0]}),e.then(s,s)},An.prototype.componentWillUnmount=function(){this.o=[]},An.prototype.render=function(e,r){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),t=this.__v.__k[0].__c;this.__v.__k[0]=Fc(this.__b,i,t.__O=t.__P)}this.__b=null}var n=r.__a&&ut(lt,null,e.fallback);return n&&(n.__u&=-33),[ut(lt,null,r.__a?null:e.children),n]};var Ec=function(e,r,i){if(++i[1]===i[0]&&e.l.delete(r),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(i=e.i;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;e.i=i=i[2]}};function $m(e){return this.getChildContext=function(){return e.context},e.children}function Dm(e){var r=this,i=e.h;if(r.componentWillUnmount=function(){xr(null,r.v),r.v=null,r.h=null},r.h&&r.h!==i&&r.componentWillUnmount(),!r.v){for(var t=r.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;r.h=i,r.v={nodeType:1,parentNode:i,childNodes:[],__k:{__m:t.__m},contains:function(){return!0},namespaceURI:i.namespaceURI,insertBefore:function(n,o){this.childNodes.push(n),r.h.insertBefore(n,o)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),r.h.removeChild(n)}}}xr(ut($m,{context:r.context},e.__v),r.v)}function Lm(e,r){var i=ut(Dm,{__v:e,h:r});return i.containerInfo=r,i}(li.prototype=new tt).__a=function(e){var r=this,i=Uc(r.__v),t=r.l.get(e);return t[0]++,function(n){var o=function(){r.props.revealOrder?(t.push(n),Ec(r,e,t)):n()};i?i(o):o()}},li.prototype.render=function(e){this.i=null,this.l=new Map;var r=vt(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&r.reverse();for(var i=r.length;i--;)this.l.set(r[i],this.i=[1,0,this.i]);return e.children},li.prototype.componentDidUpdate=li.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(r,i){Ec(e,i,r)})};var jc=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Fm=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Bm=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Um=/[A-Z0-9]/g,jm=typeof document<"u",zm=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function Zs(e,r,i){return r.__k==null&&(r.textContent=""),xr(e,r),typeof i=="function"&&i(),e?e.__c:null}function zc(e,r,i){return Us(e,r),typeof i=="function"&&i(),e?e.__c:null}tt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(tt.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(r){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:r})}})});var Oc=H.event;function Wm(){}function Vm(){return this.cancelBubble}function qm(){return this.defaultPrevented}H.event=function(e){return Oc&&(e=Oc(e)),e.persist=Wm,e.isPropagationStopped=Vm,e.isDefaultPrevented=qm,e.nativeEvent=e};var Qs,Gm={enumerable:!1,configurable:!0,get:function(){return this.class}},Ac=H.vnode;H.vnode=function(e){typeof e.type=="string"&&(function(r){var i=r.props,t=r.type,n={},o=t.indexOf("-")===-1;for(var s in i){var a=i[s];if(!(s==="value"&&"defaultValue"in i&&a==null||jm&&s==="children"&&t==="noscript"||s==="class"||s==="className")){var u=s.toLowerCase();s==="defaultValue"&&"value"in i&&i.value==null?s="value":s==="download"&&a===!0?a="":u==="translate"&&a==="no"?a=!1:u[0]==="o"&&u[1]==="n"?u==="ondoubleclick"?s="ondblclick":u!=="onchange"||t!=="input"&&t!=="textarea"||zm(i.type)?u==="onfocus"?s="onfocusin":u==="onblur"?s="onfocusout":Bm.test(s)&&(s=u):u=s="oninput":o&&Fm.test(s)?s=s.replace(Um,"-$&").toLowerCase():a===null&&(a=void 0),u==="oninput"&&n[s=u]&&(s="oninputCapture"),n[s]=a}}t=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=vt(i.children).forEach(function(l){l.props.selected=n.value.indexOf(l.props.value)!=-1})),t=="select"&&n.defaultValue!=null&&(n.value=vt(i.children).forEach(function(l){l.props.selected=n.multiple?n.defaultValue.indexOf(l.props.value)!=-1:n.defaultValue==l.props.value})),i.class&&!i.className?(n.class=i.class,Object.defineProperty(n,"className",Gm)):(i.className&&!i.class||i.class&&i.className)&&(n.class=n.className=i.className),r.props=n})(e),e.$$typeof=jc,Ac&&Ac(e)};var Nc=H.__r;H.__r=function(e){Nc&&Nc(e),Qs=e.__c};var Mc=H.diffed;H.diffed=function(e){Mc&&Mc(e);var r=e.props,i=e.__e;i!=null&&e.type==="textarea"&&"value"in r&&r.value!==i.value&&(i.value=r.value==null?"":r.value),Qs=null};var Hm={ReactCurrentDispatcher:{current:{readContext:function(e){return Qs.__n[e.__c].props.value},useCallback:je,useContext:qs,useDebugValue:Gs,useDeferredValue:$c,useEffect:ze,useId:Hs,useImperativeHandle:Vs,useInsertionEffect:Lc,useLayoutEffect:Ir,useMemo:Ot,useReducer:On,useRef:Ae,useState:U,useSyncExternalStore:Tc,useTransition:Dc}}};function Km(e){return ut.bind(null,e)}function Nn(e){return!!e&&e.$$typeof===jc}function Ym(e){return Nn(e)&&e.type===lt}function Jm(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function Xm(e){return Nn(e)?hc.apply(null,arguments):e}function ea(e){return!!e.__k&&(xr(null,e),!0)}function Zm(e){return e&&(e.base||e.nodeType===1&&e)||null}var Qm=function(e,r){return e(r)},eg=function(e,r){return e(r)},tg=lt,rg=Nn,b={useState:U,useId:Hs,useReducer:On,useEffect:ze,useLayoutEffect:Ir,useInsertionEffect:Lc,useTransition:Dc,useDeferredValue:$c,useSyncExternalStore:Tc,startTransition:Rc,useRef:Ae,useImperativeHandle:Vs,useMemo:Ot,useCallback:je,useContext:qs,useDebugValue:Gs,version:"18.3.1",Children:Pm,render:Zs,hydrate:zc,unmountComponentAtNode:ea,createPortal:Lm,createElement:ut,createContext:js,createFactory:Km,cloneElement:Xm,createRef:Ls,Fragment:lt,isValidElement:Nn,isElement:rg,isFragment:Ym,isMemo:Jm,findDOMNode:Zm,Component:tt,PureComponent:Xs,memo:Am,forwardRef:Mm,flushSync:eg,unstable_batchedUpdates:Qm,StrictMode:tg,Suspense:An,SuspenseList:li,lazy:Rm,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Hm};function Er(e){return{render:function(r){Zs(r,e)},unmount:function(){ea(e)}}}var A;typeof window>"u"?(ta={hostname:""},A={crypto:{randomUUID:function(){throw Error("unsupported")}},navigator:{userAgent:"",onLine:!0},document:{createElement:function(){return{}},location:ta,referrer:""},screen:{width:0,height:0},location:ta,addEventListener:function(){},removeEventListener:function(){},dispatchEvent:function(){},CustomEvent:function(){}}):A=window;var ta;function Wc(e,r){(r==null||r>e.length)&&(r=e.length);for(var i=0,t=new Array(r);i<r;i++)t[i]=e[i];return t}function Vc(e,r,i,t,n,o,s){try{var a=e[o](s),u=a.value}catch(l){i(l);return}a.done?r(u):Promise.resolve(u).then(t,n)}function es(e){return function(){var r=this,i=arguments;return new Promise(function(t,n){var o=e.apply(r,i);function s(u){Vc(o,t,n,s,a,"next",u)}function a(u){Vc(o,t,n,s,a,"throw",u)}s(void 0)})}}function po(e,r,i){return Pd()?po=Reflect.construct:po=function(n,o,s){var a=[null];a.push.apply(a,o);var u=Function.bind.apply(n,a),l=new u;return s&&ki(l,s.prototype),l},po.apply(null,arguments)}function ig(e,r){for(var i=0;i<r.length;i++){var t=r[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _e(e,r,i){return r&&ig(e.prototype,r),e}function Y(){return Y=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},Y.apply(this,arguments)}function Na(e){return Na=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},Na(e)}function be(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ki(e,r)}function L(e,r){return r!=null&&typeof Symbol<"u"&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](e):e instanceof r}function ng(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function cr(e,r){if(e==null)return{};var i={},t=Object.keys(e),n,o;for(o=0;o<t.length;o++)n=t[o],!(r.indexOf(n)>=0)&&(i[n]=e[n]);return i}function ki(e,r){return ki=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},ki(e,r)}function F(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}function og(e,r){if(e){if(typeof e=="string")return Wc(e,r);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(i);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Wc(e,r)}}function Ii(e){var r=typeof Map=="function"?new Map:void 0;return Ii=function(t){if(t===null||!ng(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return po(t,arguments,Na(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ki(n,t)},Ii(e)}function Pd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pd=function(){return!!e})()}function N(e,r){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=og(e))||r){i&&(e=i);var t=0;return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fr(e,r){var i,t,n,o,s={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(f){return u([l,f])}}function u(l){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,t&&(n=l[0]&2?t.return:l[0]?t.throw||((n=t.return)&&n.call(t),0):t.next)&&!(n=n.call(t,l[1])).done)return n;switch(t=0,n&&(l=[l[0]&2,n.value]),l[0]){case 0:case 1:n=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,t=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(n=s.trys,!(n=n.length>0&&n[n.length-1])&&(l[0]===6||l[0]===2)){s=0;continue}if(l[0]===3&&(!n||l[1]>n[0]&&l[1]<n[3])){s.label=l[1];break}if(l[0]===6&&s.label<n[1]){s.label=n[1],n=l;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(l);break}n[2]&&s.ops.pop(),s.trys.pop();continue}l=r.call(e,s)}catch(f){l=[6,f],t=0}finally{i=n=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function zu(e){var r=typeof Symbol=="function"&&Symbol.iterator,i=r&&e[r],t=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var sg=Object.defineProperty,ag=function(e,r,i){return r in e?sg(e,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[r]=i},R=function(e,r,i){return ag(e,(typeof r>"u"?"undefined":F(r))!=="symbol"?r+"":r,i)},qc,ug=Object.defineProperty,lg=function(e,r,i){return r in e?ug(e,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[r]=i},Gc=function(e,r,i){return lg(e,(typeof r>"u"?"undefined":F(r))!=="symbol"?r+"":r,i)},Be=(function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e})(Be||{}),Hc={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Kc={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Mn={},cg=function(){return!!globalThis.Zone};function Wu(e){if(Mn[e])return Mn[e];var r=globalThis[e],i=r.prototype,t=e in Hc?Hc[e]:void 0,n=!!(t&&t.every(function(f){var c,d;return!!((d=(c=Object.getOwnPropertyDescriptor(i,f))==null?void 0:c.get)!=null&&d.toString().includes("[native code]"))})),o=e in Kc?Kc[e]:void 0,s=!!(o&&o.every(function(f){var c;return typeof i[f]=="function"&&((c=i[f])==null?void 0:c.toString().includes("[native code]"))}));if(n&&s&&!cg())return Mn[e]=r.prototype,r.prototype;try{var a=document.createElement("iframe");document.body.appendChild(a);var u=a.contentWindow;if(!u)return r.prototype;var l=u[e].prototype;return document.body.removeChild(a),l?Mn[e]=l:i}catch{return i}}var ra={};function Ht(e,r,i){var t,n=e+"."+String(i);if(ra[n])return ra[n].call(r);var o=Wu(e),s=(t=Object.getOwnPropertyDescriptor(o,i))==null?void 0:t.get;return s?(ra[n]=s,s.call(r)):r[i]}var ia={};function Td(e,r,i){var t=e+"."+String(i);if(ia[t])return ia[t].bind(r);var n=Wu(e),o=n[i];return typeof o!="function"?r[i]:(ia[t]=o,o.bind(r))}function fg(e){return Ht("Node",e,"childNodes")}function dg(e){return Ht("Node",e,"parentNode")}function hg(e){return Ht("Node",e,"parentElement")}function pg(e){return Ht("Node",e,"textContent")}function vg(e,r){return Td("Node",e,"contains")(r)}function mg(e){return Td("Node",e,"getRootNode")()}function gg(e){return!e||!("host"in e)?null:Ht("ShadowRoot",e,"host")}function yg(e){return e.styleSheets}function _g(e){return!e||!("shadowRoot"in e)?null:Ht("Element",e,"shadowRoot")}function bg(e,r){return Ht("Element",e,"querySelector")(r)}function wg(e,r){return Ht("Element",e,"querySelectorAll")(r)}function Sg(){return Wu("MutationObserver").constructor}function xg(e,r,i){try{if(!(r in e))return function(){};var t=e[r],n=i(t);return typeof n=="function"&&(n.prototype=n.prototype||{},Object.defineProperties(n,{__rrweb_original__:{enumerable:!1,value:t}})),e[r]=n,function(){e[r]=t}}catch{return function(){}}}var Ve={childNodes:fg,parentNode:dg,parentElement:hg,textContent:pg,contains:vg,getRootNode:mg,host:gg,styleSheets:yg,shadowRoot:_g,querySelector:bg,querySelectorAll:wg,mutationObserver:Sg,patch:xg};function Rd(e){return e.nodeType===e.ELEMENT_NODE}function yi(e){var r=e&&"host"in e&&"mode"in e&&Ve.host(e)||null;return!!(r&&"shadowRoot"in r&&Ve.shadowRoot(r)===e)}function _i(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Cg(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function kg(e){var r=e.cssText;if(r.split('"').length<3)return r;var i=["@import","url("+JSON.stringify(e.href)+")"];return e.layerName===""?i.push("layer"):e.layerName&&i.push("layer("+e.layerName+")"),e.supportsText&&i.push("supports("+e.supportsText+")"),e.media.length&&i.push(e.media.mediaText),i.join(" ")+";"}function Ma(e){try{var r=e.rules||e.cssRules;if(!r)return null;var i=e.href;!i&&e.ownerNode&&e.ownerNode.ownerDocument&&(i=e.ownerNode.ownerDocument.location.href);var t=Array.from(r,function(n){return $d(n,i)}).join("");return Cg(t)}catch{return null}}function $d(e,r){if(Eg(e)){var i;try{i=Ma(e.styleSheet)||kg(e)}catch{i=e.cssText}return e.styleSheet.href?ko(i,e.styleSheet.href):i}else{var t=e.cssText;return Og(e)&&e.selectorText.includes(":")&&(t=Ig(t)),r?ko(t,r):t}}function Ig(e){var r=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(r,"$1\\$2")}function Eg(e){return"styleSheet"in e}function Og(e){return"selectorText"in e}var Dd=(function(){function e(){Gc(this,"idNodeMap",new Map),Gc(this,"nodeMetaMap",new WeakMap)}var r=e.prototype;return r.getId=function(t){var n;if(!t)return-1;var o=(n=this.getMeta(t))==null?void 0:n.id;return o??-1},r.getNode=function(t){return this.idNodeMap.get(t)||null},r.getIds=function(){return Array.from(this.idNodeMap.keys())},r.getMeta=function(t){return this.nodeMetaMap.get(t)||null},r.removeNodeFromMap=function(t){var n=this,o=this.getId(t);this.idNodeMap.delete(o),t.childNodes&&t.childNodes.forEach(function(s){return n.removeNodeFromMap(s)})},r.has=function(t){return this.idNodeMap.has(t)},r.hasNode=function(t){return this.nodeMetaMap.has(t)},r.add=function(t,n){var o=n.id;this.idNodeMap.set(o,t),this.nodeMetaMap.set(t,n)},r.replace=function(t,n){var o=this.getNode(t);if(o){var s=this.nodeMetaMap.get(o);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)},r.reset=function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap},e})();function Ag(){return new Dd}function xo(e){var r=e.element,i=e.maskInputOptions,t=e.tagName,n=e.type,o=e.value,s=e.maskInputFn,a=o||"",u=n&&dr(n);return(i[t.toLowerCase()]||u&&i[u])&&(s?a=s(a,r):a="*".repeat(a.length)),a}function dr(e){return e.toLowerCase()}var Yc="__rrweb_original__";function Ng(e){var r=e.getContext("2d");if(!r)return!0;for(var i=50,t=0;t<e.width;t+=i)for(var n=0;n<e.height;n+=i){var o=r.getImageData,s=Yc in o?o[Yc]:o,a=new Uint32Array(s.call(r,t,n,Math.min(i,e.width-t),Math.min(i,e.height-n)).data.buffer);if(a.some(function(u){return u!==0}))return!1}return!0}function Co(e){var r=e.type;return e.hasAttribute("data-rr-is-password")?"password":r?dr(r):null}function Ld(e,r){var i;try{i=new URL(e,r??window.location.href)}catch{return null}var t=/\.([0-9a-z]+)(?:$)/i,n=i.pathname.match(t),o;return(o=n?.[1])!=null?o:null}function Mg(e){var r="";return e.indexOf("//")>-1?r=e.split("/").slice(0,3).join("/"):r=e.split("/")[0],r=r.split("?")[0],r}var Pg=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Tg=/^(?:[a-z+]+:)?\/\//i,Rg=/^www\..*/i,$g=/^(data:)([^,]*),(.*)/i;function ko(e,r){return(e||"").replace(Pg,function(i,t,n,o,s,a){var u=n||s||a,l=t||o||"";if(!u)return i;if(Tg.test(u)||Rg.test(u)||$g.test(u))return"url("+l+u+l+")";if(u[0]==="/")return"url("+l+(Mg(r)+u)+l+")";var f=r.split("/"),c=u.split("/");f.pop();for(var d=N(c),g;!(g=d()).done;){var v=g.value;v!=="."&&(v===".."?f.pop():f.push(v))}return"url("+l+f.join("/")+l+")"})}function Pn(e,r){return r===void 0&&(r=!1),r?e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,""):e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"").replace(/0px/g,"0")}function Dg(e,r,i){i===void 0&&(i=!1);var t=Array.from(r.childNodes),n=[],o=0;if(t.length>1&&e&&typeof e=="string"){for(var s=Pn(e,i),a=s.length/e.length,u=1;u<t.length;u++)if(t[u].textContent&&typeof t[u].textContent=="string"){for(var l=Pn(t[u].textContent,i),f=100,c=3;c<l.length&&(l[c].match(/[a-zA-Z0-9]/)||l.indexOf(l.substring(0,c),1)!==-1);c++);for(;c<l.length;c++){var d=l.substring(0,c),g=s.split(d),v=-1;if(g.length===2)v=g[0].length;else if(g.length>2&&g[0]===""&&t[u-1].textContent!=="")v=s.indexOf(d,1);else if(g.length===1){if(d=d.substring(0,d.length-1),g=s.split(d),g.length<=1)return n.push(e),n;c=f+1}else c===l.length-1&&(v=s.indexOf(d));if(g.length>=2&&c>f){var _=t[u-1].textContent;if(_&&typeof _=="string"){var m=Pn(_).length;v=s.indexOf(d,m)}v===-1&&(v=g[0].length)}if(v!==-1){for(var y=Math.floor(v/a);y>0&&y<e.length;){if(o+=1,o>50*t.length)return n.push(e),n;var w=Pn(e.substring(0,y),i);if(w.length===v){n.push(e.substring(0,y)),e=e.substring(y),s=s.substring(v);break}else w.length<v?y+=Math.max(1,Math.floor((v-w.length)/a)):y-=Math.max(1,Math.floor((w.length-v)*a))}break}}}}return n.push(e),n}function Lg(e,r){return Dg(e,r).join("/* rr_split */")}var Fg=1,Bg=new RegExp("[^a-z0-9-_:]"),Ei=-2;function Fd(){return Fg++}function Ug(e){if(L(e,HTMLFormElement))return"form";var r=dr(e.tagName);return Bg.test(r)?"div":r}var Or,Jc,jg=/^[^ \t\n\r\u000c]+/,zg=/^[, \t\n\r\u000c]+/;function Wg(e,r){if(r.trim()==="")return r;var i=0;function t(l){var f,c=l.exec(r.substring(i));return c?(f=c[0],i+=f.length,f):""}for(var n=[];t(zg),!(i>=r.length);){var o=t(jg);if(o.slice(-1)===",")o=Tr(e,o.substring(0,o.length-1)),n.push(o);else{var s="";o=Tr(e,o);for(var a=!1;;){var u=r.charAt(i);if(u===""){n.push((o+s).trim());break}else if(a)u===")"&&(a=!1);else if(u===","){i+=1,n.push((o+s).trim());break}else u==="("&&(a=!0);s+=u,i+=1}}}return n.join(", ")}var Xc=new WeakMap;function Tr(e,r){return!r||r.trim()===""?r:Vu(e,r)}function Vg(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Vu(e,r){var i=Xc.get(e);if(i||(i=e.createElement("a"),Xc.set(e,i)),!r)r="";else if(r.startsWith("blob:")||r.startsWith("data:"))return r;return i.setAttribute("href",r),i.href}function Bd(e,r,i,t){return t&&(i==="src"||i==="href"&&!(r==="use"&&t[0]==="#")||i==="xlink:href"&&t[0]!=="#"||i==="background"&&(r==="table"||r==="td"||r==="th")?Tr(e,t):i==="srcset"?Wg(e,t):i==="style"?ko(t,Vu(e)):r==="object"&&i==="data"?Tr(e,t):t)}function Ud(e,r,i){return(e==="video"||e==="audio")&&r==="autoplay"}function qg(e,r,i){try{if(typeof r=="string"){if(e.classList.contains(r))return!0}else for(var t=e.classList.length;t--;){var n=e.classList[t];if(r.test(n))return!0}if(i)return e.matches(i)}catch{}return!1}function Io(e,r,i){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return i?Io(Ve.parentNode(e),r,i):!1;for(var t=e.classList.length;t--;){var n=e.classList[t];if(r.test(n))return!0}return i?Io(Ve.parentNode(e),r,i):!1}function jd(e,r,i,t){var n;if(Rd(e)){if(n=e,!Ve.childNodes(n).length)return!1}else{if(Ve.parentElement(e)===null)return!1;n=Ve.parentElement(e)}try{if(typeof r=="string"){if(t){if(n.closest("."+r))return!0}else if(n.classList.contains(r))return!0}else if(Io(n,r,t))return!0;if(i){if(t){if(n.closest(i))return!0}else if(n.matches(i))return!0}}catch{}return!1}function Gg(e,r,i){var t=e.contentWindow;if(t){var n=!1,o;try{o=t.document.readyState}catch{return}if(o!=="complete"){var s=setTimeout(function(){n||(r(),n=!0)},i);e.addEventListener("load",function(){clearTimeout(s),n=!0,r()});return}var a="about:blank";if(t.location.href!==a||e.src===a||e.src==="")return setTimeout(r,0),e.addEventListener("load",r);e.addEventListener("load",r)}}function Hg(e,r,i){var t=!1,n;try{n=e.sheet}catch{return}if(!n){var o=setTimeout(function(){t||(r(),t=!0)},i);e.addEventListener("load",function(){clearTimeout(o),t=!0,r()})}}function Kg(e,r){var i=r.doc,t=r.mirror,n=r.blockClass,o=r.blockSelector,s=r.needsMask,a=r.inlineStylesheet,u=r.maskInputOptions,l=u===void 0?{}:u,f=r.maskTextFn,c=r.maskInputFn,d=r.dataURLOptions,g=d===void 0?{}:d,v=r.inlineImages,_=r.recordCanvas,m=r.keepIframeSrcFn,y=r.newlyAddedElement,w=y===void 0?!1:y,S=r.cssCaptured,C=S===void 0?!1:S,x=Yg(i,t);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Be.Document,childNodes:[],compatMode:e.compatMode}:{type:Be.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Be.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:x};case e.ELEMENT_NODE:return Xg(e,{doc:i,blockClass:n,blockSelector:o,inlineStylesheet:a,maskInputOptions:l,maskInputFn:c,dataURLOptions:g,inlineImages:v,recordCanvas:_,keepIframeSrcFn:m,newlyAddedElement:w,rootId:x});case e.TEXT_NODE:return Jg(e,{doc:i,needsMask:s,maskTextFn:f,rootId:x,cssCaptured:C});case e.CDATA_SECTION_NODE:return{type:Be.CDATA,textContent:"",rootId:x};case e.COMMENT_NODE:return{type:Be.Comment,textContent:Ve.textContent(e)||"",rootId:x};default:return!1}}function Yg(e,r){if(r.hasNode(e)){var i=r.getId(e);return i===1?void 0:i}}function Jg(e,r){var i=r.needsMask,t=r.maskTextFn,n=r.rootId,o=r.cssCaptured,s=Ve.parentNode(e),a=s&&s.tagName,u="",l=a==="STYLE"?!0:void 0,f=a==="SCRIPT"?!0:void 0;return f?u="SCRIPT_PLACEHOLDER":o||(u=Ve.textContent(e),l&&u&&(u=ko(u,Vu(r.doc)))),!l&&!f&&u&&i&&(u=t?t(u,Ve.parentElement(e)):u.replace(/[\S]/g,"*")),{type:Be.Text,textContent:u||"",rootId:n}}function Xg(e,r){for(var i=r.doc,t=r.blockClass,n=r.blockSelector,o=r.inlineStylesheet,s=r.maskInputOptions,a=s===void 0?{}:s,u=r.maskInputFn,l=r.dataURLOptions,f=l===void 0?{}:l,c=r.inlineImages,d=r.recordCanvas,g=r.keepIframeSrcFn,v=r.newlyAddedElement,_=v===void 0?!1:v,m=r.rootId,y=qg(e,t,n),w=Ug(e),S={},C=e.attributes.length,x=0;x<C;x++){var I=e.attributes[x];Ud(w,I.name,I.value)||(S[I.name]=Bd(i,w,dr(I.name),I.value))}if(w==="link"&&o){var E=Array.from(i.styleSheets).find(function(Ge){return Ge.href===e.href}),P=null;E&&(P=Ma(E)),P&&(delete S.rel,delete S.href,S._cssText=P)}if(w==="style"&&e.sheet){var O=Ma(e.sheet);O&&(e.childNodes.length>1&&(O=Lg(O,e)),S._cssText=O)}if(w==="input"||w==="textarea"||w==="select"){var T=e.value,M=e.checked;S.type!=="radio"&&S.type!=="checkbox"&&S.type!=="submit"&&S.type!=="button"&&T?S.value=xo({element:e,type:Co(e),tagName:w,value:T,maskInputOptions:a,maskInputFn:u}):M&&(S.checked=M)}if(w==="option"&&(e.selected&&!a.select?S.selected=!0:delete S.selected),w==="dialog"&&e.open&&(S.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal"),w==="canvas"&&d){if(e.__context==="2d")Ng(e)||(S.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){var $=e.toDataURL(f.type,f.quality),G=i.createElement("canvas");G.width=e.width,G.height=e.height;var z=G.toDataURL(f.type,f.quality);$!==z&&(S.rr_dataURL=$)}}if(w==="img"&&c){Or||(Or=i.createElement("canvas"),Jc=Or.getContext("2d"));var D=e,Ce=D.currentSrc||D.getAttribute("src")||"<unknown-src>",Ue=D.crossOrigin,he=function(){D.removeEventListener("load",he);try{Or.width=D.naturalWidth,Or.height=D.naturalHeight,Jc.drawImage(D,0,0),S.rr_dataURL=Or.toDataURL(f.type,f.quality)}catch(Ge){if(D.crossOrigin!=="anonymous"){D.crossOrigin="anonymous",D.complete&&D.naturalWidth!==0?he():D.addEventListener("load",he);return}else console.warn("Cannot inline img src="+Ce+"! Error: "+Ge)}D.crossOrigin==="anonymous"&&(Ue?S.crossOrigin=Ue:D.removeAttribute("crossorigin"))};D.complete&&D.naturalWidth!==0?he():D.addEventListener("load",he)}if(w==="audio"||w==="video"){var Fe=S;Fe.rr_mediaState=e.paused?"paused":"played",Fe.rr_mediaCurrentTime=e.currentTime,Fe.rr_mediaPlaybackRate=e.playbackRate,Fe.rr_mediaMuted=e.muted,Fe.rr_mediaLoop=e.loop,Fe.rr_mediaVolume=e.volume}if(_||(e.scrollLeft&&(S.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(S.rr_scrollTop=e.scrollTop)),y){var qe=e.getBoundingClientRect(),ht=qe.width,et=qe.height;S={class:S.class,rr_width:""+ht+"px",rr_height:""+et+"px"}}w==="iframe"&&!g(S.src)&&(e.contentDocument||(S.rr_src=S.src),delete S.src);var kt;try{customElements.get(w)&&(kt=!0)}catch{}return{type:Be.Element,tagName:w,attributes:S,childNodes:[],isSVG:Vg(e)||void 0,needBlock:y,rootId:m,isCustom:kt}}function fe(e){return e==null?"":e.toLowerCase()}function Zg(e,r){if(r.comment&&e.type===Be.Comment)return!0;if(e.type===Be.Element){if(r.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"&&e.attributes.as==="script"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Ld(e.attributes.href)==="js"))return!0;if(r.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(fe(e.attributes.name).match(/^msapplication-tile(image|color)$/)||fe(e.attributes.name)==="application-name"||fe(e.attributes.rel)==="icon"||fe(e.attributes.rel)==="apple-touch-icon"||fe(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(r.headMetaDescKeywords&&fe(e.attributes.name).match(/^description|keywords$/))return!0;if(r.headMetaSocial&&(fe(e.attributes.property).match(/^(og|twitter|fb):/)||fe(e.attributes.name).match(/^(og|twitter):/)||fe(e.attributes.name)==="pinterest"))return!0;if(r.headMetaRobots&&(fe(e.attributes.name)==="robots"||fe(e.attributes.name)==="googlebot"||fe(e.attributes.name)==="bingbot"))return!0;if(r.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(r.headMetaAuthorship&&(fe(e.attributes.name)==="author"||fe(e.attributes.name)==="generator"||fe(e.attributes.name)==="framework"||fe(e.attributes.name)==="publisher"||fe(e.attributes.name)==="progid"||fe(e.attributes.property).match(/^article:/)||fe(e.attributes.property).match(/^product:/)))return!0;if(r.headMetaVerification&&(fe(e.attributes.name)==="google-site-verification"||fe(e.attributes.name)==="yandex-verification"||fe(e.attributes.name)==="csrf-token"||fe(e.attributes.name)==="p:domain_verify"||fe(e.attributes.name)==="verify-v1"||fe(e.attributes.name)==="verification"||fe(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Rr(e,r){var i=r.doc,t=r.mirror,n=r.blockClass,o=r.blockSelector,s=r.maskTextClass,a=r.maskTextSelector,u=r.skipChild,l=u===void 0?!1:u,f=r.inlineStylesheet,c=f===void 0?!0:f,d=r.maskInputOptions,g=d===void 0?{}:d,v=r.maskTextFn,_=r.maskInputFn,m=r.slimDOMOptions,y=r.dataURLOptions,w=y===void 0?{}:y,S=r.inlineImages,C=S===void 0?!1:S,x=r.recordCanvas,I=x===void 0?!1:x,E=r.onSerialize,P=r.onIframeLoad,O=r.iframeLoadTimeout,T=O===void 0?5e3:O,M=r.onStylesheetLoad,$=r.stylesheetLoadTimeout,G=$===void 0?5e3:$,z=r.keepIframeSrcFn,D=z===void 0?function(){return!1}:z,Ce=r.newlyAddedElement,Ue=Ce===void 0?!1:Ce,he=r.cssCaptured,Fe=he===void 0?!1:he,qe=r.needsMask,ht=r.preserveWhiteSpace,et=ht===void 0?!0:ht;if(!qe){var kt=qe===void 0;qe=jd(e,s,a,kt)}var Ge=Kg(e,{doc:i,mirror:t,blockClass:n,blockSelector:o,needsMask:qe,inlineStylesheet:c,maskInputOptions:g,maskTextFn:v,maskInputFn:_,dataURLOptions:w,inlineImages:C,recordCanvas:I,keepIframeSrcFn:D,newlyAddedElement:Ue,cssCaptured:Fe});if(!Ge)return console.warn(e,"not serialized"),null;var It;t.hasNode(e)?It=t.getId(e):Zg(Ge,m)||!et&&Ge.type===Be.Text&&!Ge.textContent.replace(/^\s+|\s+$/gm,"").length?It=Ei:It=Fd();var ne=Object.assign(Ge,{id:It});if(t.add(e,ne),It===Ei)return null;E&&E(e);var re=!l;if(ne.type===Be.Element){re=re&&!ne.needBlock,delete ne.needBlock;var le=Ve.shadowRoot(e);le&&_i(le)&&(ne.isShadowHost=!0)}if((ne.type===Be.Document||ne.type===Be.Element)&&re){m.headWhitespace&&ne.type===Be.Element&&ne.tagName==="head"&&(et=!1);var ce={doc:i,mirror:t,blockClass:n,blockSelector:o,needsMask:qe,maskTextClass:s,maskTextSelector:a,skipChild:l,inlineStylesheet:c,maskInputOptions:g,maskTextFn:v,maskInputFn:_,slimDOMOptions:m,dataURLOptions:w,inlineImages:C,recordCanvas:I,preserveWhiteSpace:et,onSerialize:E,onIframeLoad:P,iframeLoadTimeout:T,onStylesheetLoad:M,stylesheetLoadTimeout:G,keepIframeSrcFn:D,cssCaptured:!1};if(!(ne.type===Be.Element&&ne.tagName==="textarea"&&ne.attributes.value!==void 0)){ne.type===Be.Element&&ne.attributes._cssText!==void 0&&typeof ne.attributes._cssText=="string"&&(ce.cssCaptured=!0);for(var Z=N(Array.from(Ve.childNodes(e))),Oe;!(Oe=Z()).done;){var ot=Oe.value,Je=Rr(ot,ce);Je&&ne.childNodes.push(Je)}}var st=null;if(Rd(e)&&(st=Ve.shadowRoot(e)))for(var ke=N(Array.from(Ve.childNodes(st))),at;!(at=ke()).done;){var ii=at.value,wr=Rr(ii,ce);wr&&(_i(st)&&(wr.isShadow=!0),ne.childNodes.push(wr))}}var nr=Ve.parentNode(e);return nr&&yi(nr)&&_i(nr)&&(ne.isShadow=!0),ne.type===Be.Element&&ne.tagName==="iframe"&&Gg(e,function(){var Et=e.contentDocument;if(Et&&P){var or=Rr(Et,{doc:Et,mirror:t,blockClass:n,blockSelector:o,needsMask:qe,maskTextClass:s,maskTextSelector:a,skipChild:!1,inlineStylesheet:c,maskInputOptions:g,maskTextFn:v,maskInputFn:_,slimDOMOptions:m,dataURLOptions:w,inlineImages:C,recordCanvas:I,preserveWhiteSpace:et,onSerialize:E,onIframeLoad:P,iframeLoadTimeout:T,onStylesheetLoad:M,stylesheetLoadTimeout:G,keepIframeSrcFn:D});or&&P(e,or)}},T),ne.type===Be.Element&&ne.tagName==="link"&&typeof ne.attributes.rel=="string"&&(ne.attributes.rel==="stylesheet"||ne.attributes.rel==="preload"&&typeof ne.attributes.href=="string"&&Ld(ne.attributes.href)==="css")&&Hg(e,function(){if(M){var Et=Rr(e,{doc:i,mirror:t,blockClass:n,blockSelector:o,needsMask:qe,maskTextClass:s,maskTextSelector:a,skipChild:!1,inlineStylesheet:c,maskInputOptions:g,maskTextFn:v,maskInputFn:_,slimDOMOptions:m,dataURLOptions:w,inlineImages:C,recordCanvas:I,preserveWhiteSpace:et,onSerialize:E,onIframeLoad:P,iframeLoadTimeout:T,onStylesheetLoad:M,stylesheetLoadTimeout:G,keepIframeSrcFn:D});Et&&M(e,Et)}},G),ne}function Qg(e,r){var i=r||{},t=i.mirror,n=t===void 0?new Dd:t,o=i.blockClass,s=o===void 0?"rr-block":o,a=i.blockSelector,u=a===void 0?null:a,l=i.maskTextClass,f=l===void 0?"rr-mask":l,c=i.maskTextSelector,d=c===void 0?null:c,g=i.inlineStylesheet,v=g===void 0?!0:g,_=i.inlineImages,m=_===void 0?!1:_,y=i.recordCanvas,w=y===void 0?!1:y,S=i.maskAllInputs,C=S===void 0?!1:S,x=i.maskTextFn,I=i.maskInputFn,E=i.slimDOM,P=E===void 0?!1:E,O=i.dataURLOptions,T=i.preserveWhiteSpace,M=i.onSerialize,$=i.onIframeLoad,G=i.iframeLoadTimeout,z=i.onStylesheetLoad,D=i.stylesheetLoadTimeout,Ce=i.keepIframeSrcFn,Ue=Ce===void 0?function(){return!1}:Ce,he=C===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0,hidden:!0}:C===!1?{password:!0}:C,Fe=P===!0||P==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:P==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:P===!1?{}:P;return Rr(e,{doc:e,mirror:n,blockClass:s,blockSelector:u,maskTextClass:f,maskTextSelector:d,skipChild:!1,inlineStylesheet:v,maskInputOptions:he,maskTextFn:x,maskInputFn:I,slimDOMOptions:Fe,dataURLOptions:O,inlineImages:m,recordCanvas:w,preserveWhiteSpace:T,onSerialize:M,onIframeLoad:$,iframeLoadTimeout:G,onStylesheetLoad:z,stylesheetLoadTimeout:D,keepIframeSrcFn:Ue,newlyAddedElement:!1})}function ey(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ty(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var i=function t(){return L(this,t)?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),i}var qu={exports:{}},ve=String,zd=function(){return{isColorSupported:!1,reset:ve,bold:ve,dim:ve,italic:ve,underline:ve,inverse:ve,hidden:ve,strikethrough:ve,black:ve,red:ve,green:ve,yellow:ve,blue:ve,magenta:ve,cyan:ve,white:ve,gray:ve,bgBlack:ve,bgRed:ve,bgGreen:ve,bgYellow:ve,bgBlue:ve,bgMagenta:ve,bgCyan:ve,bgWhite:ve}};qu.exports=zd();qu.exports.createColors=zd;var ry=qu.exports,iy={},ny=Object.freeze(Object.defineProperty({__proto__:null,default:iy},Symbol.toStringTag,{value:"Module"})),Me=ty(ny),Zc=ry,Qc=Me,Pa=(function(e){be(r,e);function r(t,n,o,s,a,u){var l;return l=e.call(this,t)||this,l.name="CssSyntaxError",l.reason=t,a&&(l.file=a),s&&(l.source=s),u&&(l.plugin=u),typeof n<"u"&&typeof o<"u"&&(typeof n=="number"?(l.line=n,l.column=o):(l.line=n.line,l.column=n.column,l.endLine=o.line,l.endColumn=o.column)),l.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(l,r),l}var i=r.prototype;return i.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},i.showSourceCode=function(n){var o=this;if(!this.source)return"";var s=this.source;n==null&&(n=Zc.isColorSupported),Qc&&n&&(s=Qc(s));var a=s.split(/\r?\n/),u=Math.max(this.line-3,0),l=Math.min(this.line+2,a.length),f=String(l).length,c,d;if(n){var g=Zc.createColors(!0),v=g.bold,_=g.gray,m=g.red;c=function(y){return v(m(y))},d=function(y){return _(y)}}else c=d=function(y){return y};return a.slice(u,l).map(function(y,w){var S=u+1+w,C=" "+(" "+S).slice(-f)+" | ";if(S===o.line){var x=d(C.replace(/\d/g," "))+y.slice(0,o.column-1).replace(/[^\t]/g," ");return c(">")+d(C)+y+`
 `+x+c("^")}return" "+d(C)+y}).join(`
`)},i.toString=function(){var n=this.showSourceCode();return n&&(n=`

`+n+`
`),this.name+": "+this.message+n},r})(Ii(Error)),Gu=Pa;Pa.default=Pa;var Kt={};Kt.isClean=Symbol("isClean");Kt.my=Symbol("my");var ef={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function oy(e){return e[0].toUpperCase()+e.slice(1)}var Ta=(function(){function e(i){this.builder=i}var r=e.prototype;return r.atrule=function(t,n){var o="@"+t.name,s=t.params?this.rawValue(t,"params"):"";if(typeof t.raws.afterName<"u"?o+=t.raws.afterName:s&&(o+=" "),t.nodes)this.block(t,o+s);else{var a=(t.raws.between||"")+(n?";":"");this.builder(o+s+a,t)}},r.beforeAfter=function(t,n){var o;t.type==="decl"?o=this.raw(t,null,"beforeDecl"):t.type==="comment"?o=this.raw(t,null,"beforeComment"):n==="before"?o=this.raw(t,null,"beforeRule"):o=this.raw(t,null,"beforeClose");for(var s=t.parent,a=0;s&&s.type!=="root";)a+=1,s=s.parent;if(o.includes(`
`)){var u=this.raw(t,null,"indent");if(u.length)for(var l=0;l<a;l++)o+=u}return o},r.block=function(t,n){var o=this.raw(t,"between","beforeOpen");this.builder(n+o+"{",t,"start");var s;t.nodes&&t.nodes.length?(this.body(t),s=this.raw(t,"after")):s=this.raw(t,"after","emptyBody"),s&&this.builder(s),this.builder("}",t,"end")},r.body=function(t){for(var n=t.nodes.length-1;n>0&&t.nodes[n].type==="comment";)n-=1;for(var o=this.raw(t,"semicolon"),s=0;s<t.nodes.length;s++){var a=t.nodes[s],u=this.raw(a,"before");u&&this.builder(u),this.stringify(a,n!==s||o)}},r.comment=function(t){var n=this.raw(t,"left","commentLeft"),o=this.raw(t,"right","commentRight");this.builder("/*"+n+t.text+o+"*/",t)},r.decl=function(t,n){var o=this.raw(t,"between","colon"),s=t.prop+o+this.rawValue(t,"value");t.important&&(s+=t.raws.important||" !important"),n&&(s+=";"),this.builder(s,t)},r.document=function(t){this.body(t)},r.raw=function(t,n,o){var s;if(o||(o=n),n&&(s=t.raws[n],typeof s<"u"))return s;var a=t.parent;if(o==="before"&&(!a||a.type==="root"&&a.first===t||a&&a.type==="document"))return"";if(!a)return ef[o];var u=t.root();if(u.rawCache||(u.rawCache={}),typeof u.rawCache[o]<"u")return u.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(t,o);var l="raw"+oy(o);return this[l]?s=this[l](u,t):u.walk(function(f){if(s=f.raws[n],typeof s<"u")return!1}),typeof s>"u"&&(s=ef[o]),u.rawCache[o]=s,s},r.rawBeforeClose=function(t){var n;return t.walk(function(o){if(o.nodes&&o.nodes.length>0&&typeof o.raws.after<"u")return n=o.raws.after,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n},r.rawBeforeComment=function(t,n){var o;return t.walkComments(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(n,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o},r.rawBeforeDecl=function(t,n){var o;return t.walkDecls(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(n,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o},r.rawBeforeOpen=function(t){var n;return t.walk(function(o){if(o.type!=="decl"&&(n=o.raws.between,typeof n<"u"))return!1}),n},r.rawBeforeRule=function(t){var n;return t.walk(function(o){if(o.nodes&&(o.parent!==t||t.first!==o)&&typeof o.raws.before<"u")return n=o.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n},r.rawColon=function(t){var n;return t.walkDecls(function(o){if(typeof o.raws.between<"u")return n=o.raws.between.replace(/[^\s:]/g,""),!1}),n},r.rawEmptyBody=function(t){var n;return t.walk(function(o){if(o.nodes&&o.nodes.length===0&&(n=o.raws.after,typeof n<"u"))return!1}),n},r.rawIndent=function(t){if(t.raws.indent)return t.raws.indent;var n;return t.walk(function(o){var s=o.parent;if(s&&s!==t&&s.parent&&s.parent===t&&typeof o.raws.before<"u"){var a=o.raws.before.split(`
`);return n=a[a.length-1],n=n.replace(/\S/g,""),!1}}),n},r.rawSemicolon=function(t){var n;return t.walk(function(o){if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(n=o.raws.semicolon,typeof n<"u"))return!1}),n},r.rawValue=function(t,n){var o=t[n],s=t.raws[n];return s&&s.value===o?s.raw:o},r.root=function(t){this.body(t),t.raws.after&&this.builder(t.raws.after)},r.rule=function(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")},r.stringify=function(t,n){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,n)},e})(),Wd=Ta;Ta.default=Ta;var sy=Wd;function Ra(e,r){var i=new sy(r);i.stringify(e)}var ts=Ra;Ra.default=Ra;var Tn=Kt.isClean,ay=Kt.my,uy=Gu,ly=Wd,cy=ts;function $a(e,r){var i=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&t!=="proxyCache"){var n=e[t],o=typeof n>"u"?"undefined":F(n);t==="parent"&&o==="object"?r&&(i[t]=r):t==="source"?i[t]=n:Array.isArray(n)?i[t]=n.map(function(s){return $a(s,i)}):(o==="object"&&n!==null&&(n=$a(n)),i[t]=n)}return i}var Da=(function(){function e(i){i===void 0&&(i={}),this.raws={},this[Tn]=!1,this[ay]=!0;for(var t in i)if(t==="nodes"){this.nodes=[];for(var n=N(i[t]),o;!(o=n()).done;){var s=o.value;typeof s.clone=="function"?this.append(s.clone()):this.append(s)}}else this[t]=i[t]}var r=e.prototype;return r.addToError=function(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){var n=this.source;t.stack=t.stack.replace(/\n\s{4}at /,"$&"+n.input.from+":"+n.start.line+":"+n.start.column+"$&")}return t},r.after=function(t){return this.parent.insertAfter(this,t),this},r.assign=function(t){t===void 0&&(t={});for(var n in t)this[n]=t[n];return this},r.before=function(t){return this.parent.insertBefore(this,t),this},r.cleanRaws=function(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between},r.clone=function(t){t===void 0&&(t={});var n=$a(this);for(var o in t)n[o]=t[o];return n},r.cloneAfter=function(t){t===void 0&&(t={});var n=this.clone(t);return this.parent.insertAfter(this,n),n},r.cloneBefore=function(t){t===void 0&&(t={});var n=this.clone(t);return this.parent.insertBefore(this,n),n},r.error=function(t,n){if(n===void 0&&(n={}),this.source){var o=this.rangeBy(n),s=o.end,a=o.start;return this.source.input.error(t,{column:a.column,line:a.line},{column:s.column,line:s.line},n)}return new uy(t)},r.getProxyProcessor=function(){return{get:function(n,o){return o==="proxyOf"?n:o==="root"?function(){return n.root().toProxy()}:n[o]},set:function(n,o,s){return n[o]===s||(n[o]=s,(o==="prop"||o==="value"||o==="name"||o==="params"||o==="important"||o==="text")&&n.markDirty()),!0}}},r.markDirty=function(){if(this[Tn]){this[Tn]=!1;for(var t=this;t=t.parent;)t[Tn]=!1}},r.next=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t+1]}},r.positionBy=function(t,n){var o=this.source.start;if(t.index)o=this.positionInside(t.index,n);else if(t.word){n=this.toString();var s=n.indexOf(t.word);s!==-1&&(o=this.positionInside(s,n))}return o},r.positionInside=function(t,n){for(var o=n||this.toString(),s=this.source.start.column,a=this.source.start.line,u=0;u<t;u++)o[u]===`
`?(s=1,a+=1):s+=1;return{column:s,line:a}},r.prev=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t-1]}},r.rangeBy=function(t){var n={column:this.source.start.column,line:this.source.start.line},o=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:n.column+1,line:n.line};if(t.word){var s=this.toString(),a=s.indexOf(t.word);a!==-1&&(n=this.positionInside(a,s),o=this.positionInside(a+t.word.length,s))}else t.start?n={column:t.start.column,line:t.start.line}:t.index&&(n=this.positionInside(t.index)),t.end?o={column:t.end.column,line:t.end.line}:typeof t.endIndex=="number"?o=this.positionInside(t.endIndex):t.index&&(o=this.positionInside(t.index+1));return(o.line<n.line||o.line===n.line&&o.column<=n.column)&&(o={column:n.column+1,line:n.line}),{end:o,start:n}},r.raw=function(t,n){var o=new ly;return o.raw(this,t,n)},r.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},r.replaceWith=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(this.parent){for(var s=this,a=!1,u=N(n),l;!(l=u()).done;){var f=l.value;f===this?a=!0:a?(this.parent.insertAfter(s,f),s=f):this.parent.insertBefore(s,f)}a||this.remove()}return this},r.root=function(){for(var t=this;t.parent&&t.parent.type!=="document";)t=t.parent;return t},r.toJSON=function(t,n){var o={},s=n==null;n=n||new Map;var a=0;for(var u in this)if(Object.prototype.hasOwnProperty.call(this,u)&&!(u==="parent"||u==="proxyCache")){var l=this[u];if(Array.isArray(l))o[u]=l.map(function(c){return(typeof c>"u"?"undefined":F(c))==="object"&&c.toJSON?c.toJSON(null,n):c});else if((typeof l>"u"?"undefined":F(l))==="object"&&l.toJSON)o[u]=l.toJSON(null,n);else if(u==="source"){var f=n.get(l.input);f==null&&(f=a,n.set(l.input,a),a++),o[u]={end:l.end,inputId:f,start:l.start}}else o[u]=l}return s&&(o.inputs=[].concat(n.keys()).map(function(c){return c.toJSON()})),o},r.toProxy=function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache},r.toString=function(t){t===void 0&&(t=cy),t.stringify&&(t=t.stringify);var n="";return t(this,function(o){n+=o}),n},r.warn=function(t,n,o){var s={node:this};for(var a in o)s[a]=o[a];return t.warn(n,s)},_e(e,[{key:"proxyOf",get:function(){return this}}]),e})(),rs=Da;Da.default=Da;var fy=rs,La=(function(e){be(r,e);function r(i){var t;return i&&typeof i.value<"u"&&typeof i.value!="string"&&(i=Y({},i,{value:String(i.value)})),t=e.call(this,i)||this,t.type="decl",t}return _e(r,[{key:"variable",get:function(){return this.prop.startsWith("--")||this.prop[0]==="$"}}]),r})(fy),is=La;La.default=La;var dy="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",hy=function(e){e===void 0&&(e=21);for(var r="",i=e;i--;)r+=dy[Math.random()*64|0];return r},py={nanoid:hy},tf=Me.SourceMapConsumer,rf=Me.SourceMapGenerator,vy=Me.existsSync,my=Me.readFileSync,na=Me.dirname,gy=Me.join;function yy(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}var Fa=(function(){function e(i,t){if(t.map!==!1){this.loadAnnotation(i),this.inline=this.startWith(this.annotation,"data:");var n=t.map?t.map.prev:void 0,o=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=na(this.mapFile)),o&&(this.text=o)}}var r=e.prototype;return r.consumer=function(){return this.consumerCache||(this.consumerCache=new tf(this.text)),this.consumerCache},r.decodeInline=function(t){var n=/^data:application\/json;charset=utf-?8;base64,/,o=/^data:application\/json;base64,/,s=/^data:application\/json;charset=utf-?8,/,a=/^data:application\/json,/;if(s.test(t)||a.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(n.test(t)||o.test(t))return yy(t.substr(RegExp.lastMatch.length));var u=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+u)},r.getAnnotationURL=function(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()},r.isMap=function(t){return(typeof t>"u"?"undefined":F(t))!=="object"?!1:typeof t.mappings=="string"||typeof t._mappings=="string"||Array.isArray(t.sections)},r.loadAnnotation=function(t){var n=t.match(/\/\*\s*# sourceMappingURL=/gm);if(n){var o=t.lastIndexOf(n.pop()),s=t.indexOf("*/",o);o>-1&&s>-1&&(this.annotation=this.getAnnotationURL(t.substring(o,s)))}},r.loadFile=function(t){if(this.root=na(t),vy(t))return this.mapFile=t,my(t,"utf-8").toString().trim()},r.loadMap=function(t,n){if(n===!1)return!1;if(n){if(typeof n=="string")return n;if(typeof n=="function"){var o=n(t);if(o){var s=this.loadFile(o);if(!s)throw new Error("Unable to load previous source map: "+o.toString());return s}}else{if(L(n,tf))return rf.fromSourceMap(n).toString();if(L(n,rf))return n.toString();if(this.isMap(n))return JSON.stringify(n);throw new Error("Unsupported previous source map format: "+n.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var a=this.annotation;return t&&(a=gy(na(t),a)),this.loadFile(a)}}},r.startWith=function(t,n){return t?t.substr(0,n.length)===n:!1},r.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e})(),Vd=Fa;Fa.default=Fa;var _y=Me.SourceMapConsumer,by=Me.SourceMapGenerator,nf=Me.fileURLToPath,Rn=Me.pathToFileURL,Ba=Me.isAbsolute,Ua=Me.resolve,wy=py.nanoid,oa=Me,of=Gu,Sy=Vd,sa=Symbol("fromOffsetCache"),xy=!!(_y&&by),sf=!!(Ua&&Ba),Eo=(function(){function e(i,t){if(t===void 0&&(t={}),i===null||typeof i>"u"||(typeof i>"u"?"undefined":F(i))==="object"&&!i.toString)throw new Error("PostCSS received "+i+" instead of CSS string");if(this.css=i.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!sf||/^\w+:\/\//.test(t.from)||Ba(t.from)?this.file=t.from:this.file=Ua(t.from)),sf&&xy){var n=new Sy(this.css,t);if(n.text){this.map=n;var o=n.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+wy(6)+">"),this.map&&(this.map.file=this.from)}var r=e.prototype;return r.error=function(t,n,o,s){s===void 0&&(s={});var a,u,l;if(n&&(typeof n>"u"?"undefined":F(n))==="object"){var f=n,c=o;if(typeof f.offset=="number"){var d=this.fromOffset(f.offset);n=d.line,o=d.col}else n=f.line,o=f.column;if(typeof c.offset=="number"){var g=this.fromOffset(c.offset);u=g.line,l=g.col}else u=c.line,l=c.column}else if(!o){var v=this.fromOffset(n);n=v.line,o=v.col}var _=this.origin(n,o,u,l);return _?a=new of(t,_.endLine===void 0?_.line:{column:_.column,line:_.line},_.endLine===void 0?_.column:{column:_.endColumn,line:_.endLine},_.source,_.file,s.plugin):a=new of(t,u===void 0?n:{column:o,line:n},u===void 0?o:{column:l,line:u},this.css,this.file,s.plugin),a.input={column:o,endColumn:l,endLine:u,line:n,source:this.css},this.file&&(Rn&&(a.input.url=Rn(this.file).toString()),a.input.file=this.file),a},r.fromOffset=function(t){var n,o;if(this[sa])o=this[sa];else{var s=this.css.split(`
`);o=new Array(s.length);for(var a=0,u=0,l=s.length;u<l;u++)o[u]=a,a+=s[u].length+1;this[sa]=o}n=o[o.length-1];var f=0;if(t>=n)f=o.length-1;else for(var c=o.length-2,d;f<c;)if(d=f+(c-f>>1),t<o[d])c=d-1;else if(t>=o[d+1])f=d+1;else{f=d;break}return{col:t-o[f]+1,line:f+1}},r.mapResolve=function(t){return/^\w+:\/\//.test(t)?t:Ua(this.map.consumer().sourceRoot||this.map.root||".",t)},r.origin=function(t,n,o,s){if(!this.map)return!1;var a=this.map.consumer(),u=a.originalPositionFor({column:n,line:t});if(!u.source)return!1;var l;typeof o=="number"&&(l=a.originalPositionFor({column:s,line:o}));var f;Ba(u.source)?f=Rn(u.source):f=new URL(u.source,this.map.consumer().sourceRoot||Rn(this.map.mapFile));var c={column:u.column,endColumn:l&&l.column,endLine:l&&l.line,line:u.line,url:f.toString()};if(f.protocol==="file:")if(nf)c.file=nf(f);else throw new Error("file: protocol is not available in this PostCSS build");var d=a.sourceContentFor(u.source);return d&&(c.source=d),c},r.toJSON=function(){for(var t={},n=0,o=["hasBOM","css","file","id"];n<o.length;n++){var s=o[n];this[s]!=null&&(t[s]=this[s])}return this.map&&(t.map=Y({},this.map),t.map.consumerCache&&(t.map.consumerCache=void 0)),t},_e(e,[{key:"from",get:function(){return this.file||this.id}}]),e})(),ns=Eo;Eo.default=Eo;oa&&oa.registerInput&&oa.registerInput(Eo);var qd=Me.SourceMapConsumer,vo=Me.SourceMapGenerator,mo=Me.dirname,Gd=Me.relative,Hd=Me.resolve,Kd=Me.sep,af=Me.pathToFileURL,Cy=ns,ky=!!(qd&&vo),Iy=!!(mo&&Hd&&Gd&&Kd),Ey=(function(){function e(i,t,n,o){this.stringify=i,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=o,this.originalCSS=o,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}var r=e.prototype;return r.addAnnotation=function(){var t;this.isInline()?t="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?t=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?t=this.mapOpts.annotation(this.opts.to,this.root):t=this.outputFile()+".map";var n=`
`;this.css.includes(`\r
`)&&(n=`\r
`),this.css+=n+"/*# sourceMappingURL="+t+" */"},r.applyPrevMaps=function(){for(var t=N(this.previous()),n;!(n=t()).done;){var o=n.value,s=this.toUrl(this.path(o.file)),a=o.root||mo(o.file),u=void 0;this.mapOpts.sourcesContent===!1?(u=new qd(o.text),u.sourcesContent&&(u.sourcesContent=null)):u=o.consumer(),this.map.applySourceMap(u,s,this.toUrl(this.path(a)))}},r.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)if(this.root)for(var t,n=this.root.nodes.length-1;n>=0;n--)t=this.root.nodes[n],t.type==="comment"&&t.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(n);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))},r.generate=function(){if(this.clearAnnotation(),Iy&&ky&&this.isMap())return this.generateMap();var t="";return this.stringify(this.root,function(n){t+=n}),[t]},r.generateMap=function(){if(this.root)this.generateString();else if(this.previous().length===1){var t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=vo.fromSourceMap(t,{ignoreInvalidMapping:!0})}else this.map=new vo({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},r.generateString=function(){var t=this;this.css="",this.map=new vo({file:this.outputFile(),ignoreInvalidMapping:!0});var n=1,o=1,s="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""},u,l;this.stringify(this.root,function(f,c,d){if(t.css+=f,c&&d!=="end"&&(a.generated.line=n,a.generated.column=o-1,c.source&&c.source.start?(a.source=t.sourcePath(c),a.original.line=c.source.start.line,a.original.column=c.source.start.column-1,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,t.map.addMapping(a))),u=f.match(/\n/g),u?(n+=u.length,l=f.lastIndexOf(`
`),o=f.length-l):o+=f.length,c&&d!=="start"){var g=c.parent||{raws:{}},v=c.type==="decl"||c.type==="atrule"&&!c.nodes;(!v||c!==g.last||g.raws.semicolon)&&(c.source&&c.source.end?(a.source=t.sourcePath(c),a.original.line=c.source.end.line,a.original.column=c.source.end.column-1,a.generated.line=n,a.generated.column=o-2,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,a.generated.line=n,a.generated.column=o-1,t.map.addMapping(a)))}})},r.isAnnotation=function(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(function(t){return t.annotation}):!0},r.isInline=function(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;var t=this.mapOpts.annotation;return typeof t<"u"&&t!==!0?!1:this.previous().length?this.previous().some(function(n){return n.inline}):!0},r.isMap=function(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0},r.isSourcesContent=function(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(t){return t.withContent()}):!0},r.outputFile=function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"},r.path=function(t){if(this.mapOpts.absolute||t.charCodeAt(0)===60||/^\w+:\/\//.test(t))return t;var n=this.memoizedPaths.get(t);if(n)return n;var o=this.opts.to?mo(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(o=mo(Hd(o,this.mapOpts.annotation)));var s=Gd(o,t);return this.memoizedPaths.set(t,s),s},r.previous=function(){var t=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(o){if(o.source&&o.source.input.map){var s=o.source.input.map;t.previousMaps.includes(s)||t.previousMaps.push(s)}});else{var n=new Cy(this.originalCSS,this.opts);n.map&&this.previousMaps.push(n.map)}return this.previousMaps},r.setSourcesContent=function(){var t=this,n={};if(this.root)this.root.walk(function(s){if(s.source){var a=s.source.input.from;if(a&&!n[a]){n[a]=!0;var u=t.usesFileUrls?t.toFileUrl(a):t.toUrl(t.path(a));t.map.setSourceContent(u,s.source.input.css)}}});else if(this.css){var o=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(o,this.css)}},r.sourcePath=function(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))},r.toBase64=function(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))},r.toFileUrl=function(t){var n=this.memoizedFileURLs.get(t);if(n)return n;if(af){var o=af(t).toString();return this.memoizedFileURLs.set(t,o),o}else throw new Error("`map.absolute` option is not available in this PostCSS build")},r.toUrl=function(t){var n=this.memoizedURLs.get(t);if(n)return n;Kd==="\\"&&(t=t.replace(/\\/g,"/"));var o=encodeURI(t).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(t,o),o},e})(),Yd=Ey,Oy=rs,ja=(function(e){be(r,e);function r(i){var t;return t=e.call(this,i)||this,t.type="comment",t}return r})(Oy),os=ja;ja.default=ja;var Jd=Kt.isClean,Xd=Kt.my,Zd=is,Qd=os,Ay=rs,eh,Hu,Ku,th;function rh(e){return e.map(function(r){return r.nodes&&(r.nodes=rh(r.nodes)),delete r.source,r})}function ih(e){if(e[Jd]=!1,e.proxyOf.nodes)for(var r=N(e.proxyOf.nodes),i;!(i=r()).done;){var t=i.value;ih(t)}}var Pt=(function(e){be(r,e);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.append=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];for(var a=N(o),u;!(u=a()).done;)for(var l=u.value,f=this.normalize(l,this.last),c=N(f),d;!(d=c()).done;){var g=d.value;this.proxyOf.nodes.push(g)}return this.markDirty(),this},i.cleanRaws=function(n){if(e.prototype.cleanRaws.call(this,n),this.nodes)for(var o=N(this.nodes),s;!(s=o()).done;){var a=s.value;a.cleanRaws(n)}},i.each=function(n){if(this.proxyOf.nodes){for(var o=this.getIterator(),s,a;this.indexes[o]<this.proxyOf.nodes.length&&(s=this.indexes[o],a=n(this.proxyOf.nodes[s],s),a!==!1);)this.indexes[o]+=1;return delete this.indexes[o],a}},i.every=function(n){return this.nodes.every(n)},i.getIterator=function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var n=this.lastEach;return this.indexes[n]=0,n},i.getProxyProcessor=function(){return{get:function(o,s){return s==="proxyOf"?o:o[s]?s==="each"||typeof s=="string"&&s.startsWith("walk")?function(){for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];var f;return(f=o)[s].apply(f,[].concat(u.map(function(c){return typeof c=="function"?function(d,g){return c(d.toProxy(),g)}:c})))}:s==="every"||s==="some"?function(a){return o[s](function(u){for(var l=arguments.length,f=new Array(l>1?l-1:0),c=1;c<l;c++)f[c-1]=arguments[c];return a.apply(void 0,[].concat([u.toProxy()],f))})}:s==="root"?function(){return o.root().toProxy()}:s==="nodes"?o.nodes.map(function(a){return a.toProxy()}):s==="first"||s==="last"?o[s].toProxy():o[s]:o[s]},set:function(o,s,a){return o[s]===a||(o[s]=a,(s==="name"||s==="params"||s==="selector")&&o.markDirty()),!0}}},i.index=function(n){return typeof n=="number"?n:(n.proxyOf&&(n=n.proxyOf),this.proxyOf.nodes.indexOf(n))},i.insertAfter=function(n,o){var s=this.index(n),a=this.normalize(o,this.proxyOf.nodes[s]).reverse();s=this.index(n);for(var u=N(a),l;!(l=u()).done;){var f=l.value;this.proxyOf.nodes.splice(s+1,0,f)}var c;for(var d in this.indexes)c=this.indexes[d],s<c&&(this.indexes[d]=c+a.length);return this.markDirty(),this},i.insertBefore=function(n,o){var s=this.index(n),a=s===0?"prepend":!1,u=this.normalize(o,this.proxyOf.nodes[s],a).reverse();s=this.index(n);for(var l=N(u),f;!(f=l()).done;){var c=f.value;this.proxyOf.nodes.splice(s,0,c)}var d;for(var g in this.indexes)d=this.indexes[g],s<=d&&(this.indexes[g]=d+u.length);return this.markDirty(),this},i.normalize=function(n,o){var s=this;if(typeof n=="string")n=rh(eh(n).nodes);else if(typeof n>"u")n=[];else if(Array.isArray(n)){n=n.slice(0);for(var a=N(n),u;!(u=a()).done;){var l=u.value;l.parent&&l.parent.removeChild(l,"ignore")}}else if(n.type==="root"&&this.type!=="document"){n=n.nodes.slice(0);for(var f=N(n),c;!(c=f()).done;){var d=c.value;d.parent&&d.parent.removeChild(d,"ignore")}}else if(n.type)n=[n];else if(n.prop){if(typeof n.value>"u")throw new Error("Value field is missed in node creation");typeof n.value!="string"&&(n.value=String(n.value)),n=[new Zd(n)]}else if(n.selector)n=[new Hu(n)];else if(n.name)n=[new Ku(n)];else if(n.text)n=[new Qd(n)];else throw new Error("Unknown node type in node creation");var g=n.map(function(v){return v[Xd]||r.rebuild(v),v=v.proxyOf,v.parent&&v.parent.removeChild(v),v[Jd]&&ih(v),typeof v.raws.before>"u"&&o&&typeof o.raws.before<"u"&&(v.raws.before=o.raws.before.replace(/\S/g,"")),v.parent=s.proxyOf,v});return g},i.prepend=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];o=o.reverse();for(var a=N(o),u;!(u=a()).done;){for(var l=u.value,f=this.normalize(l,this.first,"prepend").reverse(),c=N(f),d;!(d=c()).done;){var g=d.value;this.proxyOf.nodes.unshift(g)}for(var v in this.indexes)this.indexes[v]=this.indexes[v]+f.length}return this.markDirty(),this},i.push=function(n){return n.parent=this,this.proxyOf.nodes.push(n),this},i.removeAll=function(){for(var n=N(this.proxyOf.nodes),o;!(o=n()).done;){var s=o.value;s.parent=void 0}return this.proxyOf.nodes=[],this.markDirty(),this},i.removeChild=function(n){n=this.index(n),this.proxyOf.nodes[n].parent=void 0,this.proxyOf.nodes.splice(n,1);var o;for(var s in this.indexes)o=this.indexes[s],o>=n&&(this.indexes[s]=o-1);return this.markDirty(),this},i.replaceValues=function(n,o,s){return s||(s=o,o={}),this.walkDecls(function(a){o.props&&!o.props.includes(a.prop)||o.fast&&!a.value.includes(o.fast)||(a.value=a.value.replace(n,s))}),this.markDirty(),this},i.some=function(n){return this.nodes.some(n)},i.walk=function(n){return this.each(function(o,s){var a;try{a=n(o,s)}catch(u){throw o.addToError(u)}return a!==!1&&o.walk&&(a=o.walk(n)),a})},i.walkAtRules=function(n,o){return o?L(n,RegExp)?this.walk(function(s,a){if(s.type==="atrule"&&n.test(s.name))return o(s,a)}):this.walk(function(s,a){if(s.type==="atrule"&&s.name===n)return o(s,a)}):(o=n,this.walk(function(s,a){if(s.type==="atrule")return o(s,a)}))},i.walkComments=function(n){return this.walk(function(o,s){if(o.type==="comment")return n(o,s)})},i.walkDecls=function(n,o){return o?L(n,RegExp)?this.walk(function(s,a){if(s.type==="decl"&&n.test(s.prop))return o(s,a)}):this.walk(function(s,a){if(s.type==="decl"&&s.prop===n)return o(s,a)}):(o=n,this.walk(function(s,a){if(s.type==="decl")return o(s,a)}))},i.walkRules=function(n,o){return o?L(n,RegExp)?this.walk(function(s,a){if(s.type==="rule"&&n.test(s.selector))return o(s,a)}):this.walk(function(s,a){if(s.type==="rule"&&s.selector===n)return o(s,a)}):(o=n,this.walk(function(s,a){if(s.type==="rule")return o(s,a)}))},_e(r,[{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),r})(Ay);Pt.registerParse=function(e){eh=e};Pt.registerRule=function(e){Hu=e};Pt.registerAtRule=function(e){Ku=e};Pt.registerRoot=function(e){th=e};var vr=Pt;Pt.default=Pt;Pt.rebuild=function(e){e.type==="atrule"?Object.setPrototypeOf(e,Ku.prototype):e.type==="rule"?Object.setPrototypeOf(e,Hu.prototype):e.type==="decl"?Object.setPrototypeOf(e,Zd.prototype):e.type==="comment"?Object.setPrototypeOf(e,Qd.prototype):e.type==="root"&&Object.setPrototypeOf(e,th.prototype),e[Xd]=!0,e.nodes&&e.nodes.forEach(function(r){Pt.rebuild(r)})};var Ny=vr,nh,oh,Oi=(function(e){be(r,e);function r(t){var n;return n=e.call(this,Y({type:"document"},t))||this,n.nodes||(n.nodes=[]),n}var i=r.prototype;return i.toResult=function(n){n===void 0&&(n={});var o=new nh(new oh,this,n);return o.stringify()},r})(Ny);Oi.registerLazyResult=function(e){nh=e};Oi.registerProcessor=function(e){oh=e};var Yu=Oi;Oi.default=Oi;var za=(function(){function e(i,t){if(t===void 0&&(t={}),this.type="warning",this.text=i,t.node&&t.node.source){var n=t.node.rangeBy(t);this.line=n.start.line,this.column=n.start.column,this.endLine=n.end.line,this.endColumn=n.end.column}for(var o in t)this[o]=t[o]}var r=e.prototype;return r.toString=function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e})(),sh=za;za.default=za;var My=sh,Wa=(function(){function e(i,t,n){this.processor=i,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}var r=e.prototype;return r.toString=function(){return this.css},r.warn=function(t,n){n===void 0&&(n={}),n.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(n.plugin=this.lastPlugin.postcssPlugin);var o=new My(t,n);return this.messages.push(o),o},r.warnings=function(){return this.messages.filter(function(t){return t.type==="warning"})},_e(e,[{key:"content",get:function(){return this.css}}]),e})(),Ju=Wa;Wa.default=Wa;var aa=39,uf=34,$n=92,lf=47,Dn=10,ci=32,Ln=12,Fn=9,Bn=13,Py=91,Ty=93,Ry=40,$y=41,Dy=123,Ly=125,Fy=59,By=42,Uy=58,jy=64,Un=/[\t\n\f\r "#'()/;[\\\]{}]/g,jn=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,zy=/.[\r\n"'(/\\]/,cf=/[\da-f]/i,Wy=function(r,i){i===void 0&&(i={});var t=r.css.valueOf(),n=i.ignoreErrors,o,s,a,u,l,f,c,d,g,v,_=t.length,m=0,y=[],w=[];function S(){return m}function C(P){throw r.error("Unclosed "+P,m)}function x(){return w.length===0&&m>=_}function I(P){if(w.length)return w.pop();if(!(m>=_)){var O=P?P.ignoreUnclosed:!1;switch(o=t.charCodeAt(m),o){case Dn:case ci:case Fn:case Bn:case Ln:{s=m;do s+=1,o=t.charCodeAt(s);while(o===ci||o===Dn||o===Fn||o===Bn||o===Ln);v=["space",t.slice(m,s)],m=s-1;break}case Py:case Ty:case Dy:case Ly:case Uy:case Fy:case $y:{var T=String.fromCharCode(o);v=[T,T,m];break}case Ry:{if(d=y.length?y.pop()[1]:"",g=t.charCodeAt(m+1),d==="url"&&g!==aa&&g!==uf&&g!==ci&&g!==Dn&&g!==Fn&&g!==Ln&&g!==Bn){s=m;do{if(f=!1,s=t.indexOf(")",s+1),s===-1)if(n||O){s=m;break}else C("bracket");for(c=s;t.charCodeAt(c-1)===$n;)c-=1,f=!f}while(f);v=["brackets",t.slice(m,s+1),m,s],m=s}else s=t.indexOf(")",m+1),u=t.slice(m,s+1),s===-1||zy.test(u)?v=["(","(",m]:(v=["brackets",u,m,s],m=s);break}case aa:case uf:{a=o===aa?"'":'"',s=m;do{if(f=!1,s=t.indexOf(a,s+1),s===-1)if(n||O){s=m+1;break}else C("string");for(c=s;t.charCodeAt(c-1)===$n;)c-=1,f=!f}while(f);v=["string",t.slice(m,s+1),m,s],m=s;break}case jy:{Un.lastIndex=m+1,Un.test(t),Un.lastIndex===0?s=t.length-1:s=Un.lastIndex-2,v=["at-word",t.slice(m,s+1),m,s],m=s;break}case $n:{for(s=m,l=!0;t.charCodeAt(s+1)===$n;)s+=1,l=!l;if(o=t.charCodeAt(s+1),l&&o!==lf&&o!==ci&&o!==Dn&&o!==Fn&&o!==Bn&&o!==Ln&&(s+=1,cf.test(t.charAt(s)))){for(;cf.test(t.charAt(s+1));)s+=1;t.charCodeAt(s+1)===ci&&(s+=1)}v=["word",t.slice(m,s+1),m,s],m=s;break}default:{o===lf&&t.charCodeAt(m+1)===By?(s=t.indexOf("*/",m+2)+1,s===0&&(n||O?s=t.length:C("comment")),v=["comment",t.slice(m,s+1),m,s],m=s):(jn.lastIndex=m+1,jn.test(t),jn.lastIndex===0?s=t.length-1:s=jn.lastIndex-2,v=["word",t.slice(m,s+1),m,s],y.push(v),m=s);break}}return m++,v}}function E(P){w.push(P)}return{back:E,endOfFile:x,nextToken:I,position:S}},ah=vr,Oo=(function(e){be(r,e);function r(t){var n;return n=e.call(this,t)||this,n.type="atrule",n}var i=r.prototype;return i.append=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.append).call.apply(a,[].concat([this],o))},i.prepend=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.prepend).call.apply(a,[].concat([this],o))},r})(ah),Xu=Oo;Oo.default=Oo;ah.registerAtRule(Oo);var uh=vr,lh,ch,Ur=(function(e){be(r,e);function r(t){var n;return n=e.call(this,t)||this,n.type="root",n.nodes||(n.nodes=[]),n}var i=r.prototype;return i.normalize=function(n,o,s){var a=e.prototype.normalize.call(this,n);if(o){if(s==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(var u=N(a),l;!(l=u()).done;){var f=l.value;f.raws.before=o.raws.before}}return a},i.removeChild=function(n,o){var s=this.index(n);return!o&&s===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[s].raws.before),e.prototype.removeChild.call(this,n)},i.toResult=function(n){n===void 0&&(n={});var o=new lh(new ch,this,n);return o.stringify()},r})(uh);Ur.registerLazyResult=function(e){lh=e};Ur.registerProcessor=function(e){ch=e};var Gi=Ur;Ur.default=Ur;uh.registerRoot(Ur);var Ai={comma:function(r){return Ai.split(r,[","],!0)},space:function(r){var i=[" ",`
`,"	"];return Ai.split(r,i)},split:function(r,i,t){for(var n=[],o="",s=!1,a=0,u=!1,l="",f=!1,c=N(r),d;!(d=c()).done;){var g=d.value;f?f=!1:g==="\\"?f=!0:u?g===l&&(u=!1):g==='"'||g==="'"?(u=!0,l=g):g==="("?a+=1:g===")"?a>0&&(a-=1):a===0&&i.includes(g)&&(s=!0),s?(o!==""&&n.push(o.trim()),o="",s=!1):o+=g}return(t||o!=="")&&n.push(o.trim()),n}},fh=Ai;Ai.default=Ai;var dh=vr,Vy=fh,Ao=(function(e){be(r,e);function r(i){var t;return t=e.call(this,i)||this,t.type="rule",t.nodes||(t.nodes=[]),t}return _e(r,[{key:"selectors",get:function(){return Vy.comma(this.selector)},set:function(t){var n=this.selector?this.selector.match(/,\s*/):null,o=n?n[0]:","+this.raw("between","beforeOpen");this.selector=t.join(o)}}]),r})(dh),Zu=Ao;Ao.default=Ao;dh.registerRule(Ao);var qy=is,Gy=Wy,Hy=os,Ky=Xu,Yy=Gi,ff=Zu,df={empty:!0,space:!0};function Jy(e){for(var r=e.length-1;r>=0;r--){var i=e[r],t=i[3]||i[2];if(t)return t}}var Xy=(function(){function e(i){this.input=i,this.root=new Yy,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:i,start:{column:1,line:1,offset:0}}}var r=e.prototype;return r.atrule=function(t){var n=new Ky;n.name=t[1].slice(1),n.name===""&&this.unnamedAtrule(n,t),this.init(n,t[2]);for(var o,s,a,u=!1,l=!1,f=[],c=[];!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),o=t[0],o==="("||o==="["?c.push(o==="("?")":"]"):o==="{"&&c.length>0?c.push("}"):o===c[c.length-1]&&c.pop(),c.length===0)if(o===";"){n.source.end=this.getPosition(t[2]),n.source.end.offset++,this.semicolon=!0;break}else if(o==="{"){l=!0;break}else if(o==="}"){if(f.length>0){for(a=f.length-1,s=f[a];s&&s[0]==="space";)s=f[--a];s&&(n.source.end=this.getPosition(s[3]||s[2]),n.source.end.offset++)}this.end(t);break}else f.push(t);else f.push(t);if(this.tokenizer.endOfFile()){u=!0;break}}n.raws.between=this.spacesAndCommentsFromEnd(f),f.length?(n.raws.afterName=this.spacesAndCommentsFromStart(f),this.raw(n,"params",f),u&&(t=f[f.length-1],n.source.end=this.getPosition(t[3]||t[2]),n.source.end.offset++,this.spaces=n.raws.between,n.raws.between="")):(n.raws.afterName="",n.params=""),l&&(n.nodes=[],this.current=n)},r.checkMissedSemicolon=function(t){var n=this.colon(t);if(n!==!1){for(var o=0,s,a=n-1;a>=0&&(s=t[a],!(s[0]!=="space"&&(o+=1,o===2)));a--);throw this.input.error("Missed semicolon",s[0]==="word"?s[3]+1:s[2])}},r.colon=function(t){for(var n=0,o,s,a,u=N(t.entries()),l;!(l=u()).done;){var f=l.value,c=f[0],d=f[1];if(o=d,s=o[0],s==="("&&(n+=1),s===")"&&(n-=1),n===0&&s===":")if(!a)this.doubleColon(o);else{if(a[0]==="word"&&a[1]==="progid")continue;return c}a=o}return!1},r.comment=function(t){var n=new Hy;this.init(n,t[2]),n.source.end=this.getPosition(t[3]||t[2]),n.source.end.offset++;var o=t[1].slice(2,-2);if(/^\s*$/.test(o))n.text="",n.raws.left=o,n.raws.right="";else{var s=o.match(/^(\s*)([^]*\S)(\s*)$/);n.text=s[2],n.raws.left=s[1],n.raws.right=s[3]}},r.createTokenizer=function(){this.tokenizer=Gy(this.input)},r.decl=function(t,n){var o=new qy;this.init(o,t[0][2]);var s=t[t.length-1];for(s[0]===";"&&(this.semicolon=!0,t.pop()),o.source.end=this.getPosition(s[3]||s[2]||Jy(t)),o.source.end.offset++;t[0][0]!=="word";)t.length===1&&this.unknownWord(t),o.raws.before+=t.shift()[1];for(o.source.start=this.getPosition(t[0][2]),o.prop="";t.length;){var a=t[0][0];if(a===":"||a==="space"||a==="comment")break;o.prop+=t.shift()[1]}o.raws.between="";for(var u;t.length;)if(u=t.shift(),u[0]===":"){o.raws.between+=u[1];break}else u[0]==="word"&&/\w/.test(u[1])&&this.unknownWord([u]),o.raws.between+=u[1];(o.prop[0]==="_"||o.prop[0]==="*")&&(o.raws.before+=o.prop[0],o.prop=o.prop.slice(1));for(var l=[],f;t.length&&(f=t[0][0],!(f!=="space"&&f!=="comment"));)l.push(t.shift());this.precheckMissedSemicolon(t);for(var c=t.length-1;c>=0;c--){if(u=t[c],u[1].toLowerCase()==="!important"){o.important=!0;var d=this.stringFrom(t,c);d=this.spacesFromEnd(t)+d,d!==" !important"&&(o.raws.important=d);break}else if(u[1].toLowerCase()==="important"){for(var g=t.slice(0),v="",_=c;_>0;_--){var m=g[_][0];if(v.trim().indexOf("!")===0&&m!=="space")break;v=g.pop()[1]+v}v.trim().indexOf("!")===0&&(o.important=!0,o.raws.important=v,t=g)}if(u[0]!=="space"&&u[0]!=="comment")break}var y=t.some(function(w){return w[0]!=="space"&&w[0]!=="comment"});y&&(o.raws.between+=l.map(function(w){return w[1]}).join(""),l=[]),this.raw(o,"value",l.concat(t),n),o.value.includes(":")&&!n&&this.checkMissedSemicolon(t)},r.doubleColon=function(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})},r.emptyRule=function(t){var n=new ff;this.init(n,t[2]),n.selector="",n.raws.between="",this.current=n},r.end=function(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)},r.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())},r.freeSemicolon=function(t){if(this.spaces+=t[1],this.current.nodes){var n=this.current.nodes[this.current.nodes.length-1];n&&n.type==="rule"&&!n.raws.ownSemicolon&&(n.raws.ownSemicolon=this.spaces,this.spaces="")}},r.getPosition=function(t){var n=this.input.fromOffset(t);return{column:n.col,line:n.line,offset:t}},r.init=function(t,n){this.current.push(t),t.source={input:this.input,start:this.getPosition(n)},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)},r.other=function(t){for(var n=!1,o=null,s=!1,a=null,u=[],l=t[1].startsWith("--"),f=[],c=t;c;){if(o=c[0],f.push(c),o==="("||o==="[")a||(a=c),u.push(o==="("?")":"]");else if(l&&s&&o==="{")a||(a=c),u.push("}");else if(u.length===0)if(o===";")if(s){this.decl(f,l);return}else break;else if(o==="{"){this.rule(f);return}else if(o==="}"){this.tokenizer.back(f.pop()),n=!0;break}else o===":"&&(s=!0);else o===u[u.length-1]&&(u.pop(),u.length===0&&(a=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(n=!0),u.length>0&&this.unclosedBracket(a),n&&s){if(!l)for(;f.length&&(c=f[f.length-1][0],!(c!=="space"&&c!=="comment"));)this.tokenizer.back(f.pop());this.decl(f,l)}else this.unknownWord(f)},r.parse=function(){for(var t;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()},r.precheckMissedSemicolon=function(){},r.raw=function(t,n,o,s){for(var a,u,l=o.length,f="",c=!0,d,g,v=0;v<l;v+=1)a=o[v],u=a[0],u==="space"&&v===l-1&&!s?c=!1:u==="comment"?(g=o[v-1]?o[v-1][0]:"empty",d=o[v+1]?o[v+1][0]:"empty",!df[g]&&!df[d]?f.slice(-1)===","?c=!1:f+=a[1]:c=!1):f+=a[1];if(!c){var _=o.reduce(function(m,y){return m+y[1]},"");t.raws[n]={raw:_,value:f}}t[n]=f},r.rule=function(t){t.pop();var n=new ff;this.init(n,t[0][2]),n.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(n,"selector",t),this.current=n},r.spacesAndCommentsFromEnd=function(t){for(var n,o="";t.length&&(n=t[t.length-1][0],!(n!=="space"&&n!=="comment"));)o=t.pop()[1]+o;return o},r.spacesAndCommentsFromStart=function(t){for(var n,o="";t.length&&(n=t[0][0],!(n!=="space"&&n!=="comment"));)o+=t.shift()[1];return o},r.spacesFromEnd=function(t){for(var n,o="";t.length&&(n=t[t.length-1][0],n==="space");)o=t.pop()[1]+o;return o},r.stringFrom=function(t,n){for(var o="",s=n;s<t.length;s++)o+=t[s][1];return t.splice(n,t.length-n),o},r.unclosedBlock=function(){var t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)},r.unclosedBracket=function(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})},r.unexpectedClose=function(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})},r.unknownWord=function(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})},r.unnamedAtrule=function(t,n){throw this.input.error("At-rule without name",{offset:n[2]},{offset:n[2]+n[1].length})},e})(),Zy=Xy,Qy=vr,e_=Zy,t_=ns;function No(e,r){var i=new t_(e,r),t=new e_(i);try{t.parse()}catch(n){throw n}return t.root}var Qu=No;No.default=No;Qy.registerParse(No);var mt=Kt.isClean,r_=Kt.my,i_=Yd,n_=ts,o_=vr,s_=Yu;var hf=Ju,a_=Qu,u_=Gi,l_={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},c_={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},f_={Once:!0,postcssPlugin:!0,prepare:!0},jr=0;function fi(e){return(typeof e>"u"?"undefined":F(e))==="object"&&typeof e.then=="function"}function hh(e){var r=!1,i=l_[e.type];return e.type==="decl"?r=e.prop.toLowerCase():e.type==="atrule"&&(r=e.name.toLowerCase()),r&&e.append?[i,i+"-"+r,jr,i+"Exit",i+"Exit-"+r]:r?[i,i+"-"+r,i+"Exit",i+"Exit-"+r]:e.append?[i,jr,i+"Exit"]:[i,i+"Exit"]}function pf(e){var r;return e.type==="document"?r=["Document",jr,"DocumentExit"]:e.type==="root"?r=["Root",jr,"RootExit"]:r=hh(e),{eventIndex:0,events:r,iterator:0,node:e,visitorIndex:0,visitors:[]}}function Va(e){return e[mt]=!1,e.nodes&&e.nodes.forEach(function(r){return Va(r)}),e}var qa={},zr=(function(){function e(i,t,n){var o=this;this.stringified=!1,this.processed=!1;var s;if((typeof t>"u"?"undefined":F(t))==="object"&&t!==null&&(t.type==="root"||t.type==="document"))s=Va(t);else if(L(t,e)||L(t,hf))s=Va(t.root),t.map&&(typeof n.map>"u"&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{var a=a_;n.syntax&&(a=n.syntax.parse),n.parser&&(a=n.parser),a.parse&&(a=a.parse);try{s=a(t,n)}catch(u){this.processed=!0,this.error=u}s&&!s[r_]&&o_.rebuild(s)}this.result=new hf(i,s,n),this.helpers=Y({},qa,{postcss:qa,result:this.result}),this.plugins=this.processor.plugins.map(function(u){return(typeof u>"u"?"undefined":F(u))==="object"&&u.prepare?Y({},u,u.prepare(o.result)):u})}var r=e.prototype;return r.async=function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)},r.catch=function(t){return this.async().catch(t)},r.finally=function(t){return this.async().then(t,t)},r.getAsyncError=function(){throw new Error("Use process(css).then(cb) to work with async plugins")},r.handleError=function(t,n){var o=this.result.lastPlugin;try{if(n&&n.addToError(t),this.error=t,t.name==="CssSyntaxError"&&!t.plugin)t.plugin=o.postcssPlugin,t.setMessage();else if(o.postcssVersion&&0)var s,a,u,l,f}catch(c){console&&console.error&&console.error(c)}return t},r.prepareVisitors=function(){var t=this;this.listeners={};for(var n=function(f,c,d){t.listeners[c]||(t.listeners[c]=[]),t.listeners[c].push([f,d])},o=N(this.plugins),s;!(s=o()).done;){var a=s.value;if((typeof a>"u"?"undefined":F(a))==="object")for(var u in a){if(!c_[u]&&/^[A-Z]/.test(u))throw new Error("Unknown event "+u+" in "+a.postcssPlugin+". Try to update PostCSS ("+this.processor.version+" now).");if(!f_[u])if(F(a[u])==="object")for(var l in a[u])l==="*"?n(a,u,a[u][l]):n(a,u+"-"+l.toLowerCase(),a[u][l]);else typeof a[u]=="function"&&n(a,u,a[u])}}this.hasListener=Object.keys(this.listeners).length>0},r.runAsync=function(){var t=this;return es(function(){var n,o,s,a,u,l,f,c,d,g,v,_;return fr(this,function(m){switch(m.label){case 0:t.plugin=0,n=0,m.label=1;case 1:if(!(n<t.plugins.length))return[3,6];if(o=t.plugins[n],s=t.runOnRoot(o),!fi(s))return[3,5];m.label=2;case 2:return m.trys.push([2,4,,5]),[4,s];case 3:return m.sent(),[3,5];case 4:throw a=m.sent(),t.handleError(a);case 5:return n++,[3,1];case 6:if(t.prepareVisitors(),!t.hasListener)return[3,18];u=t.result.root,m.label=7;case 7:if(u[mt])return[3,14];u[mt]=!0,l=[pf(u)],m.label=8;case 8:if(!(l.length>0))return[3,13];if(f=t.visitTick(l),!fi(f))return[3,12];m.label=9;case 9:return m.trys.push([9,11,,12]),[4,f];case 10:return m.sent(),[3,12];case 11:throw c=m.sent(),d=l[l.length-1].node,t.handleError(c,d);case 12:return[3,8];case 13:return[3,7];case 14:if(!t.listeners.OnceExit)return[3,18];g=function(){var y,w,S,C,x;return fr(this,function(I){switch(I.label){case 0:y=_.value,w=y[0],S=y[1],t.result.lastPlugin=w,I.label=1;case 1:return I.trys.push([1,6,,7]),u.type!=="document"?[3,3]:(C=u.nodes.map(function(E){return S(E,t.helpers)}),[4,Promise.all(C)]);case 2:return I.sent(),[3,5];case 3:return[4,S(u,t.helpers)];case 4:I.sent(),I.label=5;case 5:return[3,7];case 6:throw x=I.sent(),t.handleError(x);case 7:return[2]}})},v=N(t.listeners.OnceExit),m.label=15;case 15:return(_=v()).done?[3,18]:[5,zu(g())];case 16:m.sent(),m.label=17;case 17:return[3,15];case 18:return t.processed=!0,[2,t.stringify()]}})})()},r.runOnRoot=function(t){var n=this;this.result.lastPlugin=t;try{if((typeof t>"u"?"undefined":F(t))==="object"&&t.Once){if(this.result.root.type==="document"){var o=this.result.root.nodes.map(function(s){return t.Once(s,n.helpers)});return fi(o[0])?Promise.all(o):o}return t.Once(this.result.root,this.helpers)}else if(typeof t=="function")return t(this.result.root,this.result)}catch(s){throw this.handleError(s)}},r.stringify=function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var t=this.result.opts,n=n_;t.syntax&&(n=t.syntax.stringify),t.stringifier&&(n=t.stringifier),n.stringify&&(n=n.stringify);var o=new i_(n,this.result.root,this.result.opts),s=o.generate();return this.result.css=s[0],this.result.map=s[1],this.result},r.sync=function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var t=N(this.plugins),n;!(n=t()).done;){var o=n.value,s=this.runOnRoot(o);if(fi(s))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var a=this.result.root;!a[mt];)a[mt]=!0,this.walkSync(a);if(this.listeners.OnceExit)if(a.type==="document")for(var u=N(a.nodes),l;!(l=u()).done;){var f=l.value;this.visitSync(this.listeners.OnceExit,f)}else this.visitSync(this.listeners.OnceExit,a)}return this.result},r.then=function(t,n){return this.async().then(t,n)},r.toString=function(){return this.css},r.visitSync=function(t,n){for(var o=N(t),s;!(s=o()).done;){var a=s.value,u=a[0],l=a[1];this.result.lastPlugin=u;var f=void 0;try{f=l(n,this.helpers)}catch(c){throw this.handleError(c,n.proxyOf)}if(n.type!=="root"&&n.type!=="document"&&!n.parent)return!0;if(fi(f))throw this.getAsyncError()}},r.visitTick=function(t){var n=t[t.length-1],o=n.node,s=n.visitors;if(o.type!=="root"&&o.type!=="document"&&!o.parent){t.pop();return}if(s.length>0&&n.visitorIndex<s.length){var a=s[n.visitorIndex],u=a[0],l=a[1];n.visitorIndex+=1,n.visitorIndex===s.length&&(n.visitors=[],n.visitorIndex=0),this.result.lastPlugin=u;try{return l(o.toProxy(),this.helpers)}catch(v){throw this.handleError(v,o)}}if(n.iterator!==0){for(var f=n.iterator,c;c=o.nodes[o.indexes[f]];)if(o.indexes[f]+=1,!c[mt]){c[mt]=!0,t.push(pf(c));return}n.iterator=0,delete o.indexes[f]}for(var d=n.events;n.eventIndex<d.length;){var g=d[n.eventIndex];if(n.eventIndex+=1,g===jr){o.nodes&&o.nodes.length&&(o[mt]=!0,n.iterator=o.getIterator());return}else if(this.listeners[g]){n.visitors=this.listeners[g];return}}t.pop()},r.walkSync=function(t){var n=this;t[mt]=!0;for(var o=hh(t),s=N(o),a;!(a=s()).done;){var u=a.value;if(u===jr)t.nodes&&t.each(function(f){f[mt]||n.walkSync(f)});else{var l=this.listeners[u];if(l&&this.visitSync(l,t.toProxy()))return}}},r.warnings=function(){return this.sync().warnings()},_e(e,[{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),e})();zr.registerPostcss=function(e){qa=e};var ph=zr;zr.default=zr;u_.registerLazyResult(zr);s_.registerLazyResult(zr);var d_=Yd,h_=ts;var p_=Qu,v_=Ju,Ga=(function(){function e(i,t,n){t=t.toString(),this.stringified=!1,this._processor=i,this._css=t,this._opts=n,this._map=void 0;var o,s=h_;this.result=new v_(this._processor,o,this._opts),this.result.css=t;var a=this;Object.defineProperty(this.result,"root",{get:function(){return a.root}});var u=new d_(s,o,this._opts,t);if(u.isMap()){var l=u.generate(),f=l[0],c=l[1];f&&(this.result.css=f),c&&(this.result.map=c)}else u.clearAnnotation(),this.result.css=u.css}var r=e.prototype;return r.async=function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)},r.catch=function(t){return this.async().catch(t)},r.finally=function(t){return this.async().then(t,t)},r.sync=function(){if(this.error)throw this.error;return this.result},r.then=function(t,n){return this.async().then(t,n)},r.toString=function(){return this._css},r.warnings=function(){return[]},_e(e,[{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var t,n=p_;try{t=n(this._css,this._opts)}catch(o){this.error=o}if(this.error)throw this.error;return this._root=t,t}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),e})(),m_=Ga;Ga.default=Ga;var g_=m_,y_=ph,__=Yu,b_=Gi,Ni=(function(){function e(i){i===void 0&&(i=[]),this.version="8.4.38",this.plugins=this.normalize(i)}var r=e.prototype;return r.normalize=function(t){for(var n=[],o=N(t),s;!(s=o()).done;){var a=s.value;if(a.postcss===!0?a=a():a.postcss&&(a=a.postcss),(typeof a>"u"?"undefined":F(a))==="object"&&Array.isArray(a.plugins))n=n.concat(a.plugins);else if((typeof a>"u"?"undefined":F(a))==="object"&&a.postcssPlugin)n.push(a);else if(typeof a=="function")n.push(a);else if(!((typeof a>"u"?"undefined":F(a))==="object"&&(a.parse||a.stringify)))throw new Error(a+" is not a PostCSS plugin")}return n},r.process=function(t,n){return n===void 0&&(n={}),!this.plugins.length&&!n.parser&&!n.stringifier&&!n.syntax?new g_(this,t,n):new y_(this,t,n)},r.use=function(t){return this.plugins=this.plugins.concat(this.normalize([t])),this},e})(),w_=Ni;Ni.default=Ni;b_.registerProcessor(Ni);__.registerProcessor(Ni);var S_=is,x_=Vd,C_=os,k_=Xu,I_=ns,E_=Gi,O_=Zu;function Mi(e,r){if(Array.isArray(e))return e.map(function(c){return Mi(c)});var i=e.inputs,t=cr(e,["inputs"]);if(i){r=[];for(var n=N(i),o;!(o=n()).done;){var s=o.value,a=Y({},s,{__proto__:I_.prototype});a.map&&(a.map=Y({},a.map,{__proto__:x_.prototype})),r.push(a)}}if(t.nodes&&(t.nodes=e.nodes.map(function(c){return Mi(c,r)})),t.source){var u=t.source,l=u.inputId,f=cr(u,["inputId"]);t.source=f,l!=null&&(t.source.input=r[l])}if(t.type==="root")return new E_(t);if(t.type==="decl")return new S_(t);if(t.type==="rule")return new O_(t);if(t.type==="comment")return new C_(t);if(t.type==="atrule")return new k_(t);throw new Error("Unknown node type: "+e.type)}var A_=Mi;Mi.default=Mi;var N_=Gu,vh=is,M_=ph,P_=vr,el=w_,T_=ts,R_=A_,mh=Yu,$_=sh,gh=os,yh=Xu,D_=Ju,L_=ns,F_=Qu,B_=fh,_h=Zu,bh=Gi,U_=rs;function se(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.length===1&&Array.isArray(r[0])&&(r=r[0]),new el(r)}se.plugin=function(r,i){var t=!1;function n(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];console&&console.warn&&!t&&(t=!0,console.warn(r+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(r+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));var l=i.apply(void 0,[].concat(a));return l.postcssPlugin=r,l.postcssVersion=new el().version,l}var o;return Object.defineProperty(n,"postcss",{get:function(){return o||(o=n()),o}}),n.process=function(s,a,u){return se([n(u)]).process(s,a)},n};se.stringify=T_;se.parse=F_;se.fromJSON=R_;se.list=B_;se.comment=function(e){return new gh(e)};se.atRule=function(e){return new yh(e)};se.decl=function(e){return new vh(e)};se.rule=function(e){return new _h(e)};se.root=function(e){return new bh(e)};se.document=function(e){return new mh(e)};se.CssSyntaxError=N_;se.Declaration=vh;se.Container=P_;se.Processor=el;se.Document=mh;se.Comment=gh;se.Warning=$_;se.AtRule=yh;se.Result=D_;se.Input=L_;se.Rule=_h;se.Root=bh;se.Node=U_;M_.registerPostcss(se);var j_=se;se.default=se;var we=ey(j_);we.stringify;we.fromJSON;we.plugin;we.parse;we.list;we.document;we.comment;we.atRule;we.rule;we.decl;we.root;we.CssSyntaxError;we.Declaration;we.Container;we.Processor;we.Document;we.Comment;we.Warning;we.AtRule;we.Result;we.Input;we.Rule;we.Root;we.Node;var z_=Object.defineProperty,W_=function(e,r,i){return r in e?z_(e,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[r]=i},rt=function(e,r,i){return W_(e,(typeof r>"u"?"undefined":F(r))!=="symbol"?r+"":r,i)};function V_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function q_(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var i=function t(){return L(this,t)?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),i}var tl={exports:{}},me=String,wh=function(){return{isColorSupported:!1,reset:me,bold:me,dim:me,italic:me,underline:me,inverse:me,hidden:me,strikethrough:me,black:me,red:me,green:me,yellow:me,blue:me,magenta:me,cyan:me,white:me,gray:me,bgBlack:me,bgRed:me,bgGreen:me,bgYellow:me,bgBlue:me,bgMagenta:me,bgCyan:me,bgWhite:me}};tl.exports=wh();tl.exports.createColors=wh;var G_=tl.exports,H_={},K_=Object.freeze(Object.defineProperty({__proto__:null,default:H_},Symbol.toStringTag,{value:"Module"})),Pe=q_(K_),vf=G_,mf=Pe,Ha=(function(e){be(r,e);function r(t,n,o,s,a,u){var l;return l=e.call(this,t)||this,l.name="CssSyntaxError",l.reason=t,a&&(l.file=a),s&&(l.source=s),u&&(l.plugin=u),typeof n<"u"&&typeof o<"u"&&(typeof n=="number"?(l.line=n,l.column=o):(l.line=n.line,l.column=n.column,l.endLine=o.line,l.endColumn=o.column)),l.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(l,r),l}var i=r.prototype;return i.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},i.showSourceCode=function(n){var o=this;if(!this.source)return"";var s=this.source;n==null&&(n=vf.isColorSupported),mf&&n&&(s=mf(s));var a=s.split(/\r?\n/),u=Math.max(this.line-3,0),l=Math.min(this.line+2,a.length),f=String(l).length,c,d;if(n){var g=vf.createColors(!0),v=g.bold,_=g.gray,m=g.red;c=function(y){return v(m(y))},d=function(y){return _(y)}}else c=d=function(y){return y};return a.slice(u,l).map(function(y,w){var S=u+1+w,C=" "+(" "+S).slice(-f)+" | ";if(S===o.line){var x=d(C.replace(/\d/g," "))+y.slice(0,o.column-1).replace(/[^\t]/g," ");return c(">")+d(C)+y+`
 `+x+c("^")}return" "+d(C)+y}).join(`
`)},i.toString=function(){var n=this.showSourceCode();return n&&(n=`

`+n+`
`),this.name+": "+this.message+n},r})(Ii(Error)),rl=Ha;Ha.default=Ha;var Yt={};Yt.isClean=Symbol("isClean");Yt.my=Symbol("my");var gf={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function Y_(e){return e[0].toUpperCase()+e.slice(1)}var Ka=(function(){function e(i){this.builder=i}var r=e.prototype;return r.atrule=function(t,n){var o="@"+t.name,s=t.params?this.rawValue(t,"params"):"";if(typeof t.raws.afterName<"u"?o+=t.raws.afterName:s&&(o+=" "),t.nodes)this.block(t,o+s);else{var a=(t.raws.between||"")+(n?";":"");this.builder(o+s+a,t)}},r.beforeAfter=function(t,n){var o;t.type==="decl"?o=this.raw(t,null,"beforeDecl"):t.type==="comment"?o=this.raw(t,null,"beforeComment"):n==="before"?o=this.raw(t,null,"beforeRule"):o=this.raw(t,null,"beforeClose");for(var s=t.parent,a=0;s&&s.type!=="root";)a+=1,s=s.parent;if(o.includes(`
`)){var u=this.raw(t,null,"indent");if(u.length)for(var l=0;l<a;l++)o+=u}return o},r.block=function(t,n){var o=this.raw(t,"between","beforeOpen");this.builder(n+o+"{",t,"start");var s;t.nodes&&t.nodes.length?(this.body(t),s=this.raw(t,"after")):s=this.raw(t,"after","emptyBody"),s&&this.builder(s),this.builder("}",t,"end")},r.body=function(t){for(var n=t.nodes.length-1;n>0&&t.nodes[n].type==="comment";)n-=1;for(var o=this.raw(t,"semicolon"),s=0;s<t.nodes.length;s++){var a=t.nodes[s],u=this.raw(a,"before");u&&this.builder(u),this.stringify(a,n!==s||o)}},r.comment=function(t){var n=this.raw(t,"left","commentLeft"),o=this.raw(t,"right","commentRight");this.builder("/*"+n+t.text+o+"*/",t)},r.decl=function(t,n){var o=this.raw(t,"between","colon"),s=t.prop+o+this.rawValue(t,"value");t.important&&(s+=t.raws.important||" !important"),n&&(s+=";"),this.builder(s,t)},r.document=function(t){this.body(t)},r.raw=function(t,n,o){var s;if(o||(o=n),n&&(s=t.raws[n],typeof s<"u"))return s;var a=t.parent;if(o==="before"&&(!a||a.type==="root"&&a.first===t||a&&a.type==="document"))return"";if(!a)return gf[o];var u=t.root();if(u.rawCache||(u.rawCache={}),typeof u.rawCache[o]<"u")return u.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(t,o);var l="raw"+Y_(o);return this[l]?s=this[l](u,t):u.walk(function(f){if(s=f.raws[n],typeof s<"u")return!1}),typeof s>"u"&&(s=gf[o]),u.rawCache[o]=s,s},r.rawBeforeClose=function(t){var n;return t.walk(function(o){if(o.nodes&&o.nodes.length>0&&typeof o.raws.after<"u")return n=o.raws.after,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n},r.rawBeforeComment=function(t,n){var o;return t.walkComments(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(n,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o},r.rawBeforeDecl=function(t,n){var o;return t.walkDecls(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(n,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o},r.rawBeforeOpen=function(t){var n;return t.walk(function(o){if(o.type!=="decl"&&(n=o.raws.between,typeof n<"u"))return!1}),n},r.rawBeforeRule=function(t){var n;return t.walk(function(o){if(o.nodes&&(o.parent!==t||t.first!==o)&&typeof o.raws.before<"u")return n=o.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n},r.rawColon=function(t){var n;return t.walkDecls(function(o){if(typeof o.raws.between<"u")return n=o.raws.between.replace(/[^\s:]/g,""),!1}),n},r.rawEmptyBody=function(t){var n;return t.walk(function(o){if(o.nodes&&o.nodes.length===0&&(n=o.raws.after,typeof n<"u"))return!1}),n},r.rawIndent=function(t){if(t.raws.indent)return t.raws.indent;var n;return t.walk(function(o){var s=o.parent;if(s&&s!==t&&s.parent&&s.parent===t&&typeof o.raws.before<"u"){var a=o.raws.before.split(`
`);return n=a[a.length-1],n=n.replace(/\S/g,""),!1}}),n},r.rawSemicolon=function(t){var n;return t.walk(function(o){if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(n=o.raws.semicolon,typeof n<"u"))return!1}),n},r.rawValue=function(t,n){var o=t[n],s=t.raws[n];return s&&s.value===o?s.raw:o},r.root=function(t){this.body(t),t.raws.after&&this.builder(t.raws.after)},r.rule=function(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")},r.stringify=function(t,n){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,n)},e})(),Sh=Ka;Ka.default=Ka;var J_=Sh;function Ya(e,r){var i=new J_(r);i.stringify(e)}var ss=Ya;Ya.default=Ya;var zn=Yt.isClean,X_=Yt.my,Z_=rl,Q_=Sh,eb=ss;function Ja(e,r){var i=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&t!=="proxyCache"){var n=e[t],o=typeof n>"u"?"undefined":F(n);t==="parent"&&o==="object"?r&&(i[t]=r):t==="source"?i[t]=n:Array.isArray(n)?i[t]=n.map(function(s){return Ja(s,i)}):(o==="object"&&n!==null&&(n=Ja(n)),i[t]=n)}return i}var Xa=(function(){function e(i){i===void 0&&(i={}),this.raws={},this[zn]=!1,this[X_]=!0;for(var t in i)if(t==="nodes"){this.nodes=[];for(var n=N(i[t]),o;!(o=n()).done;){var s=o.value;typeof s.clone=="function"?this.append(s.clone()):this.append(s)}}else this[t]=i[t]}var r=e.prototype;return r.addToError=function(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){var n=this.source;t.stack=t.stack.replace(/\n\s{4}at /,"$&"+n.input.from+":"+n.start.line+":"+n.start.column+"$&")}return t},r.after=function(t){return this.parent.insertAfter(this,t),this},r.assign=function(t){t===void 0&&(t={});for(var n in t)this[n]=t[n];return this},r.before=function(t){return this.parent.insertBefore(this,t),this},r.cleanRaws=function(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between},r.clone=function(t){t===void 0&&(t={});var n=Ja(this);for(var o in t)n[o]=t[o];return n},r.cloneAfter=function(t){t===void 0&&(t={});var n=this.clone(t);return this.parent.insertAfter(this,n),n},r.cloneBefore=function(t){t===void 0&&(t={});var n=this.clone(t);return this.parent.insertBefore(this,n),n},r.error=function(t,n){if(n===void 0&&(n={}),this.source){var o=this.rangeBy(n),s=o.end,a=o.start;return this.source.input.error(t,{column:a.column,line:a.line},{column:s.column,line:s.line},n)}return new Z_(t)},r.getProxyProcessor=function(){return{get:function(n,o){return o==="proxyOf"?n:o==="root"?function(){return n.root().toProxy()}:n[o]},set:function(n,o,s){return n[o]===s||(n[o]=s,(o==="prop"||o==="value"||o==="name"||o==="params"||o==="important"||o==="text")&&n.markDirty()),!0}}},r.markDirty=function(){if(this[zn]){this[zn]=!1;for(var t=this;t=t.parent;)t[zn]=!1}},r.next=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t+1]}},r.positionBy=function(t,n){var o=this.source.start;if(t.index)o=this.positionInside(t.index,n);else if(t.word){n=this.toString();var s=n.indexOf(t.word);s!==-1&&(o=this.positionInside(s,n))}return o},r.positionInside=function(t,n){for(var o=n||this.toString(),s=this.source.start.column,a=this.source.start.line,u=0;u<t;u++)o[u]===`
`?(s=1,a+=1):s+=1;return{column:s,line:a}},r.prev=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t-1]}},r.rangeBy=function(t){var n={column:this.source.start.column,line:this.source.start.line},o=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:n.column+1,line:n.line};if(t.word){var s=this.toString(),a=s.indexOf(t.word);a!==-1&&(n=this.positionInside(a,s),o=this.positionInside(a+t.word.length,s))}else t.start?n={column:t.start.column,line:t.start.line}:t.index&&(n=this.positionInside(t.index)),t.end?o={column:t.end.column,line:t.end.line}:typeof t.endIndex=="number"?o=this.positionInside(t.endIndex):t.index&&(o=this.positionInside(t.index+1));return(o.line<n.line||o.line===n.line&&o.column<=n.column)&&(o={column:n.column+1,line:n.line}),{end:o,start:n}},r.raw=function(t,n){var o=new Q_;return o.raw(this,t,n)},r.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},r.replaceWith=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(this.parent){for(var s=this,a=!1,u=N(n),l;!(l=u()).done;){var f=l.value;f===this?a=!0:a?(this.parent.insertAfter(s,f),s=f):this.parent.insertBefore(s,f)}a||this.remove()}return this},r.root=function(){for(var t=this;t.parent&&t.parent.type!=="document";)t=t.parent;return t},r.toJSON=function(t,n){var o={},s=n==null;n=n||new Map;var a=0;for(var u in this)if(Object.prototype.hasOwnProperty.call(this,u)&&!(u==="parent"||u==="proxyCache")){var l=this[u];if(Array.isArray(l))o[u]=l.map(function(c){return(typeof c>"u"?"undefined":F(c))==="object"&&c.toJSON?c.toJSON(null,n):c});else if((typeof l>"u"?"undefined":F(l))==="object"&&l.toJSON)o[u]=l.toJSON(null,n);else if(u==="source"){var f=n.get(l.input);f==null&&(f=a,n.set(l.input,a),a++),o[u]={end:l.end,inputId:f,start:l.start}}else o[u]=l}return s&&(o.inputs=[].concat(n.keys()).map(function(c){return c.toJSON()})),o},r.toProxy=function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache},r.toString=function(t){t===void 0&&(t=eb),t.stringify&&(t=t.stringify);var n="";return t(this,function(o){n+=o}),n},r.warn=function(t,n,o){var s={node:this};for(var a in o)s[a]=o[a];return t.warn(n,s)},_e(e,[{key:"proxyOf",get:function(){return this}}]),e})(),as=Xa;Xa.default=Xa;var tb=as,Za=(function(e){be(r,e);function r(i){var t;return i&&typeof i.value<"u"&&typeof i.value!="string"&&(i=Y({},i,{value:String(i.value)})),t=e.call(this,i)||this,t.type="decl",t}return _e(r,[{key:"variable",get:function(){return this.prop.startsWith("--")||this.prop[0]==="$"}}]),r})(tb),us=Za;Za.default=Za;var rb="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ib=function(e){e===void 0&&(e=21);for(var r="",i=e;i--;)r+=rb[Math.random()*64|0];return r},nb={nanoid:ib},yf=Pe.SourceMapConsumer,_f=Pe.SourceMapGenerator,ob=Pe.existsSync,sb=Pe.readFileSync,ua=Pe.dirname,ab=Pe.join;function ub(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}var Qa=(function(){function e(i,t){if(t.map!==!1){this.loadAnnotation(i),this.inline=this.startWith(this.annotation,"data:");var n=t.map?t.map.prev:void 0,o=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=ua(this.mapFile)),o&&(this.text=o)}}var r=e.prototype;return r.consumer=function(){return this.consumerCache||(this.consumerCache=new yf(this.text)),this.consumerCache},r.decodeInline=function(t){var n=/^data:application\/json;charset=utf-?8;base64,/,o=/^data:application\/json;base64,/,s=/^data:application\/json;charset=utf-?8,/,a=/^data:application\/json,/;if(s.test(t)||a.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(n.test(t)||o.test(t))return ub(t.substr(RegExp.lastMatch.length));var u=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+u)},r.getAnnotationURL=function(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()},r.isMap=function(t){return(typeof t>"u"?"undefined":F(t))!=="object"?!1:typeof t.mappings=="string"||typeof t._mappings=="string"||Array.isArray(t.sections)},r.loadAnnotation=function(t){var n=t.match(/\/\*\s*# sourceMappingURL=/gm);if(n){var o=t.lastIndexOf(n.pop()),s=t.indexOf("*/",o);o>-1&&s>-1&&(this.annotation=this.getAnnotationURL(t.substring(o,s)))}},r.loadFile=function(t){if(this.root=ua(t),ob(t))return this.mapFile=t,sb(t,"utf-8").toString().trim()},r.loadMap=function(t,n){if(n===!1)return!1;if(n){if(typeof n=="string")return n;if(typeof n=="function"){var o=n(t);if(o){var s=this.loadFile(o);if(!s)throw new Error("Unable to load previous source map: "+o.toString());return s}}else{if(L(n,yf))return _f.fromSourceMap(n).toString();if(L(n,_f))return n.toString();if(this.isMap(n))return JSON.stringify(n);throw new Error("Unsupported previous source map format: "+n.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var a=this.annotation;return t&&(a=ab(ua(t),a)),this.loadFile(a)}}},r.startWith=function(t,n){return t?t.substr(0,n.length)===n:!1},r.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e})(),xh=Qa;Qa.default=Qa;var lb=Pe.SourceMapConsumer,cb=Pe.SourceMapGenerator,bf=Pe.fileURLToPath,Wn=Pe.pathToFileURL,eu=Pe.isAbsolute,tu=Pe.resolve,fb=nb.nanoid,la=Pe,wf=rl,db=xh,ca=Symbol("fromOffsetCache"),hb=!!(lb&&cb),Sf=!!(tu&&eu),Mo=(function(){function e(i,t){if(t===void 0&&(t={}),i===null||typeof i>"u"||(typeof i>"u"?"undefined":F(i))==="object"&&!i.toString)throw new Error("PostCSS received "+i+" instead of CSS string");if(this.css=i.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!Sf||/^\w+:\/\//.test(t.from)||eu(t.from)?this.file=t.from:this.file=tu(t.from)),Sf&&hb){var n=new db(this.css,t);if(n.text){this.map=n;var o=n.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+fb(6)+">"),this.map&&(this.map.file=this.from)}var r=e.prototype;return r.error=function(t,n,o,s){s===void 0&&(s={});var a,u,l;if(n&&(typeof n>"u"?"undefined":F(n))==="object"){var f=n,c=o;if(typeof f.offset=="number"){var d=this.fromOffset(f.offset);n=d.line,o=d.col}else n=f.line,o=f.column;if(typeof c.offset=="number"){var g=this.fromOffset(c.offset);u=g.line,l=g.col}else u=c.line,l=c.column}else if(!o){var v=this.fromOffset(n);n=v.line,o=v.col}var _=this.origin(n,o,u,l);return _?a=new wf(t,_.endLine===void 0?_.line:{column:_.column,line:_.line},_.endLine===void 0?_.column:{column:_.endColumn,line:_.endLine},_.source,_.file,s.plugin):a=new wf(t,u===void 0?n:{column:o,line:n},u===void 0?o:{column:l,line:u},this.css,this.file,s.plugin),a.input={column:o,endColumn:l,endLine:u,line:n,source:this.css},this.file&&(Wn&&(a.input.url=Wn(this.file).toString()),a.input.file=this.file),a},r.fromOffset=function(t){var n,o;if(this[ca])o=this[ca];else{var s=this.css.split(`
`);o=new Array(s.length);for(var a=0,u=0,l=s.length;u<l;u++)o[u]=a,a+=s[u].length+1;this[ca]=o}n=o[o.length-1];var f=0;if(t>=n)f=o.length-1;else for(var c=o.length-2,d;f<c;)if(d=f+(c-f>>1),t<o[d])c=d-1;else if(t>=o[d+1])f=d+1;else{f=d;break}return{col:t-o[f]+1,line:f+1}},r.mapResolve=function(t){return/^\w+:\/\//.test(t)?t:tu(this.map.consumer().sourceRoot||this.map.root||".",t)},r.origin=function(t,n,o,s){if(!this.map)return!1;var a=this.map.consumer(),u=a.originalPositionFor({column:n,line:t});if(!u.source)return!1;var l;typeof o=="number"&&(l=a.originalPositionFor({column:s,line:o}));var f;eu(u.source)?f=Wn(u.source):f=new URL(u.source,this.map.consumer().sourceRoot||Wn(this.map.mapFile));var c={column:u.column,endColumn:l&&l.column,endLine:l&&l.line,line:u.line,url:f.toString()};if(f.protocol==="file:")if(bf)c.file=bf(f);else throw new Error("file: protocol is not available in this PostCSS build");var d=a.sourceContentFor(u.source);return d&&(c.source=d),c},r.toJSON=function(){for(var t={},n=0,o=["hasBOM","css","file","id"];n<o.length;n++){var s=o[n];this[s]!=null&&(t[s]=this[s])}return this.map&&(t.map=Y({},this.map),t.map.consumerCache&&(t.map.consumerCache=void 0)),t},_e(e,[{key:"from",get:function(){return this.file||this.id}}]),e})(),ls=Mo;Mo.default=Mo;la&&la.registerInput&&la.registerInput(Mo);var Ch=Pe.SourceMapConsumer,go=Pe.SourceMapGenerator,yo=Pe.dirname,kh=Pe.relative,Ih=Pe.resolve,Eh=Pe.sep,xf=Pe.pathToFileURL,pb=ls,vb=!!(Ch&&go),mb=!!(yo&&Ih&&kh&&Eh),gb=(function(){function e(i,t,n,o){this.stringify=i,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=o,this.originalCSS=o,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}var r=e.prototype;return r.addAnnotation=function(){var t;this.isInline()?t="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?t=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?t=this.mapOpts.annotation(this.opts.to,this.root):t=this.outputFile()+".map";var n=`
`;this.css.includes(`\r
`)&&(n=`\r
`),this.css+=n+"/*# sourceMappingURL="+t+" */"},r.applyPrevMaps=function(){for(var t=N(this.previous()),n;!(n=t()).done;){var o=n.value,s=this.toUrl(this.path(o.file)),a=o.root||yo(o.file),u=void 0;this.mapOpts.sourcesContent===!1?(u=new Ch(o.text),u.sourcesContent&&(u.sourcesContent=null)):u=o.consumer(),this.map.applySourceMap(u,s,this.toUrl(this.path(a)))}},r.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)if(this.root)for(var t,n=this.root.nodes.length-1;n>=0;n--)t=this.root.nodes[n],t.type==="comment"&&t.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(n);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))},r.generate=function(){if(this.clearAnnotation(),mb&&vb&&this.isMap())return this.generateMap();var t="";return this.stringify(this.root,function(n){t+=n}),[t]},r.generateMap=function(){if(this.root)this.generateString();else if(this.previous().length===1){var t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=go.fromSourceMap(t,{ignoreInvalidMapping:!0})}else this.map=new go({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},r.generateString=function(){var t=this;this.css="",this.map=new go({file:this.outputFile(),ignoreInvalidMapping:!0});var n=1,o=1,s="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""},u,l;this.stringify(this.root,function(f,c,d){if(t.css+=f,c&&d!=="end"&&(a.generated.line=n,a.generated.column=o-1,c.source&&c.source.start?(a.source=t.sourcePath(c),a.original.line=c.source.start.line,a.original.column=c.source.start.column-1,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,t.map.addMapping(a))),u=f.match(/\n/g),u?(n+=u.length,l=f.lastIndexOf(`
`),o=f.length-l):o+=f.length,c&&d!=="start"){var g=c.parent||{raws:{}},v=c.type==="decl"||c.type==="atrule"&&!c.nodes;(!v||c!==g.last||g.raws.semicolon)&&(c.source&&c.source.end?(a.source=t.sourcePath(c),a.original.line=c.source.end.line,a.original.column=c.source.end.column-1,a.generated.line=n,a.generated.column=o-2,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,a.generated.line=n,a.generated.column=o-1,t.map.addMapping(a)))}})},r.isAnnotation=function(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(function(t){return t.annotation}):!0},r.isInline=function(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;var t=this.mapOpts.annotation;return typeof t<"u"&&t!==!0?!1:this.previous().length?this.previous().some(function(n){return n.inline}):!0},r.isMap=function(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0},r.isSourcesContent=function(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(t){return t.withContent()}):!0},r.outputFile=function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"},r.path=function(t){if(this.mapOpts.absolute||t.charCodeAt(0)===60||/^\w+:\/\//.test(t))return t;var n=this.memoizedPaths.get(t);if(n)return n;var o=this.opts.to?yo(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(o=yo(Ih(o,this.mapOpts.annotation)));var s=kh(o,t);return this.memoizedPaths.set(t,s),s},r.previous=function(){var t=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(o){if(o.source&&o.source.input.map){var s=o.source.input.map;t.previousMaps.includes(s)||t.previousMaps.push(s)}});else{var n=new pb(this.originalCSS,this.opts);n.map&&this.previousMaps.push(n.map)}return this.previousMaps},r.setSourcesContent=function(){var t=this,n={};if(this.root)this.root.walk(function(s){if(s.source){var a=s.source.input.from;if(a&&!n[a]){n[a]=!0;var u=t.usesFileUrls?t.toFileUrl(a):t.toUrl(t.path(a));t.map.setSourceContent(u,s.source.input.css)}}});else if(this.css){var o=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(o,this.css)}},r.sourcePath=function(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))},r.toBase64=function(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))},r.toFileUrl=function(t){var n=this.memoizedFileURLs.get(t);if(n)return n;if(xf){var o=xf(t).toString();return this.memoizedFileURLs.set(t,o),o}else throw new Error("`map.absolute` option is not available in this PostCSS build")},r.toUrl=function(t){var n=this.memoizedURLs.get(t);if(n)return n;Eh==="\\"&&(t=t.replace(/\\/g,"/"));var o=encodeURI(t).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(t,o),o},e})(),Oh=gb,yb=as,ru=(function(e){be(r,e);function r(i){var t;return t=e.call(this,i)||this,t.type="comment",t}return r})(yb),cs=ru;ru.default=ru;var Ah=Yt.isClean,Nh=Yt.my,Mh=us,Ph=cs,_b=as,Th,il,nl,Rh;function $h(e){return e.map(function(r){return r.nodes&&(r.nodes=$h(r.nodes)),delete r.source,r})}function Dh(e){if(e[Ah]=!1,e.proxyOf.nodes)for(var r=N(e.proxyOf.nodes),i;!(i=r()).done;){var t=i.value;Dh(t)}}var Tt=(function(e){be(r,e);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.append=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];for(var a=N(o),u;!(u=a()).done;)for(var l=u.value,f=this.normalize(l,this.last),c=N(f),d;!(d=c()).done;){var g=d.value;this.proxyOf.nodes.push(g)}return this.markDirty(),this},i.cleanRaws=function(n){if(e.prototype.cleanRaws.call(this,n),this.nodes)for(var o=N(this.nodes),s;!(s=o()).done;){var a=s.value;a.cleanRaws(n)}},i.each=function(n){if(this.proxyOf.nodes){for(var o=this.getIterator(),s,a;this.indexes[o]<this.proxyOf.nodes.length&&(s=this.indexes[o],a=n(this.proxyOf.nodes[s],s),a!==!1);)this.indexes[o]+=1;return delete this.indexes[o],a}},i.every=function(n){return this.nodes.every(n)},i.getIterator=function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var n=this.lastEach;return this.indexes[n]=0,n},i.getProxyProcessor=function(){return{get:function(o,s){return s==="proxyOf"?o:o[s]?s==="each"||typeof s=="string"&&s.startsWith("walk")?function(){for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];var f;return(f=o)[s].apply(f,[].concat(u.map(function(c){return typeof c=="function"?function(d,g){return c(d.toProxy(),g)}:c})))}:s==="every"||s==="some"?function(a){return o[s](function(u){for(var l=arguments.length,f=new Array(l>1?l-1:0),c=1;c<l;c++)f[c-1]=arguments[c];return a.apply(void 0,[].concat([u.toProxy()],f))})}:s==="root"?function(){return o.root().toProxy()}:s==="nodes"?o.nodes.map(function(a){return a.toProxy()}):s==="first"||s==="last"?o[s].toProxy():o[s]:o[s]},set:function(o,s,a){return o[s]===a||(o[s]=a,(s==="name"||s==="params"||s==="selector")&&o.markDirty()),!0}}},i.index=function(n){return typeof n=="number"?n:(n.proxyOf&&(n=n.proxyOf),this.proxyOf.nodes.indexOf(n))},i.insertAfter=function(n,o){var s=this.index(n),a=this.normalize(o,this.proxyOf.nodes[s]).reverse();s=this.index(n);for(var u=N(a),l;!(l=u()).done;){var f=l.value;this.proxyOf.nodes.splice(s+1,0,f)}var c;for(var d in this.indexes)c=this.indexes[d],s<c&&(this.indexes[d]=c+a.length);return this.markDirty(),this},i.insertBefore=function(n,o){var s=this.index(n),a=s===0?"prepend":!1,u=this.normalize(o,this.proxyOf.nodes[s],a).reverse();s=this.index(n);for(var l=N(u),f;!(f=l()).done;){var c=f.value;this.proxyOf.nodes.splice(s,0,c)}var d;for(var g in this.indexes)d=this.indexes[g],s<=d&&(this.indexes[g]=d+u.length);return this.markDirty(),this},i.normalize=function(n,o){var s=this;if(typeof n=="string")n=$h(Th(n).nodes);else if(typeof n>"u")n=[];else if(Array.isArray(n)){n=n.slice(0);for(var a=N(n),u;!(u=a()).done;){var l=u.value;l.parent&&l.parent.removeChild(l,"ignore")}}else if(n.type==="root"&&this.type!=="document"){n=n.nodes.slice(0);for(var f=N(n),c;!(c=f()).done;){var d=c.value;d.parent&&d.parent.removeChild(d,"ignore")}}else if(n.type)n=[n];else if(n.prop){if(typeof n.value>"u")throw new Error("Value field is missed in node creation");typeof n.value!="string"&&(n.value=String(n.value)),n=[new Mh(n)]}else if(n.selector)n=[new il(n)];else if(n.name)n=[new nl(n)];else if(n.text)n=[new Ph(n)];else throw new Error("Unknown node type in node creation");var g=n.map(function(v){return v[Nh]||r.rebuild(v),v=v.proxyOf,v.parent&&v.parent.removeChild(v),v[Ah]&&Dh(v),typeof v.raws.before>"u"&&o&&typeof o.raws.before<"u"&&(v.raws.before=o.raws.before.replace(/\S/g,"")),v.parent=s.proxyOf,v});return g},i.prepend=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];o=o.reverse();for(var a=N(o),u;!(u=a()).done;){for(var l=u.value,f=this.normalize(l,this.first,"prepend").reverse(),c=N(f),d;!(d=c()).done;){var g=d.value;this.proxyOf.nodes.unshift(g)}for(var v in this.indexes)this.indexes[v]=this.indexes[v]+f.length}return this.markDirty(),this},i.push=function(n){return n.parent=this,this.proxyOf.nodes.push(n),this},i.removeAll=function(){for(var n=N(this.proxyOf.nodes),o;!(o=n()).done;){var s=o.value;s.parent=void 0}return this.proxyOf.nodes=[],this.markDirty(),this},i.removeChild=function(n){n=this.index(n),this.proxyOf.nodes[n].parent=void 0,this.proxyOf.nodes.splice(n,1);var o;for(var s in this.indexes)o=this.indexes[s],o>=n&&(this.indexes[s]=o-1);return this.markDirty(),this},i.replaceValues=function(n,o,s){return s||(s=o,o={}),this.walkDecls(function(a){o.props&&!o.props.includes(a.prop)||o.fast&&!a.value.includes(o.fast)||(a.value=a.value.replace(n,s))}),this.markDirty(),this},i.some=function(n){return this.nodes.some(n)},i.walk=function(n){return this.each(function(o,s){var a;try{a=n(o,s)}catch(u){throw o.addToError(u)}return a!==!1&&o.walk&&(a=o.walk(n)),a})},i.walkAtRules=function(n,o){return o?L(n,RegExp)?this.walk(function(s,a){if(s.type==="atrule"&&n.test(s.name))return o(s,a)}):this.walk(function(s,a){if(s.type==="atrule"&&s.name===n)return o(s,a)}):(o=n,this.walk(function(s,a){if(s.type==="atrule")return o(s,a)}))},i.walkComments=function(n){return this.walk(function(o,s){if(o.type==="comment")return n(o,s)})},i.walkDecls=function(n,o){return o?L(n,RegExp)?this.walk(function(s,a){if(s.type==="decl"&&n.test(s.prop))return o(s,a)}):this.walk(function(s,a){if(s.type==="decl"&&s.prop===n)return o(s,a)}):(o=n,this.walk(function(s,a){if(s.type==="decl")return o(s,a)}))},i.walkRules=function(n,o){return o?L(n,RegExp)?this.walk(function(s,a){if(s.type==="rule"&&n.test(s.selector))return o(s,a)}):this.walk(function(s,a){if(s.type==="rule"&&s.selector===n)return o(s,a)}):(o=n,this.walk(function(s,a){if(s.type==="rule")return o(s,a)}))},_e(r,[{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),r})(_b);Tt.registerParse=function(e){Th=e};Tt.registerRule=function(e){il=e};Tt.registerAtRule=function(e){nl=e};Tt.registerRoot=function(e){Rh=e};var mr=Tt;Tt.default=Tt;Tt.rebuild=function(e){e.type==="atrule"?Object.setPrototypeOf(e,nl.prototype):e.type==="rule"?Object.setPrototypeOf(e,il.prototype):e.type==="decl"?Object.setPrototypeOf(e,Mh.prototype):e.type==="comment"?Object.setPrototypeOf(e,Ph.prototype):e.type==="root"&&Object.setPrototypeOf(e,Rh.prototype),e[Nh]=!0,e.nodes&&e.nodes.forEach(function(r){Tt.rebuild(r)})};var bb=mr,Lh,Fh,Pi=(function(e){be(r,e);function r(t){var n;return n=e.call(this,Y({type:"document"},t))||this,n.nodes||(n.nodes=[]),n}var i=r.prototype;return i.toResult=function(n){n===void 0&&(n={});var o=new Lh(new Fh,this,n);return o.stringify()},r})(bb);Pi.registerLazyResult=function(e){Lh=e};Pi.registerProcessor=function(e){Fh=e};var ol=Pi;Pi.default=Pi;var iu=(function(){function e(i,t){if(t===void 0&&(t={}),this.type="warning",this.text=i,t.node&&t.node.source){var n=t.node.rangeBy(t);this.line=n.start.line,this.column=n.start.column,this.endLine=n.end.line,this.endColumn=n.end.column}for(var o in t)this[o]=t[o]}var r=e.prototype;return r.toString=function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e})(),Bh=iu;iu.default=iu;var wb=Bh,nu=(function(){function e(i,t,n){this.processor=i,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}var r=e.prototype;return r.toString=function(){return this.css},r.warn=function(t,n){n===void 0&&(n={}),n.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(n.plugin=this.lastPlugin.postcssPlugin);var o=new wb(t,n);return this.messages.push(o),o},r.warnings=function(){return this.messages.filter(function(t){return t.type==="warning"})},_e(e,[{key:"content",get:function(){return this.css}}]),e})(),sl=nu;nu.default=nu;var fa=39,Cf=34,Vn=92,kf=47,qn=10,di=32,Gn=12,Hn=9,Kn=13,Sb=91,xb=93,Cb=40,kb=41,Ib=123,Eb=125,Ob=59,Ab=42,Nb=58,Mb=64,Yn=/[\t\n\f\r "#'()/;[\\\]{}]/g,Jn=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Pb=/.[\r\n"'(/\\]/,If=/[\da-f]/i,Tb=function(r,i){i===void 0&&(i={});var t=r.css.valueOf(),n=i.ignoreErrors,o,s,a,u,l,f,c,d,g,v,_=t.length,m=0,y=[],w=[];function S(){return m}function C(P){throw r.error("Unclosed "+P,m)}function x(){return w.length===0&&m>=_}function I(P){if(w.length)return w.pop();if(!(m>=_)){var O=P?P.ignoreUnclosed:!1;switch(o=t.charCodeAt(m),o){case qn:case di:case Hn:case Kn:case Gn:{s=m;do s+=1,o=t.charCodeAt(s);while(o===di||o===qn||o===Hn||o===Kn||o===Gn);v=["space",t.slice(m,s)],m=s-1;break}case Sb:case xb:case Ib:case Eb:case Nb:case Ob:case kb:{var T=String.fromCharCode(o);v=[T,T,m];break}case Cb:{if(d=y.length?y.pop()[1]:"",g=t.charCodeAt(m+1),d==="url"&&g!==fa&&g!==Cf&&g!==di&&g!==qn&&g!==Hn&&g!==Gn&&g!==Kn){s=m;do{if(f=!1,s=t.indexOf(")",s+1),s===-1)if(n||O){s=m;break}else C("bracket");for(c=s;t.charCodeAt(c-1)===Vn;)c-=1,f=!f}while(f);v=["brackets",t.slice(m,s+1),m,s],m=s}else s=t.indexOf(")",m+1),u=t.slice(m,s+1),s===-1||Pb.test(u)?v=["(","(",m]:(v=["brackets",u,m,s],m=s);break}case fa:case Cf:{a=o===fa?"'":'"',s=m;do{if(f=!1,s=t.indexOf(a,s+1),s===-1)if(n||O){s=m+1;break}else C("string");for(c=s;t.charCodeAt(c-1)===Vn;)c-=1,f=!f}while(f);v=["string",t.slice(m,s+1),m,s],m=s;break}case Mb:{Yn.lastIndex=m+1,Yn.test(t),Yn.lastIndex===0?s=t.length-1:s=Yn.lastIndex-2,v=["at-word",t.slice(m,s+1),m,s],m=s;break}case Vn:{for(s=m,l=!0;t.charCodeAt(s+1)===Vn;)s+=1,l=!l;if(o=t.charCodeAt(s+1),l&&o!==kf&&o!==di&&o!==qn&&o!==Hn&&o!==Kn&&o!==Gn&&(s+=1,If.test(t.charAt(s)))){for(;If.test(t.charAt(s+1));)s+=1;t.charCodeAt(s+1)===di&&(s+=1)}v=["word",t.slice(m,s+1),m,s],m=s;break}default:{o===kf&&t.charCodeAt(m+1)===Ab?(s=t.indexOf("*/",m+2)+1,s===0&&(n||O?s=t.length:C("comment")),v=["comment",t.slice(m,s+1),m,s],m=s):(Jn.lastIndex=m+1,Jn.test(t),Jn.lastIndex===0?s=t.length-1:s=Jn.lastIndex-2,v=["word",t.slice(m,s+1),m,s],y.push(v),m=s);break}}return m++,v}}function E(P){w.push(P)}return{back:E,endOfFile:x,nextToken:I,position:S}},Uh=mr,Po=(function(e){be(r,e);function r(t){var n;return n=e.call(this,t)||this,n.type="atrule",n}var i=r.prototype;return i.append=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.append).call.apply(a,[].concat([this],o))},i.prepend=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.prepend).call.apply(a,[].concat([this],o))},r})(Uh),al=Po;Po.default=Po;Uh.registerAtRule(Po);var jh=mr,zh,Wh,Wr=(function(e){be(r,e);function r(t){var n;return n=e.call(this,t)||this,n.type="root",n.nodes||(n.nodes=[]),n}var i=r.prototype;return i.normalize=function(n,o,s){var a=e.prototype.normalize.call(this,n);if(o){if(s==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(var u=N(a),l;!(l=u()).done;){var f=l.value;f.raws.before=o.raws.before}}return a},i.removeChild=function(n,o){var s=this.index(n);return!o&&s===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[s].raws.before),e.prototype.removeChild.call(this,n)},i.toResult=function(n){n===void 0&&(n={});var o=new zh(new Wh,this,n);return o.stringify()},r})(jh);Wr.registerLazyResult=function(e){zh=e};Wr.registerProcessor=function(e){Wh=e};var Hi=Wr;Wr.default=Wr;jh.registerRoot(Wr);var Ti={comma:function(r){return Ti.split(r,[","],!0)},space:function(r){var i=[" ",`
`,"	"];return Ti.split(r,i)},split:function(r,i,t){for(var n=[],o="",s=!1,a=0,u=!1,l="",f=!1,c=N(r),d;!(d=c()).done;){var g=d.value;f?f=!1:g==="\\"?f=!0:u?g===l&&(u=!1):g==='"'||g==="'"?(u=!0,l=g):g==="("?a+=1:g===")"?a>0&&(a-=1):a===0&&i.includes(g)&&(s=!0),s?(o!==""&&n.push(o.trim()),o="",s=!1):o+=g}return(t||o!=="")&&n.push(o.trim()),n}},Vh=Ti;Ti.default=Ti;var qh=mr,Rb=Vh,To=(function(e){be(r,e);function r(i){var t;return t=e.call(this,i)||this,t.type="rule",t.nodes||(t.nodes=[]),t}return _e(r,[{key:"selectors",get:function(){return Rb.comma(this.selector)},set:function(t){var n=this.selector?this.selector.match(/,\s*/):null,o=n?n[0]:","+this.raw("between","beforeOpen");this.selector=t.join(o)}}]),r})(qh),ul=To;To.default=To;qh.registerRule(To);var $b=us,Db=Tb,Lb=cs,Fb=al,Bb=Hi,Ef=ul,Of={empty:!0,space:!0};function Ub(e){for(var r=e.length-1;r>=0;r--){var i=e[r],t=i[3]||i[2];if(t)return t}}var jb=(function(){function e(i){this.input=i,this.root=new Bb,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:i,start:{column:1,line:1,offset:0}}}var r=e.prototype;return r.atrule=function(t){var n=new Fb;n.name=t[1].slice(1),n.name===""&&this.unnamedAtrule(n,t),this.init(n,t[2]);for(var o,s,a,u=!1,l=!1,f=[],c=[];!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),o=t[0],o==="("||o==="["?c.push(o==="("?")":"]"):o==="{"&&c.length>0?c.push("}"):o===c[c.length-1]&&c.pop(),c.length===0)if(o===";"){n.source.end=this.getPosition(t[2]),n.source.end.offset++,this.semicolon=!0;break}else if(o==="{"){l=!0;break}else if(o==="}"){if(f.length>0){for(a=f.length-1,s=f[a];s&&s[0]==="space";)s=f[--a];s&&(n.source.end=this.getPosition(s[3]||s[2]),n.source.end.offset++)}this.end(t);break}else f.push(t);else f.push(t);if(this.tokenizer.endOfFile()){u=!0;break}}n.raws.between=this.spacesAndCommentsFromEnd(f),f.length?(n.raws.afterName=this.spacesAndCommentsFromStart(f),this.raw(n,"params",f),u&&(t=f[f.length-1],n.source.end=this.getPosition(t[3]||t[2]),n.source.end.offset++,this.spaces=n.raws.between,n.raws.between="")):(n.raws.afterName="",n.params=""),l&&(n.nodes=[],this.current=n)},r.checkMissedSemicolon=function(t){var n=this.colon(t);if(n!==!1){for(var o=0,s,a=n-1;a>=0&&(s=t[a],!(s[0]!=="space"&&(o+=1,o===2)));a--);throw this.input.error("Missed semicolon",s[0]==="word"?s[3]+1:s[2])}},r.colon=function(t){for(var n=0,o,s,a,u=N(t.entries()),l;!(l=u()).done;){var f=l.value,c=f[0],d=f[1];if(o=d,s=o[0],s==="("&&(n+=1),s===")"&&(n-=1),n===0&&s===":")if(!a)this.doubleColon(o);else{if(a[0]==="word"&&a[1]==="progid")continue;return c}a=o}return!1},r.comment=function(t){var n=new Lb;this.init(n,t[2]),n.source.end=this.getPosition(t[3]||t[2]),n.source.end.offset++;var o=t[1].slice(2,-2);if(/^\s*$/.test(o))n.text="",n.raws.left=o,n.raws.right="";else{var s=o.match(/^(\s*)([^]*\S)(\s*)$/);n.text=s[2],n.raws.left=s[1],n.raws.right=s[3]}},r.createTokenizer=function(){this.tokenizer=Db(this.input)},r.decl=function(t,n){var o=new $b;this.init(o,t[0][2]);var s=t[t.length-1];for(s[0]===";"&&(this.semicolon=!0,t.pop()),o.source.end=this.getPosition(s[3]||s[2]||Ub(t)),o.source.end.offset++;t[0][0]!=="word";)t.length===1&&this.unknownWord(t),o.raws.before+=t.shift()[1];for(o.source.start=this.getPosition(t[0][2]),o.prop="";t.length;){var a=t[0][0];if(a===":"||a==="space"||a==="comment")break;o.prop+=t.shift()[1]}o.raws.between="";for(var u;t.length;)if(u=t.shift(),u[0]===":"){o.raws.between+=u[1];break}else u[0]==="word"&&/\w/.test(u[1])&&this.unknownWord([u]),o.raws.between+=u[1];(o.prop[0]==="_"||o.prop[0]==="*")&&(o.raws.before+=o.prop[0],o.prop=o.prop.slice(1));for(var l=[],f;t.length&&(f=t[0][0],!(f!=="space"&&f!=="comment"));)l.push(t.shift());this.precheckMissedSemicolon(t);for(var c=t.length-1;c>=0;c--){if(u=t[c],u[1].toLowerCase()==="!important"){o.important=!0;var d=this.stringFrom(t,c);d=this.spacesFromEnd(t)+d,d!==" !important"&&(o.raws.important=d);break}else if(u[1].toLowerCase()==="important"){for(var g=t.slice(0),v="",_=c;_>0;_--){var m=g[_][0];if(v.trim().indexOf("!")===0&&m!=="space")break;v=g.pop()[1]+v}v.trim().indexOf("!")===0&&(o.important=!0,o.raws.important=v,t=g)}if(u[0]!=="space"&&u[0]!=="comment")break}var y=t.some(function(w){return w[0]!=="space"&&w[0]!=="comment"});y&&(o.raws.between+=l.map(function(w){return w[1]}).join(""),l=[]),this.raw(o,"value",l.concat(t),n),o.value.includes(":")&&!n&&this.checkMissedSemicolon(t)},r.doubleColon=function(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})},r.emptyRule=function(t){var n=new Ef;this.init(n,t[2]),n.selector="",n.raws.between="",this.current=n},r.end=function(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)},r.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())},r.freeSemicolon=function(t){if(this.spaces+=t[1],this.current.nodes){var n=this.current.nodes[this.current.nodes.length-1];n&&n.type==="rule"&&!n.raws.ownSemicolon&&(n.raws.ownSemicolon=this.spaces,this.spaces="")}},r.getPosition=function(t){var n=this.input.fromOffset(t);return{column:n.col,line:n.line,offset:t}},r.init=function(t,n){this.current.push(t),t.source={input:this.input,start:this.getPosition(n)},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)},r.other=function(t){for(var n=!1,o=null,s=!1,a=null,u=[],l=t[1].startsWith("--"),f=[],c=t;c;){if(o=c[0],f.push(c),o==="("||o==="[")a||(a=c),u.push(o==="("?")":"]");else if(l&&s&&o==="{")a||(a=c),u.push("}");else if(u.length===0)if(o===";")if(s){this.decl(f,l);return}else break;else if(o==="{"){this.rule(f);return}else if(o==="}"){this.tokenizer.back(f.pop()),n=!0;break}else o===":"&&(s=!0);else o===u[u.length-1]&&(u.pop(),u.length===0&&(a=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(n=!0),u.length>0&&this.unclosedBracket(a),n&&s){if(!l)for(;f.length&&(c=f[f.length-1][0],!(c!=="space"&&c!=="comment"));)this.tokenizer.back(f.pop());this.decl(f,l)}else this.unknownWord(f)},r.parse=function(){for(var t;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()},r.precheckMissedSemicolon=function(){},r.raw=function(t,n,o,s){for(var a,u,l=o.length,f="",c=!0,d,g,v=0;v<l;v+=1)a=o[v],u=a[0],u==="space"&&v===l-1&&!s?c=!1:u==="comment"?(g=o[v-1]?o[v-1][0]:"empty",d=o[v+1]?o[v+1][0]:"empty",!Of[g]&&!Of[d]?f.slice(-1)===","?c=!1:f+=a[1]:c=!1):f+=a[1];if(!c){var _=o.reduce(function(m,y){return m+y[1]},"");t.raws[n]={raw:_,value:f}}t[n]=f},r.rule=function(t){t.pop();var n=new Ef;this.init(n,t[0][2]),n.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(n,"selector",t),this.current=n},r.spacesAndCommentsFromEnd=function(t){for(var n,o="";t.length&&(n=t[t.length-1][0],!(n!=="space"&&n!=="comment"));)o=t.pop()[1]+o;return o},r.spacesAndCommentsFromStart=function(t){for(var n,o="";t.length&&(n=t[0][0],!(n!=="space"&&n!=="comment"));)o+=t.shift()[1];return o},r.spacesFromEnd=function(t){for(var n,o="";t.length&&(n=t[t.length-1][0],n==="space");)o=t.pop()[1]+o;return o},r.stringFrom=function(t,n){for(var o="",s=n;s<t.length;s++)o+=t[s][1];return t.splice(n,t.length-n),o},r.unclosedBlock=function(){var t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)},r.unclosedBracket=function(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})},r.unexpectedClose=function(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})},r.unknownWord=function(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})},r.unnamedAtrule=function(t,n){throw this.input.error("At-rule without name",{offset:n[2]},{offset:n[2]+n[1].length})},e})(),zb=jb,Wb=mr,Vb=zb,qb=ls;function Ro(e,r){var i=new qb(e,r),t=new Vb(i);try{t.parse()}catch(n){throw n}return t.root}var ll=Ro;Ro.default=Ro;Wb.registerParse(Ro);var gt=Yt.isClean,Gb=Yt.my,Hb=Oh,Kb=ss,Yb=mr,Jb=ol;var Af=sl,Xb=ll,Zb=Hi,Qb={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},ew={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},tw={Once:!0,postcssPlugin:!0,prepare:!0},Vr=0;function hi(e){return(typeof e>"u"?"undefined":F(e))==="object"&&typeof e.then=="function"}function Gh(e){var r=!1,i=Qb[e.type];return e.type==="decl"?r=e.prop.toLowerCase():e.type==="atrule"&&(r=e.name.toLowerCase()),r&&e.append?[i,i+"-"+r,Vr,i+"Exit",i+"Exit-"+r]:r?[i,i+"-"+r,i+"Exit",i+"Exit-"+r]:e.append?[i,Vr,i+"Exit"]:[i,i+"Exit"]}function Nf(e){var r;return e.type==="document"?r=["Document",Vr,"DocumentExit"]:e.type==="root"?r=["Root",Vr,"RootExit"]:r=Gh(e),{eventIndex:0,events:r,iterator:0,node:e,visitorIndex:0,visitors:[]}}function ou(e){return e[gt]=!1,e.nodes&&e.nodes.forEach(function(r){return ou(r)}),e}var su={},qr=(function(){function e(i,t,n){var o=this;this.stringified=!1,this.processed=!1;var s;if((typeof t>"u"?"undefined":F(t))==="object"&&t!==null&&(t.type==="root"||t.type==="document"))s=ou(t);else if(L(t,e)||L(t,Af))s=ou(t.root),t.map&&(typeof n.map>"u"&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{var a=Xb;n.syntax&&(a=n.syntax.parse),n.parser&&(a=n.parser),a.parse&&(a=a.parse);try{s=a(t,n)}catch(u){this.processed=!0,this.error=u}s&&!s[Gb]&&Yb.rebuild(s)}this.result=new Af(i,s,n),this.helpers=Y({},su,{postcss:su,result:this.result}),this.plugins=this.processor.plugins.map(function(u){return(typeof u>"u"?"undefined":F(u))==="object"&&u.prepare?Y({},u,u.prepare(o.result)):u})}var r=e.prototype;return r.async=function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)},r.catch=function(t){return this.async().catch(t)},r.finally=function(t){return this.async().then(t,t)},r.getAsyncError=function(){throw new Error("Use process(css).then(cb) to work with async plugins")},r.handleError=function(t,n){var o=this.result.lastPlugin;try{if(n&&n.addToError(t),this.error=t,t.name==="CssSyntaxError"&&!t.plugin)t.plugin=o.postcssPlugin,t.setMessage();else if(o.postcssVersion&&0)var s,a,u,l,f}catch(c){console&&console.error&&console.error(c)}return t},r.prepareVisitors=function(){var t=this;this.listeners={};for(var n=function(f,c,d){t.listeners[c]||(t.listeners[c]=[]),t.listeners[c].push([f,d])},o=N(this.plugins),s;!(s=o()).done;){var a=s.value;if((typeof a>"u"?"undefined":F(a))==="object")for(var u in a){if(!ew[u]&&/^[A-Z]/.test(u))throw new Error("Unknown event "+u+" in "+a.postcssPlugin+". Try to update PostCSS ("+this.processor.version+" now).");if(!tw[u])if(F(a[u])==="object")for(var l in a[u])l==="*"?n(a,u,a[u][l]):n(a,u+"-"+l.toLowerCase(),a[u][l]);else typeof a[u]=="function"&&n(a,u,a[u])}}this.hasListener=Object.keys(this.listeners).length>0},r.runAsync=function(){var t=this;return es(function(){var n,o,s,a,u,l,f,c,d,g,v,_;return fr(this,function(m){switch(m.label){case 0:t.plugin=0,n=0,m.label=1;case 1:if(!(n<t.plugins.length))return[3,6];if(o=t.plugins[n],s=t.runOnRoot(o),!hi(s))return[3,5];m.label=2;case 2:return m.trys.push([2,4,,5]),[4,s];case 3:return m.sent(),[3,5];case 4:throw a=m.sent(),t.handleError(a);case 5:return n++,[3,1];case 6:if(t.prepareVisitors(),!t.hasListener)return[3,18];u=t.result.root,m.label=7;case 7:if(u[gt])return[3,14];u[gt]=!0,l=[Nf(u)],m.label=8;case 8:if(!(l.length>0))return[3,13];if(f=t.visitTick(l),!hi(f))return[3,12];m.label=9;case 9:return m.trys.push([9,11,,12]),[4,f];case 10:return m.sent(),[3,12];case 11:throw c=m.sent(),d=l[l.length-1].node,t.handleError(c,d);case 12:return[3,8];case 13:return[3,7];case 14:if(!t.listeners.OnceExit)return[3,18];g=function(){var y,w,S,C,x;return fr(this,function(I){switch(I.label){case 0:y=_.value,w=y[0],S=y[1],t.result.lastPlugin=w,I.label=1;case 1:return I.trys.push([1,6,,7]),u.type!=="document"?[3,3]:(C=u.nodes.map(function(E){return S(E,t.helpers)}),[4,Promise.all(C)]);case 2:return I.sent(),[3,5];case 3:return[4,S(u,t.helpers)];case 4:I.sent(),I.label=5;case 5:return[3,7];case 6:throw x=I.sent(),t.handleError(x);case 7:return[2]}})},v=N(t.listeners.OnceExit),m.label=15;case 15:return(_=v()).done?[3,18]:[5,zu(g())];case 16:m.sent(),m.label=17;case 17:return[3,15];case 18:return t.processed=!0,[2,t.stringify()]}})})()},r.runOnRoot=function(t){var n=this;this.result.lastPlugin=t;try{if((typeof t>"u"?"undefined":F(t))==="object"&&t.Once){if(this.result.root.type==="document"){var o=this.result.root.nodes.map(function(s){return t.Once(s,n.helpers)});return hi(o[0])?Promise.all(o):o}return t.Once(this.result.root,this.helpers)}else if(typeof t=="function")return t(this.result.root,this.result)}catch(s){throw this.handleError(s)}},r.stringify=function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var t=this.result.opts,n=Kb;t.syntax&&(n=t.syntax.stringify),t.stringifier&&(n=t.stringifier),n.stringify&&(n=n.stringify);var o=new Hb(n,this.result.root,this.result.opts),s=o.generate();return this.result.css=s[0],this.result.map=s[1],this.result},r.sync=function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var t=N(this.plugins),n;!(n=t()).done;){var o=n.value,s=this.runOnRoot(o);if(hi(s))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var a=this.result.root;!a[gt];)a[gt]=!0,this.walkSync(a);if(this.listeners.OnceExit)if(a.type==="document")for(var u=N(a.nodes),l;!(l=u()).done;){var f=l.value;this.visitSync(this.listeners.OnceExit,f)}else this.visitSync(this.listeners.OnceExit,a)}return this.result},r.then=function(t,n){return this.async().then(t,n)},r.toString=function(){return this.css},r.visitSync=function(t,n){for(var o=N(t),s;!(s=o()).done;){var a=s.value,u=a[0],l=a[1];this.result.lastPlugin=u;var f=void 0;try{f=l(n,this.helpers)}catch(c){throw this.handleError(c,n.proxyOf)}if(n.type!=="root"&&n.type!=="document"&&!n.parent)return!0;if(hi(f))throw this.getAsyncError()}},r.visitTick=function(t){var n=t[t.length-1],o=n.node,s=n.visitors;if(o.type!=="root"&&o.type!=="document"&&!o.parent){t.pop();return}if(s.length>0&&n.visitorIndex<s.length){var a=s[n.visitorIndex],u=a[0],l=a[1];n.visitorIndex+=1,n.visitorIndex===s.length&&(n.visitors=[],n.visitorIndex=0),this.result.lastPlugin=u;try{return l(o.toProxy(),this.helpers)}catch(v){throw this.handleError(v,o)}}if(n.iterator!==0){for(var f=n.iterator,c;c=o.nodes[o.indexes[f]];)if(o.indexes[f]+=1,!c[gt]){c[gt]=!0,t.push(Nf(c));return}n.iterator=0,delete o.indexes[f]}for(var d=n.events;n.eventIndex<d.length;){var g=d[n.eventIndex];if(n.eventIndex+=1,g===Vr){o.nodes&&o.nodes.length&&(o[gt]=!0,n.iterator=o.getIterator());return}else if(this.listeners[g]){n.visitors=this.listeners[g];return}}t.pop()},r.walkSync=function(t){var n=this;t[gt]=!0;for(var o=Gh(t),s=N(o),a;!(a=s()).done;){var u=a.value;if(u===Vr)t.nodes&&t.each(function(f){f[gt]||n.walkSync(f)});else{var l=this.listeners[u];if(l&&this.visitSync(l,t.toProxy()))return}}},r.warnings=function(){return this.sync().warnings()},_e(e,[{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),e})();qr.registerPostcss=function(e){su=e};var Hh=qr;qr.default=qr;Zb.registerLazyResult(qr);Jb.registerLazyResult(qr);var rw=Oh,iw=ss;var nw=ll,ow=sl,au=(function(){function e(i,t,n){t=t.toString(),this.stringified=!1,this._processor=i,this._css=t,this._opts=n,this._map=void 0;var o,s=iw;this.result=new ow(this._processor,o,this._opts),this.result.css=t;var a=this;Object.defineProperty(this.result,"root",{get:function(){return a.root}});var u=new rw(s,o,this._opts,t);if(u.isMap()){var l=u.generate(),f=l[0],c=l[1];f&&(this.result.css=f),c&&(this.result.map=c)}else u.clearAnnotation(),this.result.css=u.css}var r=e.prototype;return r.async=function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)},r.catch=function(t){return this.async().catch(t)},r.finally=function(t){return this.async().then(t,t)},r.sync=function(){if(this.error)throw this.error;return this.result},r.then=function(t,n){return this.async().then(t,n)},r.toString=function(){return this._css},r.warnings=function(){return[]},_e(e,[{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var t,n=nw;try{t=n(this._css,this._opts)}catch(o){this.error=o}if(this.error)throw this.error;return this._root=t,t}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),e})(),sw=au;au.default=au;var aw=sw,uw=Hh,lw=ol,cw=Hi,Ri=(function(){function e(i){i===void 0&&(i=[]),this.version="8.4.38",this.plugins=this.normalize(i)}var r=e.prototype;return r.normalize=function(t){for(var n=[],o=N(t),s;!(s=o()).done;){var a=s.value;if(a.postcss===!0?a=a():a.postcss&&(a=a.postcss),(typeof a>"u"?"undefined":F(a))==="object"&&Array.isArray(a.plugins))n=n.concat(a.plugins);else if((typeof a>"u"?"undefined":F(a))==="object"&&a.postcssPlugin)n.push(a);else if(typeof a=="function")n.push(a);else if(!((typeof a>"u"?"undefined":F(a))==="object"&&(a.parse||a.stringify)))throw new Error(a+" is not a PostCSS plugin")}return n},r.process=function(t,n){return n===void 0&&(n={}),!this.plugins.length&&!n.parser&&!n.stringifier&&!n.syntax?new aw(this,t,n):new uw(this,t,n)},r.use=function(t){return this.plugins=this.plugins.concat(this.normalize([t])),this},e})(),fw=Ri;Ri.default=Ri;cw.registerProcessor(Ri);lw.registerProcessor(Ri);var dw=us,hw=xh,pw=cs,vw=al,mw=ls,gw=Hi,yw=ul;function $i(e,r){if(Array.isArray(e))return e.map(function(c){return $i(c)});var i=e.inputs,t=cr(e,["inputs"]);if(i){r=[];for(var n=N(i),o;!(o=n()).done;){var s=o.value,a=Y({},s,{__proto__:mw.prototype});a.map&&(a.map=Y({},a.map,{__proto__:hw.prototype})),r.push(a)}}if(t.nodes&&(t.nodes=e.nodes.map(function(c){return $i(c,r)})),t.source){var u=t.source,l=u.inputId,f=cr(u,["inputId"]);t.source=f,l!=null&&(t.source.input=r[l])}if(t.type==="root")return new gw(t);if(t.type==="decl")return new dw(t);if(t.type==="rule")return new yw(t);if(t.type==="comment")return new pw(t);if(t.type==="atrule")return new vw(t);throw new Error("Unknown node type: "+e.type)}var _w=$i;$i.default=$i;var bw=rl,Kh=us,ww=Hh,Sw=mr,cl=fw,xw=ss,Cw=_w,Yh=ol,kw=Bh,Jh=cs,Xh=al,Iw=sl,Ew=ls,Ow=ll,Aw=Vh,Zh=ul,Qh=Hi,Nw=as;function ae(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.length===1&&Array.isArray(r[0])&&(r=r[0]),new cl(r)}ae.plugin=function(r,i){var t=!1;function n(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];console&&console.warn&&!t&&(t=!0,console.warn(r+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(r+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));var l=i.apply(void 0,[].concat(a));return l.postcssPlugin=r,l.postcssVersion=new cl().version,l}var o;return Object.defineProperty(n,"postcss",{get:function(){return o||(o=n()),o}}),n.process=function(s,a,u){return ae([n(u)]).process(s,a)},n};ae.stringify=xw;ae.parse=Ow;ae.fromJSON=Cw;ae.list=Aw;ae.comment=function(e){return new Jh(e)};ae.atRule=function(e){return new Xh(e)};ae.decl=function(e){return new Kh(e)};ae.rule=function(e){return new Zh(e)};ae.root=function(e){return new Qh(e)};ae.document=function(e){return new Yh(e)};ae.CssSyntaxError=bw;ae.Declaration=Kh;ae.Container=Sw;ae.Processor=cl;ae.Document=Yh;ae.Comment=Jh;ae.Warning=kw;ae.AtRule=Xh;ae.Result=Iw;ae.Input=Ew;ae.Rule=Zh;ae.Root=Qh;ae.Node=Nw;ww.registerPostcss(ae);var Mw=ae;ae.default=ae;var Se=V_(Mw);Se.stringify;Se.fromJSON;Se.plugin;Se.parse;Se.list;Se.document;Se.comment;Se.atRule;Se.rule;Se.decl;Se.root;Se.CssSyntaxError;Se.Declaration;Se.Container;Se.Processor;Se.Document;Se.Comment;Se.Warning;Se.AtRule;Se.Result;Se.Input;Se.Rule;Se.Root;Se.Node;var Pw=(function(){function e(){for(var i=arguments.length,t=new Array(i),n=0;n<i;n++)t[n]=arguments[n];rt(this,"parentElement",null),rt(this,"parentNode",null),rt(this,"ownerDocument"),rt(this,"firstChild",null),rt(this,"lastChild",null),rt(this,"previousSibling",null),rt(this,"nextSibling",null),rt(this,"ELEMENT_NODE",1),rt(this,"TEXT_NODE",3),rt(this,"nodeType"),rt(this,"nodeName"),rt(this,"RRNodeType")}var r=e.prototype;return r.contains=function(t){if(L(t,e)){if(t.ownerDocument!==this.ownerDocument)return!1;if(t===this)return!0}else return!1;for(;t.parentNode;){if(t.parentNode===this)return!0;t=t.parentNode}return!1},r.appendChild=function(t){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")},r.insertBefore=function(t,n){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")},r.removeChild=function(t){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")},r.toString=function(){return"RRNode"},_e(e,[{key:"childNodes",get:function(){for(var t=[],n=this.firstChild;n;)t.push(n),n=n.nextSibling;return t}}]),e})(),Mf={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Pf={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Xn={},Tw=function(){return!!globalThis.Zone};function fl(e){if(Xn[e])return Xn[e];var r=globalThis[e],i=r.prototype,t=e in Mf?Mf[e]:void 0,n=!!(t&&t.every(function(f){var c,d;return!!((d=(c=Object.getOwnPropertyDescriptor(i,f))==null?void 0:c.get)!=null&&d.toString().includes("[native code]"))})),o=e in Pf?Pf[e]:void 0,s=!!(o&&o.every(function(f){var c;return typeof i[f]=="function"&&((c=i[f])==null?void 0:c.toString().includes("[native code]"))}));if(n&&s&&!Tw())return Xn[e]=r.prototype,r.prototype;try{var a=document.createElement("iframe");document.body.appendChild(a);var u=a.contentWindow;if(!u)return r.prototype;var l=u[e].prototype;return document.body.removeChild(a),l?Xn[e]=l:i}catch{return i}}var da={};function Jt(e,r,i){var t,n=e+"."+String(i);if(da[n])return da[n].call(r);var o=fl(e),s=(t=Object.getOwnPropertyDescriptor(o,i))==null?void 0:t.get;return s?(da[n]=s,s.call(r)):r[i]}var ha={};function ep(e,r,i){var t=e+"."+String(i);if(ha[t])return ha[t].bind(r);var n=fl(e),o=n[i];return typeof o!="function"?r[i]:(ha[t]=o,o.bind(r))}function Rw(e){return Jt("Node",e,"childNodes")}function $w(e){return Jt("Node",e,"parentNode")}function Dw(e){return Jt("Node",e,"parentElement")}function Lw(e){return Jt("Node",e,"textContent")}function Fw(e,r){return ep("Node",e,"contains")(r)}function Bw(e){return ep("Node",e,"getRootNode")()}function Uw(e){return!e||!("host"in e)?null:Jt("ShadowRoot",e,"host")}function jw(e){return e.styleSheets}function zw(e){return!e||!("shadowRoot"in e)?null:Jt("Element",e,"shadowRoot")}function Ww(e,r){return Jt("Element",e,"querySelector")(r)}function Vw(e,r){return Jt("Element",e,"querySelectorAll")(r)}function tp(){return fl("MutationObserver").constructor}function gr(e,r,i){try{if(!(r in e))return function(){};var t=e[r],n=i(t);return typeof n=="function"&&(n.prototype=n.prototype||{},Object.defineProperties(n,{__rrweb_original__:{enumerable:!1,value:t}})),e[r]=n,function(){e[r]=t}}catch{return function(){}}}var Q={childNodes:Rw,parentNode:$w,parentElement:Dw,textContent:Lw,contains:Fw,getRootNode:Bw,host:Uw,styleSheets:jw,shadowRoot:zw,querySelector:Ww,querySelectorAll:Vw,mutationObserver:tp,patch:gr};function He(e,r,i){i===void 0&&(i=document);var t={capture:!0,passive:!0};return i.addEventListener(e,r,t),function(){return i.removeEventListener(e,r,t)}}var Mr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Tf={map:{},getId:function(){return console.error(Mr),-1},getNode:function(){return console.error(Mr),null},removeNodeFromMap:function(){console.error(Mr)},has:function(){return console.error(Mr),!1},reset:function(){console.error(Mr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Tf=new Proxy(Tf,{get:function(r,i,t){return i==="map"&&console.error(Mr),Reflect.get(r,i,t)}}));function Di(e,r,i){i===void 0&&(i={});var t=null,n=0;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var u=Date.now();!n&&i.leading===!1&&(n=u);var l=r-(u-n),f=this;l<=0||l>r?(t&&(clearTimeout(t),t=null),n=u,e.apply(f,s)):!t&&i.trailing!==!1&&(t=setTimeout(function(){n=i.leading===!1?0:Date.now(),t=null,e.apply(f,s)},l))}}function fs(e,r,i,t,n){n===void 0&&(n=window);var o=n.Object.getOwnPropertyDescriptor(e,r);return n.Object.defineProperty(e,r,t?i:{set:function(a){var u=this;setTimeout(function(){i.set.call(u,a)},0),o&&o.set&&o.set.call(this,a)}}),function(){return fs(e,r,o||{},!0)}}var $o=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||($o=function(){return new Date().getTime()});function rp(e){var r,i,t,n,o=e.document;return{left:o.scrollingElement?o.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:o.documentElement.scrollLeft||o?.body&&((r=Q.parentElement(o.body))==null?void 0:r.scrollLeft)||((i=o?.body)==null?void 0:i.scrollLeft)||0,top:o.scrollingElement?o.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:o?.documentElement.scrollTop||o?.body&&((t=Q.parentElement(o.body))==null?void 0:t.scrollTop)||((n=o?.body)==null?void 0:n.scrollTop)||0}}function ip(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function np(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function op(e){if(!e)return null;var r=e.nodeType===e.ELEMENT_NODE?e:Q.parentElement(e);return r}function Ke(e,r,i,t){if(!e)return!1;var n=op(e);if(!n)return!1;try{if(typeof r=="string"){if(n.classList.contains(r)||t&&n.closest("."+r)!==null)return!0}else if(Io(n,r,t))return!0}catch{}return!!(i&&(n.matches(i)||t&&n.closest(i)!==null))}function qw(e,r){return r.getId(e)!==-1}function pa(e,r,i){return e.tagName==="TITLE"&&i.headTitleMutations?!0:r.getId(e)===Ei}function sp(e,r){if(yi(e))return!1;var i=r.getId(e);if(!r.has(i))return!0;var t=Q.parentNode(e);return t&&t.nodeType===e.DOCUMENT_NODE?!1:t?sp(t,r):!0}function uu(e){return!!e.changedTouches}function Gw(e){e===void 0&&(e=window),"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function ap(e,r){return!!(e.nodeName==="IFRAME"&&r.getMeta(e))}function up(e,r){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&r.getMeta(e))}function lu(e){return e?L(e,Pw)&&"shadowRoot"in e?!!e.shadowRoot:!!Q.shadowRoot(e):!1}var Hw=(function(){function e(){R(this,"id",1),R(this,"styleIDMap",new WeakMap),R(this,"idStyleMap",new Map)}var r=e.prototype;return r.getId=function(t){var n;return(n=this.styleIDMap.get(t))!=null?n:-1},r.has=function(t){return this.styleIDMap.has(t)},r.add=function(t,n){if(this.has(t))return this.getId(t);var o;return n===void 0?o=this.id++:o=n,this.styleIDMap.set(t,o),this.idStyleMap.set(o,t),o},r.getStyle=function(t){return this.idStyleMap.get(t)||null},r.reset=function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1},r.generateId=function(){return this.id++},e})();function lp(e){var r,i=null;return"getRootNode"in e&&((r=Q.getRootNode(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&Q.host(Q.getRootNode(e))&&(i=Q.host(Q.getRootNode(e))),i}function Kw(e){for(var r=e,i;i=lp(r);)r=i;return r}function Yw(e){var r=e.ownerDocument;if(!r)return!1;var i=Kw(e);return Q.contains(r,i)}function cp(e){var r=e.ownerDocument;return r?Q.contains(r,e)||Yw(e):!1}var ee=(function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e})(ee||{}),W=(function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e})(W||{}),Ze=(function(e){return e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e})(Ze||{}),At=(function(e){return e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e})(At||{}),Gr=(function(e){return e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e})(Gr||{}),Pr=(function(e){return e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e})(Pr||{}),fp=(function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e})(fp||{});function Rf(e){return"__ln"in e}var Jw=(function(){function e(){R(this,"length",0),R(this,"head",null),R(this,"tail",null)}var r=e.prototype;return r.get=function(t){if(t>=this.length)throw new Error("Position outside of list range");for(var n=this.head,o=0;o<t;o++)n=n?.next||null;return n},r.addNode=function(t){var n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Rf(t.previousSibling)){var o=t.previousSibling.__ln.next;n.next=o,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,o&&(o.previous=n)}else if(t.nextSibling&&Rf(t.nextSibling)&&t.nextSibling.__ln.previous){var s=t.nextSibling.__ln.previous;n.previous=s,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,s&&(s.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++},r.removeNode=function(t){var n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)},e})(),$f=function(e,r){return e+"@"+r},Xw=(function(){function e(){var i=this;R(this,"frozen",!1),R(this,"locked",!1),R(this,"texts",[]),R(this,"attributes",[]),R(this,"attributeMap",new WeakMap),R(this,"removes",[]),R(this,"mapRemoves",[]),R(this,"movedMap",{}),R(this,"addedSet",new Set),R(this,"movedSet",new Set),R(this,"droppedSet",new Set),R(this,"removesSubTreeCache",new Set),R(this,"mutationCb"),R(this,"blockClass"),R(this,"blockSelector"),R(this,"maskTextClass"),R(this,"maskTextSelector"),R(this,"inlineStylesheet"),R(this,"maskInputOptions"),R(this,"maskTextFn"),R(this,"maskInputFn"),R(this,"keepIframeSrcFn"),R(this,"recordCanvas"),R(this,"inlineImages"),R(this,"slimDOMOptions"),R(this,"dataURLOptions"),R(this,"doc"),R(this,"mirror"),R(this,"iframeManager"),R(this,"stylesheetManager"),R(this,"shadowDomManager"),R(this,"canvasManager"),R(this,"processedNodeManager"),R(this,"unattachedDoc"),R(this,"processMutations",function(t){t.forEach(i.processMutation),i.emit()}),R(this,"emit",function(){if(!(i.frozen||i.locked)){for(var t=[],n=new Set,o=new Jw,s=function(M){for(var $=M,G=Ei;G===Ei;)$=$&&$.nextSibling,G=$&&i.mirror.getId($);return G},a=function(M){var $=Q.parentNode(M);if(!(!$||!cp(M))){var G=!1;if(M.nodeType===Node.TEXT_NODE){var z=$.tagName;if(z==="TEXTAREA")return;z==="STYLE"&&i.addedSet.has($)&&(G=!0)}var D=yi($)?i.mirror.getId(lp(M)):i.mirror.getId($),Ce=s(M);if(D===-1||Ce===-1)return o.addNode(M);var Ue=Rr(M,{doc:i.doc,mirror:i.mirror,blockClass:i.blockClass,blockSelector:i.blockSelector,maskTextClass:i.maskTextClass,maskTextSelector:i.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:i.inlineStylesheet,maskInputOptions:i.maskInputOptions,maskTextFn:i.maskTextFn,maskInputFn:i.maskInputFn,slimDOMOptions:i.slimDOMOptions,dataURLOptions:i.dataURLOptions,recordCanvas:i.recordCanvas,inlineImages:i.inlineImages,onSerialize:function(he){ap(he,i.mirror)&&i.iframeManager.addIframe(he),up(he,i.mirror)&&i.stylesheetManager.trackLinkElement(he),lu(M)&&i.shadowDomManager.addShadowRoot(Q.shadowRoot(M),i.doc)},onIframeLoad:function(he,Fe){i.iframeManager.attachIframe(he,Fe),i.shadowDomManager.observeAttachShadow(he)},onStylesheetLoad:function(he,Fe){i.stylesheetManager.attachLinkElement(he,Fe)},cssCaptured:G});Ue&&(t.push({parentId:D,nextId:Ce,node:Ue}),n.add(Ue.id))}};i.mapRemoves.length;)i.mirror.removeNodeFromMap(i.mapRemoves.shift());for(var u=N(i.movedSet),l;!(l=u()).done;){var f=l.value;Df(i.removesSubTreeCache,f,i.mirror)&&!i.movedSet.has(Q.parentNode(f))||a(f)}for(var c=N(i.addedSet),d;!(d=c()).done;){var g=d.value;!Lf(i.droppedSet,g)&&!Df(i.removesSubTreeCache,g,i.mirror)||Lf(i.movedSet,g)?a(g):i.droppedSet.add(g)}for(var v=null;o.length;){var _=null;if(v){var m=i.mirror.getId(Q.parentNode(v.value)),y=s(v.value);m!==-1&&y!==-1&&(_=v)}if(!_)for(var w=o.tail;w;){var S=w;if(w=w.previous,S){var C=i.mirror.getId(Q.parentNode(S.value)),x=s(S.value);if(x===-1)continue;if(C!==-1){_=S;break}else{var I=S.value,E=Q.parentNode(I);if(E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var P=Q.host(E),O=i.mirror.getId(P);if(O!==-1){_=S;break}}}}}if(!_){for(;o.head;)o.removeNode(o.head.value);break}v=_.previous,o.removeNode(_.value),a(_.value)}var T={texts:i.texts.map(function(M){var $=M.node,G=Q.parentNode($);return G&&G.tagName==="TEXTAREA"&&i.genTextAreaValueMutation(G),{id:i.mirror.getId($),value:M.value}}).filter(function(M){return!n.has(M.id)}).filter(function(M){return i.mirror.has(M.id)}),attributes:i.attributes.map(function(M){var $=M.attributes;if(typeof $.style=="string"){var G=JSON.stringify(M.styleDiff),z=JSON.stringify(M._unchangedStyles);G.length<$.style.length&&(G+z).split("var(").length===$.style.split("var(").length&&($.style=M.styleDiff)}return{id:i.mirror.getId(M.node),attributes:$}}).filter(function(M){return!n.has(M.id)}).filter(function(M){return i.mirror.has(M.id)}),removes:i.removes,adds:t};!T.texts.length&&!T.attributes.length&&!T.removes.length&&!T.adds.length||(i.texts=[],i.attributes=[],i.attributeMap=new WeakMap,i.removes=[],i.addedSet=new Set,i.movedSet=new Set,i.droppedSet=new Set,i.removesSubTreeCache=new Set,i.movedMap={},i.mutationCb(T))}}),R(this,"genTextAreaValueMutation",function(t){var n=i.attributeMap.get(t);n||(n={node:t,attributes:{},styleDiff:{},_unchangedStyles:{}},i.attributes.push(n),i.attributeMap.set(t,n));var o=Array.from(Q.childNodes(t),function(s){return Q.textContent(s)||""}).join("");n.attributes.value=xo({element:t,maskInputOptions:i.maskInputOptions,tagName:t.tagName,type:Co(t),value:o,maskInputFn:i.maskInputFn})}),R(this,"processMutation",function(t){if(!pa(t.target,i.mirror,i.slimDOMOptions))switch(t.type){case"characterData":{var n=Q.textContent(t.target);!Ke(t.target,i.blockClass,i.blockSelector,!1)&&n!==t.oldValue&&i.texts.push({value:jd(t.target,i.maskTextClass,i.maskTextSelector,!0)&&n?i.maskTextFn?i.maskTextFn(n,op(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{var o=t.target,s=t.attributeName,a=t.target.getAttribute(s);if(s==="value"){var u=Co(o);a=xo({element:o,maskInputOptions:i.maskInputOptions,tagName:o.tagName,type:u,value:a,maskInputFn:i.maskInputFn})}if(Ke(t.target,i.blockClass,i.blockSelector,!1)||a===t.oldValue)return;var l=i.attributeMap.get(t.target);if(o.tagName==="IFRAME"&&s==="src"&&!i.keepIframeSrcFn(a))if(!o.contentDocument)s="rr_src";else return;if(l||(l={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},i.attributes.push(l),i.attributeMap.set(t.target,l)),s==="type"&&o.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&o.setAttribute("data-rr-is-password","true"),!Ud(o.tagName,s))if(l.attributes[s]=Bd(i.doc,dr(o.tagName),dr(s),a),s==="style"){if(!i.unattachedDoc)try{i.unattachedDoc=document.implementation.createHTMLDocument()}catch{i.unattachedDoc=i.doc}var f=i.unattachedDoc.createElement("span");t.oldValue&&f.setAttribute("style",t.oldValue);for(var c=N(Array.from(o.style)),d;!(d=c()).done;){var g=d.value,v=o.style.getPropertyValue(g),_=o.style.getPropertyPriority(g);v!==f.style.getPropertyValue(g)||_!==f.style.getPropertyPriority(g)?_===""?l.styleDiff[g]=v:l.styleDiff[g]=[v,_]:l._unchangedStyles[g]=[v,_]}for(var m=N(Array.from(f.style)),y;!(y=m()).done;){var w=y.value;o.style.getPropertyValue(w)===""&&(l.styleDiff[w]=!1)}}else s==="open"&&o.tagName==="DIALOG"&&(o.matches("dialog:modal")?l.attributes.rr_open_mode="modal":l.attributes.rr_open_mode="non-modal");break}case"childList":{if(Ke(t.target,i.blockClass,i.blockSelector,!0))return;if(t.target.tagName==="TEXTAREA"){i.genTextAreaValueMutation(t.target);return}t.addedNodes.forEach(function(S){return i.genAdds(S,t.target)}),t.removedNodes.forEach(function(S){var C=i.mirror.getId(S),x=yi(t.target)?i.mirror.getId(Q.host(t.target)):i.mirror.getId(t.target);Ke(t.target,i.blockClass,i.blockSelector,!1)||pa(S,i.mirror,i.slimDOMOptions)||!qw(S,i.mirror)||(i.addedSet.has(S)?(cu(i.addedSet,S),i.droppedSet.add(S)):i.addedSet.has(t.target)&&C===-1||sp(t.target,i.mirror)||(i.movedSet.has(S)&&i.movedMap[$f(C,x)]?cu(i.movedSet,S):(i.removes.push({parentId:x,id:C,isShadow:yi(t.target)&&_i(t.target)?!0:void 0}),Zw(S,i.removesSubTreeCache))),i.mapRemoves.push(S))});break}}}),R(this,"genAdds",function(t,n){if(!i.processedNodeManager.inOtherBuffer(t,i)&&!(i.addedSet.has(t)||i.movedSet.has(t))){if(i.mirror.hasNode(t)){if(pa(t,i.mirror,i.slimDOMOptions))return;i.movedSet.add(t);var o=null;n&&i.mirror.hasNode(n)&&(o=i.mirror.getId(n)),o&&o!==-1&&(i.movedMap[$f(i.mirror.getId(t),o)]=!0)}else i.addedSet.add(t),i.droppedSet.delete(t);Ke(t,i.blockClass,i.blockSelector,!1)||(Q.childNodes(t).forEach(function(s){return i.genAdds(s)}),lu(t)&&Q.childNodes(Q.shadowRoot(t)).forEach(function(s){i.processedNodeManager.add(s,i),i.genAdds(s,t)}))}})}var r=e.prototype;return r.init=function(t){var n=this;["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(function(o){n[o]=t[o]})},r.freeze=function(){this.frozen=!0,this.canvasManager.freeze()},r.unfreeze=function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()},r.isFrozen=function(){return this.frozen},r.lock=function(){this.locked=!0,this.canvasManager.lock()},r.unlock=function(){this.locked=!1,this.canvasManager.unlock(),this.emit()},r.reset=function(){this.shadowDomManager.reset(),this.canvasManager.reset()},e})();function cu(e,r){e.delete(r),Q.childNodes(r).forEach(function(i){return cu(e,i)})}function Zw(e,r){for(var i=[e];i.length;){var t=i.pop();r.has(t)||(r.add(t),Q.childNodes(t).forEach(function(n){return i.push(n)}))}}function Df(e,r,i){return e.size===0?!1:Qw(e,r)}function Qw(e,r,i){var t=Q.parentNode(r);return t?e.has(t):!1}function Lf(e,r){return e.size===0?!1:dp(e,r)}function dp(e,r){var i=Q.parentNode(r);return i?e.has(i)?!0:dp(e,i):!1}var bi;function e0(e){bi=e}function t0(){bi=void 0}var ie=function(e){if(!bi)return e;var r=function(){for(var i=arguments.length,t=new Array(i),n=0;n<i;n++)t[n]=arguments[n];try{return e.apply(void 0,[].concat(t))}catch(o){if(bi&&bi(o)===!0)return;throw o}};return r},lr=[];function Ki(e){try{if("composedPath"in e){var r=e.composedPath();if(r.length)return r[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function hp(e,r){var i=new Xw;lr.push(i),i.init(e);var t=new(tp())(ie(i.processMutations.bind(i)));return t.observe(r,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),t}function r0(e){var r=e.mousemoveCb,i=e.sampling,t=e.doc,n=e.mirror;if(i.mousemove===!1)return function(){};var o=typeof i.mousemove=="number"?i.mousemove:50,s=typeof i.mousemoveCallback=="number"?i.mousemoveCallback:500,a=[],u,l=Di(ie(function(d){var g=Date.now()-u;r(a.map(function(v){return v.timeOffset-=g,v}),d),a=[],u=null}),s),f=ie(Di(ie(function(d){var g=Ki(d),v=uu(d)?d.changedTouches[0]:d,_=v.clientX,m=v.clientY;u||(u=$o()),a.push({x:_,y:m,id:n.getId(g),timeOffset:$o()-u}),l(typeof DragEvent<"u"&&L(d,DragEvent)?W.Drag:L(d,MouseEvent)?W.MouseMove:W.TouchMove)}),o,{trailing:!1})),c=[He("mousemove",f,t),He("touchmove",f,t),He("drag",f,t)];return ie(function(){c.forEach(function(d){return d()})})}function i0(e){var r=e.mouseInteractionCb,i=e.doc,t=e.mirror,n=e.blockClass,o=e.blockSelector,s=e.sampling;if(s.mouseInteraction===!1)return function(){};var a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,u=[],l=null,f=function(c){return function(d){var g=Ki(d);if(!Ke(g,n,o,!0)){var v=null,_=c;if("pointerType"in d){switch(d.pointerType){case"mouse":v=At.Mouse;break;case"touch":v=At.Touch;break;case"pen":v=At.Pen;break}v===At.Touch?Ze[c]===Ze.MouseDown?_="TouchStart":Ze[c]===Ze.MouseUp&&(_="TouchEnd"):At.Pen}else uu(d)&&(v=At.Touch);v!==null?(l=v,(_.startsWith("Touch")&&v===At.Touch||_.startsWith("Mouse")&&v===At.Mouse)&&(v=null)):Ze[c]===Ze.Click&&(v=l,l=null);var m=uu(d)?d.changedTouches[0]:d;if(m){var y=t.getId(g),w=m.clientX,S=m.clientY;ie(r)(Y({type:Ze[_],id:y,x:w,y:S},v!==null&&{pointerType:v}))}}}};return Object.keys(Ze).filter(function(c){return Number.isNaN(Number(c))&&!c.endsWith("_Departed")&&a[c]!==!1}).forEach(function(c){var d=dr(c),g=f(c);if(window.PointerEvent)switch(Ze[c]){case Ze.MouseDown:case Ze.MouseUp:d=d.replace("mouse","pointer");break;case Ze.TouchStart:case Ze.TouchEnd:return}u.push(He(d,g,i))}),ie(function(){u.forEach(function(c){return c()})})}function pp(e){var r=e.scrollCb,i=e.doc,t=e.mirror,n=e.blockClass,o=e.blockSelector,s=e.sampling,a=ie(Di(ie(function(u){var l=Ki(u);if(!(!l||Ke(l,n,o,!0))){var f=t.getId(l);if(l===i&&i.defaultView){var c=rp(i.defaultView);r({id:f,x:c.left,y:c.top})}else r({id:f,x:l.scrollLeft,y:l.scrollTop})}}),s.scroll||100));return He("scroll",a,i)}function n0(e,r){var i=e.viewportResizeCb,t=r.win,n=-1,o=-1,s=ie(Di(ie(function(){var a=ip(),u=np();(n!==a||o!==u)&&(i({width:Number(u),height:Number(a)}),n=a,o=u)}),200));return He("resize",s,t)}var o0=["INPUT","TEXTAREA","SELECT"],Ff=new WeakMap;function s0(e){var r=e.inputCb,i=e.doc,t=e.mirror,n=e.blockClass,o=e.blockSelector,s=e.ignoreClass,a=e.ignoreSelector,u=e.maskInputOptions,l=e.maskInputFn,f=e.sampling,c=e.userTriggeredOnInput;function d(C){var x=Ki(C),I=C.isTrusted,E=x&&x.tagName;if(x&&E==="OPTION"&&(x=Q.parentElement(x)),!(!x||!E||o0.indexOf(E)<0||Ke(x,n,o,!0))&&!(x.classList.contains(s)||a&&x.matches(a))){var P=x.value,O=!1,T=Co(x)||"";T==="radio"||T==="checkbox"?O=x.checked:(u[E.toLowerCase()]||u[T])&&(P=xo({element:x,maskInputOptions:u,tagName:E,type:T,value:P,maskInputFn:l})),g(x,c?{text:P,isChecked:O,userTriggered:I}:{text:P,isChecked:O});var M=x.name;T==="radio"&&M&&O&&i.querySelectorAll('input[type="radio"][name="'+M+'"]').forEach(function($){if($!==x){var G=$.value;g($,c?{text:G,isChecked:!O,userTriggered:!1}:{text:G,isChecked:!O})}})}}function g(C,x){var I=Ff.get(C);if(!I||I.text!==x.text||I.isChecked!==x.isChecked){Ff.set(C,x);var E=t.getId(C);ie(r)(Y({},x,{id:E}))}}var v=f.input==="last"?["change"]:["input","change"],_=v.map(function(C){return He(C,ie(d),i)}),m=i.defaultView;if(!m)return function(){_.forEach(function(C){return C()})};var y=m.Object.getOwnPropertyDescriptor(m.HTMLInputElement.prototype,"value"),w=[[m.HTMLInputElement.prototype,"value"],[m.HTMLInputElement.prototype,"checked"],[m.HTMLSelectElement.prototype,"value"],[m.HTMLTextAreaElement.prototype,"value"],[m.HTMLSelectElement.prototype,"selectedIndex"],[m.HTMLOptionElement.prototype,"selected"]];if(y&&y.set){var S;(S=_).push.apply(S,[].concat(w.map(function(C){return fs(C[0],C[1],{set:function(){ie(d)({target:this,isTrusted:!1})}},!1,m)})))}return ie(function(){_.forEach(function(C){return C()})})}function Do(e){var r=[];function i(t,n){if(Zn("CSSGroupingRule")&&L(t.parentRule,CSSGroupingRule)||Zn("CSSMediaRule")&&L(t.parentRule,CSSMediaRule)||Zn("CSSSupportsRule")&&L(t.parentRule,CSSSupportsRule)||Zn("CSSConditionRule")&&L(t.parentRule,CSSConditionRule)){var o=Array.from(t.parentRule.cssRules),s=o.indexOf(t);n.unshift(s)}else if(t.parentStyleSheet){var a=Array.from(t.parentStyleSheet.cssRules),u=a.indexOf(t);n.unshift(u)}return n}return i(e,r)}function jt(e,r,i){var t,n;return e?(e.ownerNode?t=r.getId(e.ownerNode):n=i.getId(e),{styleId:n,id:t}):{}}function a0(e,r){var i=e.styleSheetRuleCb,t=e.mirror,n=e.stylesheetManager,o=r.win;if(!o.CSSStyleSheet||!o.CSSStyleSheet.prototype)return function(){};var s=o.CSSStyleSheet.prototype.insertRule;o.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:ie(function(d,g,v){var _=v[0],m=v[1],y=jt(g,t,n.styleMirror),w=y.id,S=y.styleId;return(w&&w!==-1||S&&S!==-1)&&i({id:w,styleId:S,adds:[{rule:_,index:m}]}),d.apply(g,v)})}),o.CSSStyleSheet.prototype.addRule=function(d,g,v){v===void 0&&(v=this.cssRules.length);var _=d+" { "+g+" }";return o.CSSStyleSheet.prototype.insertRule.apply(this,[_,v])};var a=o.CSSStyleSheet.prototype.deleteRule;o.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:ie(function(d,g,v){var _=v[0],m=jt(g,t,n.styleMirror),y=m.id,w=m.styleId;return(y&&y!==-1||w&&w!==-1)&&i({id:y,styleId:w,removes:[{index:_}]}),d.apply(g,v)})}),o.CSSStyleSheet.prototype.removeRule=function(d){return o.CSSStyleSheet.prototype.deleteRule.apply(this,[d])};var u;o.CSSStyleSheet.prototype.replace&&(u=o.CSSStyleSheet.prototype.replace,o.CSSStyleSheet.prototype.replace=new Proxy(u,{apply:ie(function(d,g,v){var _=v[0],m=jt(g,t,n.styleMirror),y=m.id,w=m.styleId;return(y&&y!==-1||w&&w!==-1)&&i({id:y,styleId:w,replace:_}),d.apply(g,v)})}));var l;o.CSSStyleSheet.prototype.replaceSync&&(l=o.CSSStyleSheet.prototype.replaceSync,o.CSSStyleSheet.prototype.replaceSync=new Proxy(l,{apply:ie(function(d,g,v){var _=v[0],m=jt(g,t,n.styleMirror),y=m.id,w=m.styleId;return(y&&y!==-1||w&&w!==-1)&&i({id:y,styleId:w,replaceSync:_}),d.apply(g,v)})}));var f={};Qn("CSSGroupingRule")?f.CSSGroupingRule=o.CSSGroupingRule:(Qn("CSSMediaRule")&&(f.CSSMediaRule=o.CSSMediaRule),Qn("CSSConditionRule")&&(f.CSSConditionRule=o.CSSConditionRule),Qn("CSSSupportsRule")&&(f.CSSSupportsRule=o.CSSSupportsRule));var c={};return Object.entries(f).forEach(function(d){var g=d[0],v=d[1];c[g]={insertRule:v.prototype.insertRule,deleteRule:v.prototype.deleteRule},v.prototype.insertRule=new Proxy(c[g].insertRule,{apply:ie(function(_,m,y){var w=y[0],S=y[1],C=jt(m.parentStyleSheet,t,n.styleMirror),x=C.id,I=C.styleId;return(x&&x!==-1||I&&I!==-1)&&i({id:x,styleId:I,adds:[{rule:w,index:[].concat(Do(m),[S||0])}]}),_.apply(m,y)})}),v.prototype.deleteRule=new Proxy(c[g].deleteRule,{apply:ie(function(_,m,y){var w=y[0],S=jt(m.parentStyleSheet,t,n.styleMirror),C=S.id,x=S.styleId;return(C&&C!==-1||x&&x!==-1)&&i({id:C,styleId:x,removes:[{index:[].concat(Do(m),[w])}]}),_.apply(m,y)})})}),ie(function(){o.CSSStyleSheet.prototype.insertRule=s,o.CSSStyleSheet.prototype.deleteRule=a,u&&(o.CSSStyleSheet.prototype.replace=u),l&&(o.CSSStyleSheet.prototype.replaceSync=l),Object.entries(f).forEach(function(d){var g=d[0],v=d[1];v.prototype.insertRule=c[g].insertRule,v.prototype.deleteRule=c[g].deleteRule})})}function vp(e,r){var i=e.mirror,t=e.stylesheetManager,n,o,s,a=null;r.nodeName==="#document"?a=i.getId(r):a=i.getId(Q.host(r));var u=r.nodeName==="#document"?(n=r.defaultView)==null?void 0:n.Document:(s=(o=r.ownerDocument)==null?void 0:o.defaultView)==null?void 0:s.ShadowRoot,l=u?.prototype?Object.getOwnPropertyDescriptor(u?.prototype,"adoptedStyleSheets"):void 0;return a===null||a===-1||!u||!l?function(){}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:function(){var c;return(c=l.get)==null?void 0:c.call(this)},set:function(c){var d,g=(d=l.set)==null?void 0:d.call(this,c);if(a!==null&&a!==-1)try{t.adoptStyleSheets(c,a)}catch{}return g}}),ie(function(){Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))}function u0(e,r){var i=e.styleDeclarationCb,t=e.mirror,n=e.ignoreCSSAttributes,o=e.stylesheetManager,s=r.win,a=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:ie(function(l,f,c){var d,g=c[0],v=c[1],_=c[2];if(n.has(g))return a.apply(f,[g,v,_]);var m=jt((d=f.parentRule)==null?void 0:d.parentStyleSheet,t,o.styleMirror),y=m.id,w=m.styleId;return(y&&y!==-1||w&&w!==-1)&&i({id:y,styleId:w,set:{property:g,value:v,priority:_},index:Do(f.parentRule)}),l.apply(f,c)})});var u=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(u,{apply:ie(function(l,f,c){var d,g=c[0];if(n.has(g))return u.apply(f,[g]);var v=jt((d=f.parentRule)==null?void 0:d.parentStyleSheet,t,o.styleMirror),_=v.id,m=v.styleId;return(_&&_!==-1||m&&m!==-1)&&i({id:_,styleId:m,remove:{property:g},index:Do(f.parentRule)}),l.apply(f,c)})}),ie(function(){s.CSSStyleDeclaration.prototype.setProperty=a,s.CSSStyleDeclaration.prototype.removeProperty=u})}function l0(e){var r=e.mediaInteractionCb,i=e.blockClass,t=e.blockSelector,n=e.mirror,o=e.sampling,s=e.doc,a=ie(function(l){return Di(ie(function(f){var c=Ki(f);if(!(!c||Ke(c,i,t,!0))){var d=c.currentTime,g=c.volume,v=c.muted,_=c.playbackRate,m=c.loop;r({type:l,id:n.getId(c),currentTime:d,volume:g,muted:v,playbackRate:_,loop:m})}}),o.media||500)}),u=[He("play",a(Pr.Play),s),He("pause",a(Pr.Pause),s),He("seeked",a(Pr.Seeked),s),He("volumechange",a(Pr.VolumeChange),s),He("ratechange",a(Pr.RateChange),s)];return ie(function(){u.forEach(function(l){return l()})})}function c0(e){var r=e.fontCb,i=e.doc,t=i.defaultView;if(!t)return function(){};var n=[],o=new WeakMap,s=t.FontFace;t.FontFace=function(l,f,c){var d=new s(l,f,c);return o.set(d,{family:l,buffer:typeof f!="string",descriptors:c,fontSource:typeof f=="string"?f:JSON.stringify(Array.from(new Uint8Array(f)))}),d};var a=gr(i.fonts,"add",function(u){return function(l){return setTimeout(ie(function(){var f=o.get(l);f&&(r(f),o.delete(l))}),0),u.apply(this,[l])}});return n.push(function(){t.FontFace=s}),n.push(a),ie(function(){n.forEach(function(u){return u()})})}function f0(e){var r=e.doc,i=e.mirror,t=e.blockClass,n=e.blockSelector,o=e.selectionCb,s=!0,a=ie(function(){var u=r.getSelection();if(!(!u||s&&u?.isCollapsed)){s=u.isCollapsed||!1;for(var l=[],f=u.rangeCount||0,c=0;c<f;c++){var d=u.getRangeAt(c),g=d.startContainer,v=d.startOffset,_=d.endContainer,m=d.endOffset,y=Ke(g,t,n,!0)||Ke(_,t,n,!0);y||l.push({start:i.getId(g),startOffset:v,end:i.getId(_),endOffset:m})}o({ranges:l})}});return a(),He("selectionchange",a)}function d0(e){var r=e.doc,i=e.customElementCb,t=r.defaultView;if(!t||!t.customElements)return function(){};var n=gr(t.customElements,"define",function(o){return function(s,a,u){try{i({define:{name:s}})}catch{console.warn("Custom element callback failed for "+s)}return o.apply(this,[s,a,u])}});return n}function h0(e,r){var i=e.mutationCb,t=e.mousemoveCb,n=e.mouseInteractionCb,o=e.scrollCb,s=e.viewportResizeCb,a=e.inputCb,u=e.mediaInteractionCb,l=e.styleSheetRuleCb,f=e.styleDeclarationCb,c=e.canvasMutationCb,d=e.fontCb,g=e.selectionCb,v=e.customElementCb;e.mutationCb=function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];if(r.mutation){var w;(w=r).mutation.apply(w,[].concat(m))}i.apply(void 0,[].concat(m))},e.mousemoveCb=function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];if(r.mousemove){var w;(w=r).mousemove.apply(w,[].concat(m))}t.apply(void 0,[].concat(m))},e.mouseInteractionCb=function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];if(r.mouseInteraction){var w;(w=r).mouseInteraction.apply(w,[].concat(m))}n.apply(void 0,[].concat(m))},e.scrollCb=function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];if(r.scroll){var w;(w=r).scroll.apply(w,[].concat(m))}o.apply(void 0,[].concat(m))},e.viewportResizeCb=function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];if(r.viewportResize){var w;(w=r).viewportResize.apply(w,[].concat(m))}s.apply(void 0,[].concat(m))},e.inputCb=function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];if(r.input){var w;(w=r).input.apply(w,[].concat(m))}a.apply(void 0,[].concat(m))},e.mediaInteractionCb=function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];if(r.mediaInteaction){var w;(w=r).mediaInteaction.apply(w,[].concat(m))}u.apply(void 0,[].concat(m))},e.styleSheetRuleCb=function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];if(r.styleSheetRule){var w;(w=r).styleSheetRule.apply(w,[].concat(m))}l.apply(void 0,[].concat(m))},e.styleDeclarationCb=function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];if(r.styleDeclaration){var w;(w=r).styleDeclaration.apply(w,[].concat(m))}f.apply(void 0,[].concat(m))},e.canvasMutationCb=function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];if(r.canvasMutation){var w;(w=r).canvasMutation.apply(w,[].concat(m))}c.apply(void 0,[].concat(m))},e.fontCb=function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];if(r.font){var w;(w=r).font.apply(w,[].concat(m))}d.apply(void 0,[].concat(m))},e.selectionCb=function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];if(r.selection){var w;(w=r).selection.apply(w,[].concat(m))}g.apply(void 0,[].concat(m))},e.customElementCb=function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];if(r.customElement){var w;(w=r).customElement.apply(w,[].concat(m))}v.apply(void 0,[].concat(m))}}function p0(e,r){r===void 0&&(r={});var i=e.doc.defaultView;if(!i)return function(){};h0(e,r);var t;e.recordDOM&&(t=hp(e,e.doc));var n=r0(e),o=i0(e),s=pp(e),a=n0(e,{win:i}),u=s0(e),l=l0(e),f=function(){},c=function(){},d=function(){},g=function(){};e.recordDOM&&(f=a0(e,{win:i}),c=vp(e,e.doc),d=u0(e,{win:i}),e.collectFonts&&(g=c0(e)));for(var v=f0(e),_=d0(e),m=[],y=N(e.plugins),w;!(w=y()).done;){var S=w.value;m.push(S.observer(S.callback,i,S.options))}return ie(function(){lr.forEach(function(C){return C.reset()}),t?.disconnect(),n(),o(),s(),a(),u(),l(),f(),c(),d(),g(),v(),_(),m.forEach(function(C){return C()})})}function Zn(e){return typeof window[e]<"u"}function Qn(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var Bf=(function(){function e(i){R(this,"iframeIdToRemoteIdMap",new WeakMap),R(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=i}var r=e.prototype;return r.getId=function(t,n,o,s){var a=o||this.getIdToRemoteIdMap(t),u=s||this.getRemoteIdToIdMap(t),l=a.get(n);return l||(l=this.generateIdFn(),a.set(n,l),u.set(l,n)),l},r.getIds=function(t,n){var o=this,s=this.getIdToRemoteIdMap(t),a=this.getRemoteIdToIdMap(t);return n.map(function(u){return o.getId(t,u,s,a)})},r.getRemoteId=function(t,n,o){var s=o||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;var a=s.get(n);return a||-1},r.getRemoteIds=function(t,n){var o=this,s=this.getRemoteIdToIdMap(t);return n.map(function(a){return o.getRemoteId(t,a,s)})},r.reset=function(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)},r.getIdToRemoteIdMap=function(t){var n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n},r.getRemoteIdToIdMap=function(t){var n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n},e})(),v0=(function(){function e(i){R(this,"iframes",new WeakMap),R(this,"crossOriginIframeMap",new WeakMap),R(this,"crossOriginIframeMirror",new Bf(Fd)),R(this,"crossOriginIframeStyleMirror"),R(this,"crossOriginIframeRootIdMap",new WeakMap),R(this,"mirror"),R(this,"mutationCb"),R(this,"wrappedEmit"),R(this,"loadListener"),R(this,"stylesheetManager"),R(this,"recordCrossOriginIframes"),this.mutationCb=i.mutationCb,this.wrappedEmit=i.wrappedEmit,this.stylesheetManager=i.stylesheetManager,this.recordCrossOriginIframes=i.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Bf(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=i.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}var r=e.prototype;return r.addIframe=function(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)},r.addLoadListener=function(t){this.loadListener=t},r.attachIframe=function(t,n){var o,s;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((o=t.contentWindow)==null||o.addEventListener("message",this.handleMessage.bind(this))),(s=this.loadListener)==null||s.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))},r.handleMessage=function(t){var n=t;if(!(n.data.type!=="rrweb"||n.origin!==n.data.origin)){var o=t.source;if(o){var s=this.crossOriginIframeMap.get(t.source);if(s){var a=this.transformCrossOriginEvent(s,n.data.event);a&&this.wrappedEmit(a,n.data.isCheckout)}}}},r.transformCrossOriginEvent=function(t,n){var o=this,s;switch(n.type){case ee.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);var a=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,a),this.patchRootIdOnNode(n.data.node,a),{timestamp:n.timestamp,type:ee.IncrementalSnapshot,data:{source:W.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case ee.Meta:case ee.Load:case ee.DomContentLoaded:return!1;case ee.Plugin:return n;case ee.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case ee.IncrementalSnapshot:switch(n.data.source){case W.Mutation:return n.data.adds.forEach(function(u){o.replaceIds(u,t,["parentId","nextId","previousId"]),o.replaceIdOnNode(u.node,t);var l=o.crossOriginIframeRootIdMap.get(t);l&&o.patchRootIdOnNode(u.node,l)}),n.data.removes.forEach(function(u){o.replaceIds(u,t,["parentId","id"])}),n.data.attributes.forEach(function(u){o.replaceIds(u,t,["id"])}),n.data.texts.forEach(function(u){o.replaceIds(u,t,["id"])}),n;case W.Drag:case W.TouchMove:case W.MouseMove:return n.data.positions.forEach(function(u){o.replaceIds(u,t,["id"])}),n;case W.ViewportResize:return!1;case W.MediaInteraction:case W.MouseInteraction:case W.Scroll:case W.CanvasMutation:case W.Input:return this.replaceIds(n.data,t,["id"]),n;case W.StyleSheetRule:case W.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case W.Font:return n;case W.Selection:return n.data.ranges.forEach(function(u){o.replaceIds(u,t,["start","end"])}),n;case W.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(s=n.data.styles)==null||s.forEach(function(u){o.replaceStyleIds(u,t,["styleId"])}),n}}return!1},r.replace=function(t,n,o,s){for(var a=N(s),u;!(u=a()).done;){var l=u.value;!Array.isArray(n[l])&&typeof n[l]!="number"||(Array.isArray(n[l])?n[l]=t.getIds(o,n[l]):n[l]=t.getId(o,n[l]))}return n},r.replaceIds=function(t,n,o){return this.replace(this.crossOriginIframeMirror,t,n,o)},r.replaceStyleIds=function(t,n,o){return this.replace(this.crossOriginIframeStyleMirror,t,n,o)},r.replaceIdOnNode=function(t,n){var o=this;this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(function(s){o.replaceIdOnNode(s,n)})},r.patchRootIdOnNode=function(t,n){var o=this;t.type!==fp.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(function(s){o.patchRootIdOnNode(s,n)})},e})(),m0=(function(){function e(i){R(this,"shadowDoms",new WeakSet),R(this,"mutationCb"),R(this,"scrollCb"),R(this,"bypassOptions"),R(this,"mirror"),R(this,"restoreHandlers",[]),this.mutationCb=i.mutationCb,this.scrollCb=i.scrollCb,this.bypassOptions=i.bypassOptions,this.mirror=i.mirror,this.init()}var r=e.prototype;return r.init=function(){this.reset(),this.patchAttachShadow(Element,document)},r.addShadowRoot=function(t,n){var o=this;if(_i(t)&&!this.shadowDoms.has(t)){this.shadowDoms.add(t);var s=hp(Y({},this.bypassOptions,{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(function(){return s.disconnect()}),this.restoreHandlers.push(pp(Y({},this.bypassOptions,{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(function(){t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&o.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,o.mirror.getId(Q.host(t))),o.restoreHandlers.push(vp({mirror:o.mirror,stylesheetManager:o.bypassOptions.stylesheetManager},t))},0)}},r.observeAttachShadow=function(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)},r.patchAttachShadow=function(t,n){var o=this;this.restoreHandlers.push(gr(t.prototype,"attachShadow",function(s){return function(a){var u=s.call(this,a),l=Q.shadowRoot(this);return l&&cp(this)&&o.addShadowRoot(l,n),u}}))},r.reset=function(){this.restoreHandlers.forEach(function(t){try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet},e})(),$r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(pi=0;pi<$r.length;pi++)g0[$r.charCodeAt(pi)]=pi;var pi,y0=function(r){var i=new Uint8Array(r),t,n=i.length,o="";for(t=0;t<n;t+=3)o+=$r[i[t]>>2],o+=$r[(i[t]&3)<<4|i[t+1]>>4],o+=$r[(i[t+1]&15)<<2|i[t+2]>>6],o+=$r[i[t+2]&63];return n%3===2?o=o.substring(0,o.length-1)+"=":n%3===1&&(o=o.substring(0,o.length-2)+"=="),o},Uf=new Map;function _0(e,r){var i=Uf.get(e);return i||(i=new Map,Uf.set(e,i)),i.has(r)||i.set(r,[]),i.get(r)}var mp=function(e,r,i){if(!(!e||!(yp(e,r)||(typeof e>"u"?"undefined":F(e))==="object"))){var t=e.constructor.name,n=_0(i,t),o=n.indexOf(e);return o===-1&&(o=n.length,n.push(e)),o}};function _o(e,r,i){if(L(e,Array))return e.map(function(v){return _o(v,r,i)});if(e===null)return e;if(L(e,Float32Array)||L(e,Float64Array)||L(e,Int32Array)||L(e,Uint32Array)||L(e,Uint8Array)||L(e,Uint16Array)||L(e,Int16Array)||L(e,Int8Array)||L(e,Uint8ClampedArray)){var t=e.constructor.name;return{rr_type:t,args:[Object.values(e)]}}else if(L(e,ArrayBuffer)){var n=e.constructor.name,o=y0(e);return{rr_type:n,base64:o}}else if(L(e,DataView)){var s=e.constructor.name;return{rr_type:s,args:[_o(e.buffer,r,i),e.byteOffset,e.byteLength]}}else if(L(e,HTMLImageElement)){var a=e.constructor.name,u=e.src;return{rr_type:a,src:u}}else if(L(e,HTMLCanvasElement)){var l="HTMLImageElement",f=e.toDataURL();return{rr_type:l,src:f}}else if(L(e,ImageData)){var c=e.constructor.name;return{rr_type:c,args:[_o(e.data,r,i),e.width,e.height]}}else if(yp(e,r)||(typeof e>"u"?"undefined":F(e))==="object"){var d=e.constructor.name,g=mp(e,r,i);return{rr_type:d,index:g}}return e}var gp=function(e,r,i){return e.map(function(t){return _o(t,r,i)})},yp=function(e,r){var i=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"],t=i.filter(function(n){return typeof r[n]=="function"});return!!t.find(function(n){return L(e,r[n])})};function b0(e,r,i,t){for(var n=function(){var l=u.value;try{if(typeof r.CanvasRenderingContext2D.prototype[l]!="function")return"continue";var f=gr(r.CanvasRenderingContext2D.prototype,l,function(d){return function(){for(var g=this,v=arguments.length,_=new Array(v),m=0;m<v;m++)_[m]=arguments[m];return Ke(this.canvas,i,t,!0)||setTimeout(function(){var y=gp(_,r,g);e(g.canvas,{type:Gr["2D"],property:l,args:y})},0),d.apply(this,_)}});o.push(f)}catch{var c=fs(r.CanvasRenderingContext2D.prototype,l,{set:function(v){e(this.canvas,{type:Gr["2D"],property:l,args:[v],setter:!0})}});o.push(c)}},o=[],s=Object.getOwnPropertyNames(r.CanvasRenderingContext2D.prototype),a=N(s),u;!(u=a()).done;)n();return function(){o.forEach(function(l){return l()})}}function w0(e){return e==="experimental-webgl"?"webgl":e}function jf(e,r,i,t){var n=[];try{var o=gr(e.HTMLCanvasElement.prototype,"getContext",function(s){return function(a){for(var u=arguments.length,l=new Array(u>1?u-1:0),f=1;f<u;f++)l[f-1]=arguments[f];if(!Ke(this,r,i,!0)){var c=w0(a);if("__context"in this||(this.__context=c),t&&["webgl","webgl2"].includes(c))if(l[0]&&F(l[0])==="object"){var d=l[0];d.preserveDrawingBuffer||(d.preserveDrawingBuffer=!0)}else l.splice(0,1,{preserveDrawingBuffer:!0})}return s.apply(this,[].concat([a],l))}});n.push(o)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){n.forEach(function(s){return s()})}}function zf(e,r,i,t,n,o){for(var s=function(){var c=f.value;if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(c))return"continue";try{if(typeof e[c]!="function")return"continue";var d=gr(e,c,function(v){return function(){for(var _=arguments.length,m=new Array(_),y=0;y<_;y++)m[y]=arguments[y];var w=v.apply(this,m);if(mp(w,o,this),"tagName"in this.canvas&&!Ke(this.canvas,t,n,!0)){var S=gp(m,o,this),C={type:r,property:c,args:S};i(this.canvas,C)}return w}});a.push(d)}catch{var g=fs(e,c,{set:function(m){i(this.canvas,{type:r,property:c,args:[m],setter:!0})}});a.push(g)}},a=[],u=Object.getOwnPropertyNames(e),l=N(u),f;!(f=l()).done;)s();return a}function S0(e,r,i,t){var n,o=[];if((n=o).push.apply(n,[].concat(zf(r.WebGLRenderingContext.prototype,Gr.WebGL,e,i,t,r))),typeof r.WebGL2RenderingContext<"u"){var s;(s=o).push.apply(s,[].concat(zf(r.WebGL2RenderingContext.prototype,Gr.WebGL2,e,i,t,r)))}return function(){o.forEach(function(a){return a()})}}var _p="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",x0=function(e){return Uint8Array.from(atob(e),function(r){return r.charCodeAt(0)})},Wf=typeof window<"u"&&window.Blob&&new Blob([x0(_p)],{type:"text/javascript;charset=utf-8"});function C0(e){var r;try{if(r=Wf&&(window.URL||window.webkitURL).createObjectURL(Wf),!r)throw"";var i=new Worker(r,{name:e?.name});return i.addEventListener("error",function(){(window.URL||window.webkitURL).revokeObjectURL(r)}),i}catch{return new Worker("data:text/javascript;base64,"+_p,{name:e?.name})}finally{r&&(window.URL||window.webkitURL).revokeObjectURL(r)}}var k0=(function(){function e(i){var t=this;R(this,"pendingCanvasMutations",new Map),R(this,"rafStamps",{latestId:0,invokeId:null}),R(this,"mirror"),R(this,"mutationCb"),R(this,"resetObservers"),R(this,"frozen",!1),R(this,"locked",!1),R(this,"processMutation",function(c,d){var g=t.rafStamps.invokeId&&t.rafStamps.latestId!==t.rafStamps.invokeId;(g||!t.rafStamps.invokeId)&&(t.rafStamps.invokeId=t.rafStamps.latestId),t.pendingCanvasMutations.has(c)||t.pendingCanvasMutations.set(c,[]),t.pendingCanvasMutations.get(c).push(d)});var n=i.sampling,o=n===void 0?"all":n,s=i.win,a=i.blockClass,u=i.blockSelector,l=i.recordCanvas,f=i.dataURLOptions;this.mutationCb=i.mutationCb,this.mirror=i.mirror,l&&o==="all"&&this.initCanvasMutationObserver(s,a,u),l&&typeof o=="number"&&this.initCanvasFPSObserver(o,s,a,u,{dataURLOptions:f})}var r=e.prototype;return r.reset=function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()},r.freeze=function(){this.frozen=!0},r.unfreeze=function(){this.frozen=!1},r.lock=function(){this.locked=!0},r.unlock=function(){this.locked=!1},r.initCanvasFPSObserver=function(t,n,o,s,a){var u=this,l=jf(n,o,s,!0),f=new Map,c=new C0;c.onmessage=function(y){var w=y.data.id;if(f.set(w,!1),"base64"in y.data){var S=y.data,C=S.base64,x=S.type,I=S.width,E=S.height;u.mutationCb({id:w,type:Gr["2D"],commands:[{property:"clearRect",args:[0,0,I,E]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:C}],type:x}]},0,0]}]})}};var d=1e3/t,g=0,v,_=function(){var y=[];return n.document.querySelectorAll("canvas").forEach(function(w){Ke(w,o,s,!0)||y.push(w)}),y},m=function(y){if(g&&y-g<d){v=requestAnimationFrame(m);return}g=y;var w=u;_().forEach(es(function(S){var C,x,I,E;return fr(this,function(P){switch(P.label){case 0:return x=w.mirror.getId(S),f.get(x)?[2]:S.width===0||S.height===0?[2]:(f.set(x,!0),["webgl","webgl2"].includes(S.__context)&&(I=S.getContext(S.__context),((C=I?.getContextAttributes())==null?void 0:C.preserveDrawingBuffer)===!1&&I.clear(I.COLOR_BUFFER_BIT)),[4,createImageBitmap(S)]);case 1:return E=P.sent(),c.postMessage({id:x,bitmap:E,width:S.width,height:S.height,dataURLOptions:a.dataURLOptions},[E]),[2]}})})),v=requestAnimationFrame(m)};v=requestAnimationFrame(m),this.resetObservers=function(){l(),cancelAnimationFrame(v)}},r.initCanvasMutationObserver=function(t,n,o){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var s=jf(t,n,o,!1),a=b0(this.processMutation.bind(this),t,n,o),u=S0(this.processMutation.bind(this),t,n,o);this.resetObservers=function(){s(),a(),u()}},r.startPendingCanvasMutationFlusher=function(){var t=this;requestAnimationFrame(function(){return t.flushPendingCanvasMutations()})},r.startRAFTimestamping=function(){var t=this,n=function(o){t.rafStamps.latestId=o,requestAnimationFrame(n)};requestAnimationFrame(n)},r.flushPendingCanvasMutations=function(){var t=this;this.pendingCanvasMutations.forEach(function(n,o){var s=t.mirror.getId(o);t.flushPendingCanvasMutationFor(o,s)}),requestAnimationFrame(function(){return t.flushPendingCanvasMutations()})},r.flushPendingCanvasMutationFor=function(t,n){if(!(this.frozen||this.locked)){var o=this.pendingCanvasMutations.get(t);if(!(!o||n===-1)){var s=o.map(function(u){u.type;var l=cr(u,["type"]);return l}),a=o[0].type;this.mutationCb({id:n,type:a,commands:s}),this.pendingCanvasMutations.delete(t)}}},e})(),I0=(function(){function e(i){R(this,"trackedLinkElements",new WeakSet),R(this,"mutationCb"),R(this,"adoptedStyleSheetCb"),R(this,"styleMirror",new Hw),this.mutationCb=i.mutationCb,this.adoptedStyleSheetCb=i.adoptedStyleSheetCb}var r=e.prototype;return r.attachLinkElement=function(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)},r.trackLinkElement=function(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))},r.adoptStyleSheets=function(t,n){var o,s=function(){var c=f.value,d=void 0;o.styleMirror.has(c)?d=o.styleMirror.getId(c):(d=o.styleMirror.add(c),u.push({styleId:d,rules:Array.from(c.rules||CSSRule,function(g,v){return{rule:$d(g,c.href),index:v}})})),a.styleIds.push(d)};if(t.length!==0){for(var a={id:n,styleIds:[]},u=[],l=N(t),f;!(f=l()).done;)o=this,s();u.length>0&&(a.styles=u),this.adoptedStyleSheetCb(a)}},r.reset=function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet},r.trackStylesheetInLinkElement=function(t){},e})(),E0=(function(){function e(){R(this,"nodeMap",new WeakMap),R(this,"active",!1)}var r=e.prototype;return r.inOtherBuffer=function(t,n){var o=this.nodeMap.get(t);return o&&Array.from(o).some(function(s){return s!==n})},r.add=function(t,n){var o=this;this.active||(this.active=!0,requestAnimationFrame(function(){o.nodeMap=new WeakMap,o.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))},r.destroy=function(){},e})(),Ne,bo,va,Lo=!1;try{Array.from([1],function(e){return e*2})[0]!==2&&(eo=document.createElement("iframe"),document.body.appendChild(eo),Array.from=((qc=eo.contentWindow)==null?void 0:qc.Array.from)||Array.from,document.body.removeChild(eo))}catch(e){console.debug("Unable to override Array.from",e)}var eo,ct=Ag();function Xt(e){e===void 0&&(e={});var r=e.emit,i=e.checkoutEveryNms,t=e.checkoutEveryNth,n=e.blockClass,o=n===void 0?"rr-block":n,s=e.blockSelector,a=s===void 0?null:s,u=e.ignoreClass,l=u===void 0?"rr-ignore":u,f=e.ignoreSelector,c=f===void 0?null:f,d=e.maskTextClass,g=d===void 0?"rr-mask":d,v=e.maskTextSelector,_=v===void 0?null:v,m=e.inlineStylesheet,y=m===void 0?!0:m,w=e.maskAllInputs,S=e.maskInputOptions,C=e.slimDOMOptions,x=e.maskInputFn,I=e.maskTextFn,E=e.hooks,P=e.packFn,O=e.sampling,T=O===void 0?{}:O,M=e.dataURLOptions,$=M===void 0?{}:M,G=e.mousemoveWait,z=e.recordDOM,D=z===void 0?!0:z,Ce=e.recordCanvas,Ue=Ce===void 0?!1:Ce,he=e.recordCrossOriginIframes,Fe=he===void 0?!1:he,qe=e.recordAfter,ht=qe===void 0?e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load":qe,et=e.userTriggeredOnInput,kt=et===void 0?!1:et,Ge=e.collectFonts,It=Ge===void 0?!1:Ge,ne=e.inlineImages,re=ne===void 0?!1:ne,le=e.plugins,ce=e.keepIframeSrcFn,Z=ce===void 0?function(){return!1}:ce,Oe=e.ignoreCSSAttributes,ot=Oe===void 0?new Set([]):Oe,Je=e.errorHandler;e0(Je);var st=Fe?window.parent===window:!0,ke=!1;if(!st)try{window.parent.document&&(ke=!1)}catch{ke=!0}if(st&&!r)throw new Error("emit function is required");if(!st&&!ke)return function(){};G!==void 0&&T.mousemove===void 0&&(T.mousemove=G),ct.reset();var at=w===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0,hidden:!0}:S!==void 0?S:{password:!0},ii=C===!0||C==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:C==="all",headMetaDescKeywords:C==="all",headTitleMutations:C==="all"}:C||{};Gw();var wr,nr=0,Et=function(oe){for(var Xe=N(le||[]),B;!(B=Xe()).done;){var Ie=B.value;Ie.eventProcessor&&(oe=Ie.eventProcessor(oe))}return P&&!ke&&(oe=P(oe)),oe};Ne=function(oe,Xe){var B,Ie=oe;if(Ie.timestamp=$o(),(B=lr[0])!=null&&B.isFrozen()&&Ie.type!==ee.FullSnapshot&&!(Ie.type===ee.IncrementalSnapshot&&Ie.data.source===W.Mutation)&&lr.forEach(function(bm){return bm.unfreeze()}),st)r?.(Et(Ie),Xe);else if(ke){var gm={type:"rrweb",event:Et(Ie),origin:window.location.origin,isCheckout:Xe};window.parent.postMessage(gm,"*")}if(Ie.type===ee.FullSnapshot)wr=Ie,nr=0;else if(Ie.type===ee.IncrementalSnapshot){if(Ie.data.source===W.Mutation&&Ie.data.isAttachIframe)return;nr++;var ym=t&&nr>=t,_m=i&&Ie.timestamp-wr.timestamp>i;(ym||_m)&&bo(!0)}};for(var or=function(oe){Ne({type:ee.IncrementalSnapshot,data:Y({source:W.Mutation},oe)})},Hl=function(oe){return Ne({type:ee.IncrementalSnapshot,data:Y({source:W.Scroll},oe)})},Kl=function(oe){return Ne({type:ee.IncrementalSnapshot,data:Y({source:W.CanvasMutation},oe)})},vm=function(oe){return Ne({type:ee.IncrementalSnapshot,data:Y({source:W.AdoptedStyleSheet},oe)})},sr=new I0({mutationCb:or,adoptedStyleSheetCb:vm}),ar=new v0({mirror:ct,mutationCb:or,stylesheetManager:sr,recordCrossOriginIframes:Fe,wrappedEmit:Ne}),mm=N(le||[]),Yl;!(Yl=mm()).done;){var Jl=Yl.value;Jl.getMirror&&Jl.getMirror({nodeMirror:ct,crossOriginIframeMirror:ar.crossOriginIframeMirror,crossOriginIframeStyleMirror:ar.crossOriginIframeStyleMirror})}var As=new E0;va=new k0({recordCanvas:Ue,mutationCb:Kl,win:window,blockClass:o,blockSelector:a,mirror:ct,sampling:T.canvas,dataURLOptions:$});var Cn=new m0({mutationCb:or,scrollCb:Hl,bypassOptions:{blockClass:o,blockSelector:a,maskTextClass:g,maskTextSelector:_,inlineStylesheet:y,maskInputOptions:at,dataURLOptions:$,maskTextFn:I,maskInputFn:x,recordCanvas:Ue,inlineImages:re,sampling:T,slimDOMOptions:ii,iframeManager:ar,stylesheetManager:sr,canvasManager:va,keepIframeSrcFn:Z,processedNodeManager:As},mirror:ct});bo=function(oe){if(oe===void 0&&(oe=!1),!!D){Ne({type:ee.Meta,data:{href:window.location.href,width:np(),height:ip()}},oe),sr.reset(),Cn.init(),lr.forEach(function(B){return B.lock()});var Xe=Qg(document,{mirror:ct,blockClass:o,blockSelector:a,maskTextClass:g,maskTextSelector:_,inlineStylesheet:y,maskAllInputs:at,maskTextFn:I,maskInputFn:x,slimDOM:ii,dataURLOptions:$,recordCanvas:Ue,inlineImages:re,onSerialize:function(B){ap(B,ct)&&ar.addIframe(B),up(B,ct)&&sr.trackLinkElement(B),lu(B)&&Cn.addShadowRoot(Q.shadowRoot(B),document)},onIframeLoad:function(B,Ie){ar.attachIframe(B,Ie),Cn.observeAttachShadow(B)},onStylesheetLoad:function(B,Ie){sr.attachLinkElement(B,Ie)},keepIframeSrcFn:Z});if(!Xe)return console.warn("Failed to snapshot the document");Ne({type:ee.FullSnapshot,data:{node:Xe,initialOffset:rp(window)}},oe),lr.forEach(function(B){return B.unlock()}),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&sr.adoptStyleSheets(document.adoptedStyleSheets,ct.getId(document))}};try{var ni=[],Xl=function(oe){var Xe;return ie(p0)({mutationCb:or,mousemoveCb:function(B,Ie){return Ne({type:ee.IncrementalSnapshot,data:{source:Ie,positions:B}})},mouseInteractionCb:function(B){return Ne({type:ee.IncrementalSnapshot,data:Y({source:W.MouseInteraction},B)})},scrollCb:Hl,viewportResizeCb:function(B){return Ne({type:ee.IncrementalSnapshot,data:Y({source:W.ViewportResize},B)})},inputCb:function(B){return Ne({type:ee.IncrementalSnapshot,data:Y({source:W.Input},B)})},mediaInteractionCb:function(B){return Ne({type:ee.IncrementalSnapshot,data:Y({source:W.MediaInteraction},B)})},styleSheetRuleCb:function(B){return Ne({type:ee.IncrementalSnapshot,data:Y({source:W.StyleSheetRule},B)})},styleDeclarationCb:function(B){return Ne({type:ee.IncrementalSnapshot,data:Y({source:W.StyleDeclaration},B)})},canvasMutationCb:Kl,fontCb:function(B){return Ne({type:ee.IncrementalSnapshot,data:Y({source:W.Font},B)})},selectionCb:function(B){Ne({type:ee.IncrementalSnapshot,data:Y({source:W.Selection},B)})},customElementCb:function(B){Ne({type:ee.IncrementalSnapshot,data:Y({source:W.CustomElement},B)})},blockClass:o,ignoreClass:l,ignoreSelector:c,maskTextClass:g,maskTextSelector:_,maskInputOptions:at,inlineStylesheet:y,sampling:T,recordDOM:D,recordCanvas:Ue,inlineImages:re,userTriggeredOnInput:kt,collectFonts:It,doc:oe,maskInputFn:x,maskTextFn:I,keepIframeSrcFn:Z,blockSelector:a,slimDOMOptions:ii,dataURLOptions:$,mirror:ct,iframeManager:ar,stylesheetManager:sr,shadowDomManager:Cn,processedNodeManager:As,canvasManager:va,ignoreCSSAttributes:ot,plugins:((Xe=le?.filter(function(B){return B.observer}))==null?void 0:Xe.map(function(B){return{observer:B.observer,options:B.options,callback:function(Ie){return Ne({type:ee.Plugin,data:{plugin:B.name,payload:Ie}})}}}))||[]},E)};ar.addLoadListener(function(oe){try{ni.push(Xl(oe.contentDocument))}catch(Xe){console.warn(Xe)}});var Ns=function(){bo(),ni.push(Xl(document)),Lo=!0};return document.readyState==="interactive"||document.readyState==="complete"?Ns():(ni.push(He("DOMContentLoaded",function(){Ne({type:ee.DomContentLoaded,data:{}}),ht==="DOMContentLoaded"&&Ns()})),ni.push(He("load",function(){Ne({type:ee.Load,data:{}}),ht==="load"&&Ns()},window))),function(){ni.forEach(function(oe){try{oe()}catch(B){var Xe=String(B).toLowerCase();Xe.includes("cross-origin")||console.warn(B)}}),As.destroy(),Lo=!1,t0()}}catch(oe){console.warn(oe)}}Xt.addCustomEvent=function(e,r){if(!Lo)throw new Error("please add custom event after start recording");Ne({type:ee.Custom,data:{tag:e,payload:r}})};Xt.freezePage=function(){lr.forEach(function(e){return e.freeze()})};Xt.takeFullSnapshot=function(e){if(!Lo)throw new Error("please take full snapshot after start recording");bo(e)};Xt.mirror=ct;var Vf;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Vf||(Vf={}));Xt.addCustomEvent;Xt.freezePage;Xt.takeFullSnapshot;var qf={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Gf={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},to={},O0=function(){return!!globalThis.Zone};function dl(e){if(to[e])return to[e];var r=globalThis[e],i=r.prototype,t=e in qf?qf[e]:void 0,n=!!(t&&t.every(function(f){var c,d;return!!((d=(c=Object.getOwnPropertyDescriptor(i,f))==null?void 0:c.get)!=null&&d.toString().includes("[native code]"))})),o=e in Gf?Gf[e]:void 0,s=!!(o&&o.every(function(f){var c;return typeof i[f]=="function"&&((c=i[f])==null?void 0:c.toString().includes("[native code]"))}));if(n&&s&&!O0())return to[e]=r.prototype,r.prototype;try{var a=document.createElement("iframe");document.body.appendChild(a);var u=a.contentWindow;if(!u)return r.prototype;var l=u[e].prototype;return document.body.removeChild(a),l?to[e]=l:i}catch{return i}}var ma={};function Zt(e,r,i){var t,n=e+"."+String(i);if(ma[n])return ma[n].call(r);var o=dl(e),s=(t=Object.getOwnPropertyDescriptor(o,i))==null?void 0:t.get;return s?(ma[n]=s,s.call(r)):r[i]}var ga={};function bp(e,r,i){var t=e+"."+String(i);if(ga[t])return ga[t].bind(r);var n=dl(e),o=n[i];return typeof o!="function"?r[i]:(ga[t]=o,o.bind(r))}function A0(e){return Zt("Node",e,"childNodes")}function N0(e){return Zt("Node",e,"parentNode")}function M0(e){return Zt("Node",e,"parentElement")}function P0(e){return Zt("Node",e,"textContent")}function T0(e,r){return bp("Node",e,"contains")(r)}function R0(e){return bp("Node",e,"getRootNode")()}function $0(e){return!e||!("host"in e)?null:Zt("ShadowRoot",e,"host")}function D0(e){return e.styleSheets}function L0(e){return!e||!("shadowRoot"in e)?null:Zt("Element",e,"shadowRoot")}function F0(e,r){return Zt("Element",e,"querySelector")(r)}function B0(e,r){return Zt("Element",e,"querySelectorAll")(r)}function U0(){return dl("MutationObserver").constructor}function j0(e,r,i){try{if(!(r in e))return function(){};var t=e[r],n=i(t);return typeof n=="function"&&(n.prototype=n.prototype||{},Object.defineProperties(n,{__rrweb_original__:{enumerable:!1,value:t}})),e[r]=n,function(){e[r]=t}}catch{return function(){}}}var Hf={childNodes:A0,parentNode:N0,parentElement:M0,textContent:P0,contains:T0,getRootNode:R0,host:$0,styleSheets:D0,shadowRoot:L0,querySelector:F0,querySelectorAll:B0,mutationObserver:U0,patch:j0};function fu(e,r,i){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return fu(Hf.parentNode(e),r);for(var t=e.classList.length;t--;){var n=e.classList[t];if(r.test(n))return!0}return fu(Hf.parentNode(e),r)}function z0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function W0(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var i=function t(){return L(this,t)?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),i}var hl={exports:{}},ge=String,wp=function(){return{isColorSupported:!1,reset:ge,bold:ge,dim:ge,italic:ge,underline:ge,inverse:ge,hidden:ge,strikethrough:ge,black:ge,red:ge,green:ge,yellow:ge,blue:ge,magenta:ge,cyan:ge,white:ge,gray:ge,bgBlack:ge,bgRed:ge,bgGreen:ge,bgYellow:ge,bgBlue:ge,bgMagenta:ge,bgCyan:ge,bgWhite:ge}};hl.exports=wp();hl.exports.createColors=wp;var V0=hl.exports,q0={},G0=Object.freeze(Object.defineProperty({__proto__:null,default:q0},Symbol.toStringTag,{value:"Module"})),Te=W0(G0),Kf=V0,Yf=Te,du=(function(e){be(r,e);function r(t,n,o,s,a,u){var l;return l=e.call(this,t)||this,l.name="CssSyntaxError",l.reason=t,a&&(l.file=a),s&&(l.source=s),u&&(l.plugin=u),typeof n<"u"&&typeof o<"u"&&(typeof n=="number"?(l.line=n,l.column=o):(l.line=n.line,l.column=n.column,l.endLine=o.line,l.endColumn=o.column)),l.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(l,r),l}var i=r.prototype;return i.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},i.showSourceCode=function(n){var o=this;if(!this.source)return"";var s=this.source;n==null&&(n=Kf.isColorSupported),Yf&&n&&(s=Yf(s));var a=s.split(/\r?\n/),u=Math.max(this.line-3,0),l=Math.min(this.line+2,a.length),f=String(l).length,c,d;if(n){var g=Kf.createColors(!0),v=g.bold,_=g.gray,m=g.red;c=function(y){return v(m(y))},d=function(y){return _(y)}}else c=d=function(y){return y};return a.slice(u,l).map(function(y,w){var S=u+1+w,C=" "+(" "+S).slice(-f)+" | ";if(S===o.line){var x=d(C.replace(/\d/g," "))+y.slice(0,o.column-1).replace(/[^\t]/g," ");return c(">")+d(C)+y+`
 `+x+c("^")}return" "+d(C)+y}).join(`
`)},i.toString=function(){var n=this.showSourceCode();return n&&(n=`

`+n+`
`),this.name+": "+this.message+n},r})(Ii(Error)),pl=du;du.default=du;var Qt={};Qt.isClean=Symbol("isClean");Qt.my=Symbol("my");var Jf={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function H0(e){return e[0].toUpperCase()+e.slice(1)}var hu=(function(){function e(i){this.builder=i}var r=e.prototype;return r.atrule=function(t,n){var o="@"+t.name,s=t.params?this.rawValue(t,"params"):"";if(typeof t.raws.afterName<"u"?o+=t.raws.afterName:s&&(o+=" "),t.nodes)this.block(t,o+s);else{var a=(t.raws.between||"")+(n?";":"");this.builder(o+s+a,t)}},r.beforeAfter=function(t,n){var o;t.type==="decl"?o=this.raw(t,null,"beforeDecl"):t.type==="comment"?o=this.raw(t,null,"beforeComment"):n==="before"?o=this.raw(t,null,"beforeRule"):o=this.raw(t,null,"beforeClose");for(var s=t.parent,a=0;s&&s.type!=="root";)a+=1,s=s.parent;if(o.includes(`
`)){var u=this.raw(t,null,"indent");if(u.length)for(var l=0;l<a;l++)o+=u}return o},r.block=function(t,n){var o=this.raw(t,"between","beforeOpen");this.builder(n+o+"{",t,"start");var s;t.nodes&&t.nodes.length?(this.body(t),s=this.raw(t,"after")):s=this.raw(t,"after","emptyBody"),s&&this.builder(s),this.builder("}",t,"end")},r.body=function(t){for(var n=t.nodes.length-1;n>0&&t.nodes[n].type==="comment";)n-=1;for(var o=this.raw(t,"semicolon"),s=0;s<t.nodes.length;s++){var a=t.nodes[s],u=this.raw(a,"before");u&&this.builder(u),this.stringify(a,n!==s||o)}},r.comment=function(t){var n=this.raw(t,"left","commentLeft"),o=this.raw(t,"right","commentRight");this.builder("/*"+n+t.text+o+"*/",t)},r.decl=function(t,n){var o=this.raw(t,"between","colon"),s=t.prop+o+this.rawValue(t,"value");t.important&&(s+=t.raws.important||" !important"),n&&(s+=";"),this.builder(s,t)},r.document=function(t){this.body(t)},r.raw=function(t,n,o){var s;if(o||(o=n),n&&(s=t.raws[n],typeof s<"u"))return s;var a=t.parent;if(o==="before"&&(!a||a.type==="root"&&a.first===t||a&&a.type==="document"))return"";if(!a)return Jf[o];var u=t.root();if(u.rawCache||(u.rawCache={}),typeof u.rawCache[o]<"u")return u.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(t,o);var l="raw"+H0(o);return this[l]?s=this[l](u,t):u.walk(function(f){if(s=f.raws[n],typeof s<"u")return!1}),typeof s>"u"&&(s=Jf[o]),u.rawCache[o]=s,s},r.rawBeforeClose=function(t){var n;return t.walk(function(o){if(o.nodes&&o.nodes.length>0&&typeof o.raws.after<"u")return n=o.raws.after,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n},r.rawBeforeComment=function(t,n){var o;return t.walkComments(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(n,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o},r.rawBeforeDecl=function(t,n){var o;return t.walkDecls(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(n,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o},r.rawBeforeOpen=function(t){var n;return t.walk(function(o){if(o.type!=="decl"&&(n=o.raws.between,typeof n<"u"))return!1}),n},r.rawBeforeRule=function(t){var n;return t.walk(function(o){if(o.nodes&&(o.parent!==t||t.first!==o)&&typeof o.raws.before<"u")return n=o.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n},r.rawColon=function(t){var n;return t.walkDecls(function(o){if(typeof o.raws.between<"u")return n=o.raws.between.replace(/[^\s:]/g,""),!1}),n},r.rawEmptyBody=function(t){var n;return t.walk(function(o){if(o.nodes&&o.nodes.length===0&&(n=o.raws.after,typeof n<"u"))return!1}),n},r.rawIndent=function(t){if(t.raws.indent)return t.raws.indent;var n;return t.walk(function(o){var s=o.parent;if(s&&s!==t&&s.parent&&s.parent===t&&typeof o.raws.before<"u"){var a=o.raws.before.split(`
`);return n=a[a.length-1],n=n.replace(/\S/g,""),!1}}),n},r.rawSemicolon=function(t){var n;return t.walk(function(o){if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(n=o.raws.semicolon,typeof n<"u"))return!1}),n},r.rawValue=function(t,n){var o=t[n],s=t.raws[n];return s&&s.value===o?s.raw:o},r.root=function(t){this.body(t),t.raws.after&&this.builder(t.raws.after)},r.rule=function(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")},r.stringify=function(t,n){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,n)},e})(),Sp=hu;hu.default=hu;var K0=Sp;function pu(e,r){var i=new K0(r);i.stringify(e)}var ds=pu;pu.default=pu;var ro=Qt.isClean,Y0=Qt.my,J0=pl,X0=Sp,Z0=ds;function vu(e,r){var i=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&t!=="proxyCache"){var n=e[t],o=typeof n>"u"?"undefined":F(n);t==="parent"&&o==="object"?r&&(i[t]=r):t==="source"?i[t]=n:Array.isArray(n)?i[t]=n.map(function(s){return vu(s,i)}):(o==="object"&&n!==null&&(n=vu(n)),i[t]=n)}return i}var mu=(function(){function e(i){i===void 0&&(i={}),this.raws={},this[ro]=!1,this[Y0]=!0;for(var t in i)if(t==="nodes"){this.nodes=[];for(var n=N(i[t]),o;!(o=n()).done;){var s=o.value;typeof s.clone=="function"?this.append(s.clone()):this.append(s)}}else this[t]=i[t]}var r=e.prototype;return r.addToError=function(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){var n=this.source;t.stack=t.stack.replace(/\n\s{4}at /,"$&"+n.input.from+":"+n.start.line+":"+n.start.column+"$&")}return t},r.after=function(t){return this.parent.insertAfter(this,t),this},r.assign=function(t){t===void 0&&(t={});for(var n in t)this[n]=t[n];return this},r.before=function(t){return this.parent.insertBefore(this,t),this},r.cleanRaws=function(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between},r.clone=function(t){t===void 0&&(t={});var n=vu(this);for(var o in t)n[o]=t[o];return n},r.cloneAfter=function(t){t===void 0&&(t={});var n=this.clone(t);return this.parent.insertAfter(this,n),n},r.cloneBefore=function(t){t===void 0&&(t={});var n=this.clone(t);return this.parent.insertBefore(this,n),n},r.error=function(t,n){if(n===void 0&&(n={}),this.source){var o=this.rangeBy(n),s=o.end,a=o.start;return this.source.input.error(t,{column:a.column,line:a.line},{column:s.column,line:s.line},n)}return new J0(t)},r.getProxyProcessor=function(){return{get:function(n,o){return o==="proxyOf"?n:o==="root"?function(){return n.root().toProxy()}:n[o]},set:function(n,o,s){return n[o]===s||(n[o]=s,(o==="prop"||o==="value"||o==="name"||o==="params"||o==="important"||o==="text")&&n.markDirty()),!0}}},r.markDirty=function(){if(this[ro]){this[ro]=!1;for(var t=this;t=t.parent;)t[ro]=!1}},r.next=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t+1]}},r.positionBy=function(t,n){var o=this.source.start;if(t.index)o=this.positionInside(t.index,n);else if(t.word){n=this.toString();var s=n.indexOf(t.word);s!==-1&&(o=this.positionInside(s,n))}return o},r.positionInside=function(t,n){for(var o=n||this.toString(),s=this.source.start.column,a=this.source.start.line,u=0;u<t;u++)o[u]===`
`?(s=1,a+=1):s+=1;return{column:s,line:a}},r.prev=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t-1]}},r.rangeBy=function(t){var n={column:this.source.start.column,line:this.source.start.line},o=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:n.column+1,line:n.line};if(t.word){var s=this.toString(),a=s.indexOf(t.word);a!==-1&&(n=this.positionInside(a,s),o=this.positionInside(a+t.word.length,s))}else t.start?n={column:t.start.column,line:t.start.line}:t.index&&(n=this.positionInside(t.index)),t.end?o={column:t.end.column,line:t.end.line}:typeof t.endIndex=="number"?o=this.positionInside(t.endIndex):t.index&&(o=this.positionInside(t.index+1));return(o.line<n.line||o.line===n.line&&o.column<=n.column)&&(o={column:n.column+1,line:n.line}),{end:o,start:n}},r.raw=function(t,n){var o=new X0;return o.raw(this,t,n)},r.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},r.replaceWith=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(this.parent){for(var s=this,a=!1,u=N(n),l;!(l=u()).done;){var f=l.value;f===this?a=!0:a?(this.parent.insertAfter(s,f),s=f):this.parent.insertBefore(s,f)}a||this.remove()}return this},r.root=function(){for(var t=this;t.parent&&t.parent.type!=="document";)t=t.parent;return t},r.toJSON=function(t,n){var o={},s=n==null;n=n||new Map;var a=0;for(var u in this)if(Object.prototype.hasOwnProperty.call(this,u)&&!(u==="parent"||u==="proxyCache")){var l=this[u];if(Array.isArray(l))o[u]=l.map(function(c){return(typeof c>"u"?"undefined":F(c))==="object"&&c.toJSON?c.toJSON(null,n):c});else if((typeof l>"u"?"undefined":F(l))==="object"&&l.toJSON)o[u]=l.toJSON(null,n);else if(u==="source"){var f=n.get(l.input);f==null&&(f=a,n.set(l.input,a),a++),o[u]={end:l.end,inputId:f,start:l.start}}else o[u]=l}return s&&(o.inputs=[].concat(n.keys()).map(function(c){return c.toJSON()})),o},r.toProxy=function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache},r.toString=function(t){t===void 0&&(t=Z0),t.stringify&&(t=t.stringify);var n="";return t(this,function(o){n+=o}),n},r.warn=function(t,n,o){var s={node:this};for(var a in o)s[a]=o[a];return t.warn(n,s)},_e(e,[{key:"proxyOf",get:function(){return this}}]),e})(),hs=mu;mu.default=mu;var Q0=hs,gu=(function(e){be(r,e);function r(i){var t;return i&&typeof i.value<"u"&&typeof i.value!="string"&&(i=Y({},i,{value:String(i.value)})),t=e.call(this,i)||this,t.type="decl",t}return _e(r,[{key:"variable",get:function(){return this.prop.startsWith("--")||this.prop[0]==="$"}}]),r})(Q0),ps=gu;gu.default=gu;var eS="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",tS=function(e){e===void 0&&(e=21);for(var r="",i=e;i--;)r+=eS[Math.random()*64|0];return r},rS={nanoid:tS},Xf=Te.SourceMapConsumer,Zf=Te.SourceMapGenerator,iS=Te.existsSync,nS=Te.readFileSync,ya=Te.dirname,oS=Te.join;function sS(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}var yu=(function(){function e(i,t){if(t.map!==!1){this.loadAnnotation(i),this.inline=this.startWith(this.annotation,"data:");var n=t.map?t.map.prev:void 0,o=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=ya(this.mapFile)),o&&(this.text=o)}}var r=e.prototype;return r.consumer=function(){return this.consumerCache||(this.consumerCache=new Xf(this.text)),this.consumerCache},r.decodeInline=function(t){var n=/^data:application\/json;charset=utf-?8;base64,/,o=/^data:application\/json;base64,/,s=/^data:application\/json;charset=utf-?8,/,a=/^data:application\/json,/;if(s.test(t)||a.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(n.test(t)||o.test(t))return sS(t.substr(RegExp.lastMatch.length));var u=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+u)},r.getAnnotationURL=function(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()},r.isMap=function(t){return(typeof t>"u"?"undefined":F(t))!=="object"?!1:typeof t.mappings=="string"||typeof t._mappings=="string"||Array.isArray(t.sections)},r.loadAnnotation=function(t){var n=t.match(/\/\*\s*# sourceMappingURL=/gm);if(n){var o=t.lastIndexOf(n.pop()),s=t.indexOf("*/",o);o>-1&&s>-1&&(this.annotation=this.getAnnotationURL(t.substring(o,s)))}},r.loadFile=function(t){if(this.root=ya(t),iS(t))return this.mapFile=t,nS(t,"utf-8").toString().trim()},r.loadMap=function(t,n){if(n===!1)return!1;if(n){if(typeof n=="string")return n;if(typeof n=="function"){var o=n(t);if(o){var s=this.loadFile(o);if(!s)throw new Error("Unable to load previous source map: "+o.toString());return s}}else{if(L(n,Xf))return Zf.fromSourceMap(n).toString();if(L(n,Zf))return n.toString();if(this.isMap(n))return JSON.stringify(n);throw new Error("Unsupported previous source map format: "+n.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var a=this.annotation;return t&&(a=oS(ya(t),a)),this.loadFile(a)}}},r.startWith=function(t,n){return t?t.substr(0,n.length)===n:!1},r.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e})(),xp=yu;yu.default=yu;var aS=Te.SourceMapConsumer,uS=Te.SourceMapGenerator,Qf=Te.fileURLToPath,io=Te.pathToFileURL,_u=Te.isAbsolute,bu=Te.resolve,lS=rS.nanoid,_a=Te,ed=pl,cS=xp,ba=Symbol("fromOffsetCache"),fS=!!(aS&&uS),td=!!(bu&&_u),Fo=(function(){function e(i,t){if(t===void 0&&(t={}),i===null||typeof i>"u"||(typeof i>"u"?"undefined":F(i))==="object"&&!i.toString)throw new Error("PostCSS received "+i+" instead of CSS string");if(this.css=i.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!td||/^\w+:\/\//.test(t.from)||_u(t.from)?this.file=t.from:this.file=bu(t.from)),td&&fS){var n=new cS(this.css,t);if(n.text){this.map=n;var o=n.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+lS(6)+">"),this.map&&(this.map.file=this.from)}var r=e.prototype;return r.error=function(t,n,o,s){s===void 0&&(s={});var a,u,l;if(n&&(typeof n>"u"?"undefined":F(n))==="object"){var f=n,c=o;if(typeof f.offset=="number"){var d=this.fromOffset(f.offset);n=d.line,o=d.col}else n=f.line,o=f.column;if(typeof c.offset=="number"){var g=this.fromOffset(c.offset);u=g.line,l=g.col}else u=c.line,l=c.column}else if(!o){var v=this.fromOffset(n);n=v.line,o=v.col}var _=this.origin(n,o,u,l);return _?a=new ed(t,_.endLine===void 0?_.line:{column:_.column,line:_.line},_.endLine===void 0?_.column:{column:_.endColumn,line:_.endLine},_.source,_.file,s.plugin):a=new ed(t,u===void 0?n:{column:o,line:n},u===void 0?o:{column:l,line:u},this.css,this.file,s.plugin),a.input={column:o,endColumn:l,endLine:u,line:n,source:this.css},this.file&&(io&&(a.input.url=io(this.file).toString()),a.input.file=this.file),a},r.fromOffset=function(t){var n,o;if(this[ba])o=this[ba];else{var s=this.css.split(`
`);o=new Array(s.length);for(var a=0,u=0,l=s.length;u<l;u++)o[u]=a,a+=s[u].length+1;this[ba]=o}n=o[o.length-1];var f=0;if(t>=n)f=o.length-1;else for(var c=o.length-2,d;f<c;)if(d=f+(c-f>>1),t<o[d])c=d-1;else if(t>=o[d+1])f=d+1;else{f=d;break}return{col:t-o[f]+1,line:f+1}},r.mapResolve=function(t){return/^\w+:\/\//.test(t)?t:bu(this.map.consumer().sourceRoot||this.map.root||".",t)},r.origin=function(t,n,o,s){if(!this.map)return!1;var a=this.map.consumer(),u=a.originalPositionFor({column:n,line:t});if(!u.source)return!1;var l;typeof o=="number"&&(l=a.originalPositionFor({column:s,line:o}));var f;_u(u.source)?f=io(u.source):f=new URL(u.source,this.map.consumer().sourceRoot||io(this.map.mapFile));var c={column:u.column,endColumn:l&&l.column,endLine:l&&l.line,line:u.line,url:f.toString()};if(f.protocol==="file:")if(Qf)c.file=Qf(f);else throw new Error("file: protocol is not available in this PostCSS build");var d=a.sourceContentFor(u.source);return d&&(c.source=d),c},r.toJSON=function(){for(var t={},n=0,o=["hasBOM","css","file","id"];n<o.length;n++){var s=o[n];this[s]!=null&&(t[s]=this[s])}return this.map&&(t.map=Y({},this.map),t.map.consumerCache&&(t.map.consumerCache=void 0)),t},_e(e,[{key:"from",get:function(){return this.file||this.id}}]),e})(),vs=Fo;Fo.default=Fo;_a&&_a.registerInput&&_a.registerInput(Fo);var Cp=Te.SourceMapConsumer,wo=Te.SourceMapGenerator,So=Te.dirname,kp=Te.relative,Ip=Te.resolve,Ep=Te.sep,rd=Te.pathToFileURL,dS=vs,hS=!!(Cp&&wo),pS=!!(So&&Ip&&kp&&Ep),vS=(function(){function e(i,t,n,o){this.stringify=i,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=o,this.originalCSS=o,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}var r=e.prototype;return r.addAnnotation=function(){var t;this.isInline()?t="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?t=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?t=this.mapOpts.annotation(this.opts.to,this.root):t=this.outputFile()+".map";var n=`
`;this.css.includes(`\r
`)&&(n=`\r
`),this.css+=n+"/*# sourceMappingURL="+t+" */"},r.applyPrevMaps=function(){for(var t=N(this.previous()),n;!(n=t()).done;){var o=n.value,s=this.toUrl(this.path(o.file)),a=o.root||So(o.file),u=void 0;this.mapOpts.sourcesContent===!1?(u=new Cp(o.text),u.sourcesContent&&(u.sourcesContent=null)):u=o.consumer(),this.map.applySourceMap(u,s,this.toUrl(this.path(a)))}},r.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)if(this.root)for(var t,n=this.root.nodes.length-1;n>=0;n--)t=this.root.nodes[n],t.type==="comment"&&t.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(n);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))},r.generate=function(){if(this.clearAnnotation(),pS&&hS&&this.isMap())return this.generateMap();var t="";return this.stringify(this.root,function(n){t+=n}),[t]},r.generateMap=function(){if(this.root)this.generateString();else if(this.previous().length===1){var t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=wo.fromSourceMap(t,{ignoreInvalidMapping:!0})}else this.map=new wo({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},r.generateString=function(){var t=this;this.css="",this.map=new wo({file:this.outputFile(),ignoreInvalidMapping:!0});var n=1,o=1,s="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""},u,l;this.stringify(this.root,function(f,c,d){if(t.css+=f,c&&d!=="end"&&(a.generated.line=n,a.generated.column=o-1,c.source&&c.source.start?(a.source=t.sourcePath(c),a.original.line=c.source.start.line,a.original.column=c.source.start.column-1,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,t.map.addMapping(a))),u=f.match(/\n/g),u?(n+=u.length,l=f.lastIndexOf(`
`),o=f.length-l):o+=f.length,c&&d!=="start"){var g=c.parent||{raws:{}},v=c.type==="decl"||c.type==="atrule"&&!c.nodes;(!v||c!==g.last||g.raws.semicolon)&&(c.source&&c.source.end?(a.source=t.sourcePath(c),a.original.line=c.source.end.line,a.original.column=c.source.end.column-1,a.generated.line=n,a.generated.column=o-2,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,a.generated.line=n,a.generated.column=o-1,t.map.addMapping(a)))}})},r.isAnnotation=function(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(function(t){return t.annotation}):!0},r.isInline=function(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;var t=this.mapOpts.annotation;return typeof t<"u"&&t!==!0?!1:this.previous().length?this.previous().some(function(n){return n.inline}):!0},r.isMap=function(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0},r.isSourcesContent=function(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(t){return t.withContent()}):!0},r.outputFile=function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"},r.path=function(t){if(this.mapOpts.absolute||t.charCodeAt(0)===60||/^\w+:\/\//.test(t))return t;var n=this.memoizedPaths.get(t);if(n)return n;var o=this.opts.to?So(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(o=So(Ip(o,this.mapOpts.annotation)));var s=kp(o,t);return this.memoizedPaths.set(t,s),s},r.previous=function(){var t=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(o){if(o.source&&o.source.input.map){var s=o.source.input.map;t.previousMaps.includes(s)||t.previousMaps.push(s)}});else{var n=new dS(this.originalCSS,this.opts);n.map&&this.previousMaps.push(n.map)}return this.previousMaps},r.setSourcesContent=function(){var t=this,n={};if(this.root)this.root.walk(function(s){if(s.source){var a=s.source.input.from;if(a&&!n[a]){n[a]=!0;var u=t.usesFileUrls?t.toFileUrl(a):t.toUrl(t.path(a));t.map.setSourceContent(u,s.source.input.css)}}});else if(this.css){var o=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(o,this.css)}},r.sourcePath=function(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))},r.toBase64=function(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))},r.toFileUrl=function(t){var n=this.memoizedFileURLs.get(t);if(n)return n;if(rd){var o=rd(t).toString();return this.memoizedFileURLs.set(t,o),o}else throw new Error("`map.absolute` option is not available in this PostCSS build")},r.toUrl=function(t){var n=this.memoizedURLs.get(t);if(n)return n;Ep==="\\"&&(t=t.replace(/\\/g,"/"));var o=encodeURI(t).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(t,o),o},e})(),Op=vS,mS=hs,wu=(function(e){be(r,e);function r(i){var t;return t=e.call(this,i)||this,t.type="comment",t}return r})(mS),ms=wu;wu.default=wu;var Ap=Qt.isClean,Np=Qt.my,Mp=ps,Pp=ms,gS=hs,Tp,vl,ml,Rp;function $p(e){return e.map(function(r){return r.nodes&&(r.nodes=$p(r.nodes)),delete r.source,r})}function Dp(e){if(e[Ap]=!1,e.proxyOf.nodes)for(var r=N(e.proxyOf.nodes),i;!(i=r()).done;){var t=i.value;Dp(t)}}var Rt=(function(e){be(r,e);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.append=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];for(var a=N(o),u;!(u=a()).done;)for(var l=u.value,f=this.normalize(l,this.last),c=N(f),d;!(d=c()).done;){var g=d.value;this.proxyOf.nodes.push(g)}return this.markDirty(),this},i.cleanRaws=function(n){if(e.prototype.cleanRaws.call(this,n),this.nodes)for(var o=N(this.nodes),s;!(s=o()).done;){var a=s.value;a.cleanRaws(n)}},i.each=function(n){if(this.proxyOf.nodes){for(var o=this.getIterator(),s,a;this.indexes[o]<this.proxyOf.nodes.length&&(s=this.indexes[o],a=n(this.proxyOf.nodes[s],s),a!==!1);)this.indexes[o]+=1;return delete this.indexes[o],a}},i.every=function(n){return this.nodes.every(n)},i.getIterator=function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var n=this.lastEach;return this.indexes[n]=0,n},i.getProxyProcessor=function(){return{get:function(o,s){return s==="proxyOf"?o:o[s]?s==="each"||typeof s=="string"&&s.startsWith("walk")?function(){for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];var f;return(f=o)[s].apply(f,[].concat(u.map(function(c){return typeof c=="function"?function(d,g){return c(d.toProxy(),g)}:c})))}:s==="every"||s==="some"?function(a){return o[s](function(u){for(var l=arguments.length,f=new Array(l>1?l-1:0),c=1;c<l;c++)f[c-1]=arguments[c];return a.apply(void 0,[].concat([u.toProxy()],f))})}:s==="root"?function(){return o.root().toProxy()}:s==="nodes"?o.nodes.map(function(a){return a.toProxy()}):s==="first"||s==="last"?o[s].toProxy():o[s]:o[s]},set:function(o,s,a){return o[s]===a||(o[s]=a,(s==="name"||s==="params"||s==="selector")&&o.markDirty()),!0}}},i.index=function(n){return typeof n=="number"?n:(n.proxyOf&&(n=n.proxyOf),this.proxyOf.nodes.indexOf(n))},i.insertAfter=function(n,o){var s=this.index(n),a=this.normalize(o,this.proxyOf.nodes[s]).reverse();s=this.index(n);for(var u=N(a),l;!(l=u()).done;){var f=l.value;this.proxyOf.nodes.splice(s+1,0,f)}var c;for(var d in this.indexes)c=this.indexes[d],s<c&&(this.indexes[d]=c+a.length);return this.markDirty(),this},i.insertBefore=function(n,o){var s=this.index(n),a=s===0?"prepend":!1,u=this.normalize(o,this.proxyOf.nodes[s],a).reverse();s=this.index(n);for(var l=N(u),f;!(f=l()).done;){var c=f.value;this.proxyOf.nodes.splice(s,0,c)}var d;for(var g in this.indexes)d=this.indexes[g],s<=d&&(this.indexes[g]=d+u.length);return this.markDirty(),this},i.normalize=function(n,o){var s=this;if(typeof n=="string")n=$p(Tp(n).nodes);else if(typeof n>"u")n=[];else if(Array.isArray(n)){n=n.slice(0);for(var a=N(n),u;!(u=a()).done;){var l=u.value;l.parent&&l.parent.removeChild(l,"ignore")}}else if(n.type==="root"&&this.type!=="document"){n=n.nodes.slice(0);for(var f=N(n),c;!(c=f()).done;){var d=c.value;d.parent&&d.parent.removeChild(d,"ignore")}}else if(n.type)n=[n];else if(n.prop){if(typeof n.value>"u")throw new Error("Value field is missed in node creation");typeof n.value!="string"&&(n.value=String(n.value)),n=[new Mp(n)]}else if(n.selector)n=[new vl(n)];else if(n.name)n=[new ml(n)];else if(n.text)n=[new Pp(n)];else throw new Error("Unknown node type in node creation");var g=n.map(function(v){return v[Np]||r.rebuild(v),v=v.proxyOf,v.parent&&v.parent.removeChild(v),v[Ap]&&Dp(v),typeof v.raws.before>"u"&&o&&typeof o.raws.before<"u"&&(v.raws.before=o.raws.before.replace(/\S/g,"")),v.parent=s.proxyOf,v});return g},i.prepend=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];o=o.reverse();for(var a=N(o),u;!(u=a()).done;){for(var l=u.value,f=this.normalize(l,this.first,"prepend").reverse(),c=N(f),d;!(d=c()).done;){var g=d.value;this.proxyOf.nodes.unshift(g)}for(var v in this.indexes)this.indexes[v]=this.indexes[v]+f.length}return this.markDirty(),this},i.push=function(n){return n.parent=this,this.proxyOf.nodes.push(n),this},i.removeAll=function(){for(var n=N(this.proxyOf.nodes),o;!(o=n()).done;){var s=o.value;s.parent=void 0}return this.proxyOf.nodes=[],this.markDirty(),this},i.removeChild=function(n){n=this.index(n),this.proxyOf.nodes[n].parent=void 0,this.proxyOf.nodes.splice(n,1);var o;for(var s in this.indexes)o=this.indexes[s],o>=n&&(this.indexes[s]=o-1);return this.markDirty(),this},i.replaceValues=function(n,o,s){return s||(s=o,o={}),this.walkDecls(function(a){o.props&&!o.props.includes(a.prop)||o.fast&&!a.value.includes(o.fast)||(a.value=a.value.replace(n,s))}),this.markDirty(),this},i.some=function(n){return this.nodes.some(n)},i.walk=function(n){return this.each(function(o,s){var a;try{a=n(o,s)}catch(u){throw o.addToError(u)}return a!==!1&&o.walk&&(a=o.walk(n)),a})},i.walkAtRules=function(n,o){return o?L(n,RegExp)?this.walk(function(s,a){if(s.type==="atrule"&&n.test(s.name))return o(s,a)}):this.walk(function(s,a){if(s.type==="atrule"&&s.name===n)return o(s,a)}):(o=n,this.walk(function(s,a){if(s.type==="atrule")return o(s,a)}))},i.walkComments=function(n){return this.walk(function(o,s){if(o.type==="comment")return n(o,s)})},i.walkDecls=function(n,o){return o?L(n,RegExp)?this.walk(function(s,a){if(s.type==="decl"&&n.test(s.prop))return o(s,a)}):this.walk(function(s,a){if(s.type==="decl"&&s.prop===n)return o(s,a)}):(o=n,this.walk(function(s,a){if(s.type==="decl")return o(s,a)}))},i.walkRules=function(n,o){return o?L(n,RegExp)?this.walk(function(s,a){if(s.type==="rule"&&n.test(s.selector))return o(s,a)}):this.walk(function(s,a){if(s.type==="rule"&&s.selector===n)return o(s,a)}):(o=n,this.walk(function(s,a){if(s.type==="rule")return o(s,a)}))},_e(r,[{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),r})(gS);Rt.registerParse=function(e){Tp=e};Rt.registerRule=function(e){vl=e};Rt.registerAtRule=function(e){ml=e};Rt.registerRoot=function(e){Rp=e};var yr=Rt;Rt.default=Rt;Rt.rebuild=function(e){e.type==="atrule"?Object.setPrototypeOf(e,ml.prototype):e.type==="rule"?Object.setPrototypeOf(e,vl.prototype):e.type==="decl"?Object.setPrototypeOf(e,Mp.prototype):e.type==="comment"?Object.setPrototypeOf(e,Pp.prototype):e.type==="root"&&Object.setPrototypeOf(e,Rp.prototype),e[Np]=!0,e.nodes&&e.nodes.forEach(function(r){Rt.rebuild(r)})};var yS=yr,Lp,Fp,Li=(function(e){be(r,e);function r(t){var n;return n=e.call(this,Y({type:"document"},t))||this,n.nodes||(n.nodes=[]),n}var i=r.prototype;return i.toResult=function(n){n===void 0&&(n={});var o=new Lp(new Fp,this,n);return o.stringify()},r})(yS);Li.registerLazyResult=function(e){Lp=e};Li.registerProcessor=function(e){Fp=e};var gl=Li;Li.default=Li;var Su=(function(){function e(i,t){if(t===void 0&&(t={}),this.type="warning",this.text=i,t.node&&t.node.source){var n=t.node.rangeBy(t);this.line=n.start.line,this.column=n.start.column,this.endLine=n.end.line,this.endColumn=n.end.column}for(var o in t)this[o]=t[o]}var r=e.prototype;return r.toString=function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e})(),Bp=Su;Su.default=Su;var _S=Bp,xu=(function(){function e(i,t,n){this.processor=i,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}var r=e.prototype;return r.toString=function(){return this.css},r.warn=function(t,n){n===void 0&&(n={}),n.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(n.plugin=this.lastPlugin.postcssPlugin);var o=new _S(t,n);return this.messages.push(o),o},r.warnings=function(){return this.messages.filter(function(t){return t.type==="warning"})},_e(e,[{key:"content",get:function(){return this.css}}]),e})(),yl=xu;xu.default=xu;var wa=39,id=34,no=92,nd=47,oo=10,vi=32,so=12,ao=9,uo=13,bS=91,wS=93,SS=40,xS=41,CS=123,kS=125,IS=59,ES=42,OS=58,AS=64,lo=/[\t\n\f\r "#'()/;[\\\]{}]/g,co=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,NS=/.[\r\n"'(/\\]/,od=/[\da-f]/i,MS=function(r,i){i===void 0&&(i={});var t=r.css.valueOf(),n=i.ignoreErrors,o,s,a,u,l,f,c,d,g,v,_=t.length,m=0,y=[],w=[];function S(){return m}function C(P){throw r.error("Unclosed "+P,m)}function x(){return w.length===0&&m>=_}function I(P){if(w.length)return w.pop();if(!(m>=_)){var O=P?P.ignoreUnclosed:!1;switch(o=t.charCodeAt(m),o){case oo:case vi:case ao:case uo:case so:{s=m;do s+=1,o=t.charCodeAt(s);while(o===vi||o===oo||o===ao||o===uo||o===so);v=["space",t.slice(m,s)],m=s-1;break}case bS:case wS:case CS:case kS:case OS:case IS:case xS:{var T=String.fromCharCode(o);v=[T,T,m];break}case SS:{if(d=y.length?y.pop()[1]:"",g=t.charCodeAt(m+1),d==="url"&&g!==wa&&g!==id&&g!==vi&&g!==oo&&g!==ao&&g!==so&&g!==uo){s=m;do{if(f=!1,s=t.indexOf(")",s+1),s===-1)if(n||O){s=m;break}else C("bracket");for(c=s;t.charCodeAt(c-1)===no;)c-=1,f=!f}while(f);v=["brackets",t.slice(m,s+1),m,s],m=s}else s=t.indexOf(")",m+1),u=t.slice(m,s+1),s===-1||NS.test(u)?v=["(","(",m]:(v=["brackets",u,m,s],m=s);break}case wa:case id:{a=o===wa?"'":'"',s=m;do{if(f=!1,s=t.indexOf(a,s+1),s===-1)if(n||O){s=m+1;break}else C("string");for(c=s;t.charCodeAt(c-1)===no;)c-=1,f=!f}while(f);v=["string",t.slice(m,s+1),m,s],m=s;break}case AS:{lo.lastIndex=m+1,lo.test(t),lo.lastIndex===0?s=t.length-1:s=lo.lastIndex-2,v=["at-word",t.slice(m,s+1),m,s],m=s;break}case no:{for(s=m,l=!0;t.charCodeAt(s+1)===no;)s+=1,l=!l;if(o=t.charCodeAt(s+1),l&&o!==nd&&o!==vi&&o!==oo&&o!==ao&&o!==uo&&o!==so&&(s+=1,od.test(t.charAt(s)))){for(;od.test(t.charAt(s+1));)s+=1;t.charCodeAt(s+1)===vi&&(s+=1)}v=["word",t.slice(m,s+1),m,s],m=s;break}default:{o===nd&&t.charCodeAt(m+1)===ES?(s=t.indexOf("*/",m+2)+1,s===0&&(n||O?s=t.length:C("comment")),v=["comment",t.slice(m,s+1),m,s],m=s):(co.lastIndex=m+1,co.test(t),co.lastIndex===0?s=t.length-1:s=co.lastIndex-2,v=["word",t.slice(m,s+1),m,s],y.push(v),m=s);break}}return m++,v}}function E(P){w.push(P)}return{back:E,endOfFile:x,nextToken:I,position:S}},Up=yr,Bo=(function(e){be(r,e);function r(t){var n;return n=e.call(this,t)||this,n.type="atrule",n}var i=r.prototype;return i.append=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.append).call.apply(a,[].concat([this],o))},i.prepend=function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.prepend).call.apply(a,[].concat([this],o))},r})(Up),_l=Bo;Bo.default=Bo;Up.registerAtRule(Bo);var jp=yr,zp,Wp,Hr=(function(e){be(r,e);function r(t){var n;return n=e.call(this,t)||this,n.type="root",n.nodes||(n.nodes=[]),n}var i=r.prototype;return i.normalize=function(n,o,s){var a=e.prototype.normalize.call(this,n);if(o){if(s==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(var u=N(a),l;!(l=u()).done;){var f=l.value;f.raws.before=o.raws.before}}return a},i.removeChild=function(n,o){var s=this.index(n);return!o&&s===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[s].raws.before),e.prototype.removeChild.call(this,n)},i.toResult=function(n){n===void 0&&(n={});var o=new zp(new Wp,this,n);return o.stringify()},r})(jp);Hr.registerLazyResult=function(e){zp=e};Hr.registerProcessor=function(e){Wp=e};var Yi=Hr;Hr.default=Hr;jp.registerRoot(Hr);var Fi={comma:function(r){return Fi.split(r,[","],!0)},space:function(r){var i=[" ",`
`,"	"];return Fi.split(r,i)},split:function(r,i,t){for(var n=[],o="",s=!1,a=0,u=!1,l="",f=!1,c=N(r),d;!(d=c()).done;){var g=d.value;f?f=!1:g==="\\"?f=!0:u?g===l&&(u=!1):g==='"'||g==="'"?(u=!0,l=g):g==="("?a+=1:g===")"?a>0&&(a-=1):a===0&&i.includes(g)&&(s=!0),s?(o!==""&&n.push(o.trim()),o="",s=!1):o+=g}return(t||o!=="")&&n.push(o.trim()),n}},Vp=Fi;Fi.default=Fi;var qp=yr,PS=Vp,Uo=(function(e){be(r,e);function r(i){var t;return t=e.call(this,i)||this,t.type="rule",t.nodes||(t.nodes=[]),t}return _e(r,[{key:"selectors",get:function(){return PS.comma(this.selector)},set:function(t){var n=this.selector?this.selector.match(/,\s*/):null,o=n?n[0]:","+this.raw("between","beforeOpen");this.selector=t.join(o)}}]),r})(qp),bl=Uo;Uo.default=Uo;qp.registerRule(Uo);var TS=ps,RS=MS,$S=ms,DS=_l,LS=Yi,sd=bl,ad={empty:!0,space:!0};function FS(e){for(var r=e.length-1;r>=0;r--){var i=e[r],t=i[3]||i[2];if(t)return t}}var BS=(function(){function e(i){this.input=i,this.root=new LS,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:i,start:{column:1,line:1,offset:0}}}var r=e.prototype;return r.atrule=function(t){var n=new DS;n.name=t[1].slice(1),n.name===""&&this.unnamedAtrule(n,t),this.init(n,t[2]);for(var o,s,a,u=!1,l=!1,f=[],c=[];!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),o=t[0],o==="("||o==="["?c.push(o==="("?")":"]"):o==="{"&&c.length>0?c.push("}"):o===c[c.length-1]&&c.pop(),c.length===0)if(o===";"){n.source.end=this.getPosition(t[2]),n.source.end.offset++,this.semicolon=!0;break}else if(o==="{"){l=!0;break}else if(o==="}"){if(f.length>0){for(a=f.length-1,s=f[a];s&&s[0]==="space";)s=f[--a];s&&(n.source.end=this.getPosition(s[3]||s[2]),n.source.end.offset++)}this.end(t);break}else f.push(t);else f.push(t);if(this.tokenizer.endOfFile()){u=!0;break}}n.raws.between=this.spacesAndCommentsFromEnd(f),f.length?(n.raws.afterName=this.spacesAndCommentsFromStart(f),this.raw(n,"params",f),u&&(t=f[f.length-1],n.source.end=this.getPosition(t[3]||t[2]),n.source.end.offset++,this.spaces=n.raws.between,n.raws.between="")):(n.raws.afterName="",n.params=""),l&&(n.nodes=[],this.current=n)},r.checkMissedSemicolon=function(t){var n=this.colon(t);if(n!==!1){for(var o=0,s,a=n-1;a>=0&&(s=t[a],!(s[0]!=="space"&&(o+=1,o===2)));a--);throw this.input.error("Missed semicolon",s[0]==="word"?s[3]+1:s[2])}},r.colon=function(t){for(var n=0,o,s,a,u=N(t.entries()),l;!(l=u()).done;){var f=l.value,c=f[0],d=f[1];if(o=d,s=o[0],s==="("&&(n+=1),s===")"&&(n-=1),n===0&&s===":")if(!a)this.doubleColon(o);else{if(a[0]==="word"&&a[1]==="progid")continue;return c}a=o}return!1},r.comment=function(t){var n=new $S;this.init(n,t[2]),n.source.end=this.getPosition(t[3]||t[2]),n.source.end.offset++;var o=t[1].slice(2,-2);if(/^\s*$/.test(o))n.text="",n.raws.left=o,n.raws.right="";else{var s=o.match(/^(\s*)([^]*\S)(\s*)$/);n.text=s[2],n.raws.left=s[1],n.raws.right=s[3]}},r.createTokenizer=function(){this.tokenizer=RS(this.input)},r.decl=function(t,n){var o=new TS;this.init(o,t[0][2]);var s=t[t.length-1];for(s[0]===";"&&(this.semicolon=!0,t.pop()),o.source.end=this.getPosition(s[3]||s[2]||FS(t)),o.source.end.offset++;t[0][0]!=="word";)t.length===1&&this.unknownWord(t),o.raws.before+=t.shift()[1];for(o.source.start=this.getPosition(t[0][2]),o.prop="";t.length;){var a=t[0][0];if(a===":"||a==="space"||a==="comment")break;o.prop+=t.shift()[1]}o.raws.between="";for(var u;t.length;)if(u=t.shift(),u[0]===":"){o.raws.between+=u[1];break}else u[0]==="word"&&/\w/.test(u[1])&&this.unknownWord([u]),o.raws.between+=u[1];(o.prop[0]==="_"||o.prop[0]==="*")&&(o.raws.before+=o.prop[0],o.prop=o.prop.slice(1));for(var l=[],f;t.length&&(f=t[0][0],!(f!=="space"&&f!=="comment"));)l.push(t.shift());this.precheckMissedSemicolon(t);for(var c=t.length-1;c>=0;c--){if(u=t[c],u[1].toLowerCase()==="!important"){o.important=!0;var d=this.stringFrom(t,c);d=this.spacesFromEnd(t)+d,d!==" !important"&&(o.raws.important=d);break}else if(u[1].toLowerCase()==="important"){for(var g=t.slice(0),v="",_=c;_>0;_--){var m=g[_][0];if(v.trim().indexOf("!")===0&&m!=="space")break;v=g.pop()[1]+v}v.trim().indexOf("!")===0&&(o.important=!0,o.raws.important=v,t=g)}if(u[0]!=="space"&&u[0]!=="comment")break}var y=t.some(function(w){return w[0]!=="space"&&w[0]!=="comment"});y&&(o.raws.between+=l.map(function(w){return w[1]}).join(""),l=[]),this.raw(o,"value",l.concat(t),n),o.value.includes(":")&&!n&&this.checkMissedSemicolon(t)},r.doubleColon=function(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})},r.emptyRule=function(t){var n=new sd;this.init(n,t[2]),n.selector="",n.raws.between="",this.current=n},r.end=function(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)},r.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())},r.freeSemicolon=function(t){if(this.spaces+=t[1],this.current.nodes){var n=this.current.nodes[this.current.nodes.length-1];n&&n.type==="rule"&&!n.raws.ownSemicolon&&(n.raws.ownSemicolon=this.spaces,this.spaces="")}},r.getPosition=function(t){var n=this.input.fromOffset(t);return{column:n.col,line:n.line,offset:t}},r.init=function(t,n){this.current.push(t),t.source={input:this.input,start:this.getPosition(n)},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)},r.other=function(t){for(var n=!1,o=null,s=!1,a=null,u=[],l=t[1].startsWith("--"),f=[],c=t;c;){if(o=c[0],f.push(c),o==="("||o==="[")a||(a=c),u.push(o==="("?")":"]");else if(l&&s&&o==="{")a||(a=c),u.push("}");else if(u.length===0)if(o===";")if(s){this.decl(f,l);return}else break;else if(o==="{"){this.rule(f);return}else if(o==="}"){this.tokenizer.back(f.pop()),n=!0;break}else o===":"&&(s=!0);else o===u[u.length-1]&&(u.pop(),u.length===0&&(a=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(n=!0),u.length>0&&this.unclosedBracket(a),n&&s){if(!l)for(;f.length&&(c=f[f.length-1][0],!(c!=="space"&&c!=="comment"));)this.tokenizer.back(f.pop());this.decl(f,l)}else this.unknownWord(f)},r.parse=function(){for(var t;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()},r.precheckMissedSemicolon=function(){},r.raw=function(t,n,o,s){for(var a,u,l=o.length,f="",c=!0,d,g,v=0;v<l;v+=1)a=o[v],u=a[0],u==="space"&&v===l-1&&!s?c=!1:u==="comment"?(g=o[v-1]?o[v-1][0]:"empty",d=o[v+1]?o[v+1][0]:"empty",!ad[g]&&!ad[d]?f.slice(-1)===","?c=!1:f+=a[1]:c=!1):f+=a[1];if(!c){var _=o.reduce(function(m,y){return m+y[1]},"");t.raws[n]={raw:_,value:f}}t[n]=f},r.rule=function(t){t.pop();var n=new sd;this.init(n,t[0][2]),n.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(n,"selector",t),this.current=n},r.spacesAndCommentsFromEnd=function(t){for(var n,o="";t.length&&(n=t[t.length-1][0],!(n!=="space"&&n!=="comment"));)o=t.pop()[1]+o;return o},r.spacesAndCommentsFromStart=function(t){for(var n,o="";t.length&&(n=t[0][0],!(n!=="space"&&n!=="comment"));)o+=t.shift()[1];return o},r.spacesFromEnd=function(t){for(var n,o="";t.length&&(n=t[t.length-1][0],n==="space");)o=t.pop()[1]+o;return o},r.stringFrom=function(t,n){for(var o="",s=n;s<t.length;s++)o+=t[s][1];return t.splice(n,t.length-n),o},r.unclosedBlock=function(){var t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)},r.unclosedBracket=function(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})},r.unexpectedClose=function(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})},r.unknownWord=function(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})},r.unnamedAtrule=function(t,n){throw this.input.error("At-rule without name",{offset:n[2]},{offset:n[2]+n[1].length})},e})(),US=BS,jS=yr,zS=US,WS=vs;function jo(e,r){var i=new WS(e,r),t=new zS(i);try{t.parse()}catch(n){throw n}return t.root}var wl=jo;jo.default=jo;jS.registerParse(jo);var yt=Qt.isClean,VS=Qt.my,qS=Op,GS=ds,HS=yr,KS=gl;var ud=yl,YS=wl,JS=Yi,XS={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},ZS={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},QS={Once:!0,postcssPlugin:!0,prepare:!0},Kr=0;function mi(e){return(typeof e>"u"?"undefined":F(e))==="object"&&typeof e.then=="function"}function Gp(e){var r=!1,i=XS[e.type];return e.type==="decl"?r=e.prop.toLowerCase():e.type==="atrule"&&(r=e.name.toLowerCase()),r&&e.append?[i,i+"-"+r,Kr,i+"Exit",i+"Exit-"+r]:r?[i,i+"-"+r,i+"Exit",i+"Exit-"+r]:e.append?[i,Kr,i+"Exit"]:[i,i+"Exit"]}function ld(e){var r;return e.type==="document"?r=["Document",Kr,"DocumentExit"]:e.type==="root"?r=["Root",Kr,"RootExit"]:r=Gp(e),{eventIndex:0,events:r,iterator:0,node:e,visitorIndex:0,visitors:[]}}function Cu(e){return e[yt]=!1,e.nodes&&e.nodes.forEach(function(r){return Cu(r)}),e}var ku={},Yr=(function(){function e(i,t,n){var o=this;this.stringified=!1,this.processed=!1;var s;if((typeof t>"u"?"undefined":F(t))==="object"&&t!==null&&(t.type==="root"||t.type==="document"))s=Cu(t);else if(L(t,e)||L(t,ud))s=Cu(t.root),t.map&&(typeof n.map>"u"&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{var a=YS;n.syntax&&(a=n.syntax.parse),n.parser&&(a=n.parser),a.parse&&(a=a.parse);try{s=a(t,n)}catch(u){this.processed=!0,this.error=u}s&&!s[VS]&&HS.rebuild(s)}this.result=new ud(i,s,n),this.helpers=Y({},ku,{postcss:ku,result:this.result}),this.plugins=this.processor.plugins.map(function(u){return(typeof u>"u"?"undefined":F(u))==="object"&&u.prepare?Y({},u,u.prepare(o.result)):u})}var r=e.prototype;return r.async=function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)},r.catch=function(t){return this.async().catch(t)},r.finally=function(t){return this.async().then(t,t)},r.getAsyncError=function(){throw new Error("Use process(css).then(cb) to work with async plugins")},r.handleError=function(t,n){var o=this.result.lastPlugin;try{if(n&&n.addToError(t),this.error=t,t.name==="CssSyntaxError"&&!t.plugin)t.plugin=o.postcssPlugin,t.setMessage();else if(o.postcssVersion&&0)var s,a,u,l,f}catch(c){console&&console.error&&console.error(c)}return t},r.prepareVisitors=function(){var t=this;this.listeners={};for(var n=function(f,c,d){t.listeners[c]||(t.listeners[c]=[]),t.listeners[c].push([f,d])},o=N(this.plugins),s;!(s=o()).done;){var a=s.value;if((typeof a>"u"?"undefined":F(a))==="object")for(var u in a){if(!ZS[u]&&/^[A-Z]/.test(u))throw new Error("Unknown event "+u+" in "+a.postcssPlugin+". Try to update PostCSS ("+this.processor.version+" now).");if(!QS[u])if(F(a[u])==="object")for(var l in a[u])l==="*"?n(a,u,a[u][l]):n(a,u+"-"+l.toLowerCase(),a[u][l]);else typeof a[u]=="function"&&n(a,u,a[u])}}this.hasListener=Object.keys(this.listeners).length>0},r.runAsync=function(){var t=this;return es(function(){var n,o,s,a,u,l,f,c,d,g,v,_;return fr(this,function(m){switch(m.label){case 0:t.plugin=0,n=0,m.label=1;case 1:if(!(n<t.plugins.length))return[3,6];if(o=t.plugins[n],s=t.runOnRoot(o),!mi(s))return[3,5];m.label=2;case 2:return m.trys.push([2,4,,5]),[4,s];case 3:return m.sent(),[3,5];case 4:throw a=m.sent(),t.handleError(a);case 5:return n++,[3,1];case 6:if(t.prepareVisitors(),!t.hasListener)return[3,18];u=t.result.root,m.label=7;case 7:if(u[yt])return[3,14];u[yt]=!0,l=[ld(u)],m.label=8;case 8:if(!(l.length>0))return[3,13];if(f=t.visitTick(l),!mi(f))return[3,12];m.label=9;case 9:return m.trys.push([9,11,,12]),[4,f];case 10:return m.sent(),[3,12];case 11:throw c=m.sent(),d=l[l.length-1].node,t.handleError(c,d);case 12:return[3,8];case 13:return[3,7];case 14:if(!t.listeners.OnceExit)return[3,18];g=function(){var y,w,S,C,x;return fr(this,function(I){switch(I.label){case 0:y=_.value,w=y[0],S=y[1],t.result.lastPlugin=w,I.label=1;case 1:return I.trys.push([1,6,,7]),u.type!=="document"?[3,3]:(C=u.nodes.map(function(E){return S(E,t.helpers)}),[4,Promise.all(C)]);case 2:return I.sent(),[3,5];case 3:return[4,S(u,t.helpers)];case 4:I.sent(),I.label=5;case 5:return[3,7];case 6:throw x=I.sent(),t.handleError(x);case 7:return[2]}})},v=N(t.listeners.OnceExit),m.label=15;case 15:return(_=v()).done?[3,18]:[5,zu(g())];case 16:m.sent(),m.label=17;case 17:return[3,15];case 18:return t.processed=!0,[2,t.stringify()]}})})()},r.runOnRoot=function(t){var n=this;this.result.lastPlugin=t;try{if((typeof t>"u"?"undefined":F(t))==="object"&&t.Once){if(this.result.root.type==="document"){var o=this.result.root.nodes.map(function(s){return t.Once(s,n.helpers)});return mi(o[0])?Promise.all(o):o}return t.Once(this.result.root,this.helpers)}else if(typeof t=="function")return t(this.result.root,this.result)}catch(s){throw this.handleError(s)}},r.stringify=function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var t=this.result.opts,n=GS;t.syntax&&(n=t.syntax.stringify),t.stringifier&&(n=t.stringifier),n.stringify&&(n=n.stringify);var o=new qS(n,this.result.root,this.result.opts),s=o.generate();return this.result.css=s[0],this.result.map=s[1],this.result},r.sync=function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var t=N(this.plugins),n;!(n=t()).done;){var o=n.value,s=this.runOnRoot(o);if(mi(s))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var a=this.result.root;!a[yt];)a[yt]=!0,this.walkSync(a);if(this.listeners.OnceExit)if(a.type==="document")for(var u=N(a.nodes),l;!(l=u()).done;){var f=l.value;this.visitSync(this.listeners.OnceExit,f)}else this.visitSync(this.listeners.OnceExit,a)}return this.result},r.then=function(t,n){return this.async().then(t,n)},r.toString=function(){return this.css},r.visitSync=function(t,n){for(var o=N(t),s;!(s=o()).done;){var a=s.value,u=a[0],l=a[1];this.result.lastPlugin=u;var f=void 0;try{f=l(n,this.helpers)}catch(c){throw this.handleError(c,n.proxyOf)}if(n.type!=="root"&&n.type!=="document"&&!n.parent)return!0;if(mi(f))throw this.getAsyncError()}},r.visitTick=function(t){var n=t[t.length-1],o=n.node,s=n.visitors;if(o.type!=="root"&&o.type!=="document"&&!o.parent){t.pop();return}if(s.length>0&&n.visitorIndex<s.length){var a=s[n.visitorIndex],u=a[0],l=a[1];n.visitorIndex+=1,n.visitorIndex===s.length&&(n.visitors=[],n.visitorIndex=0),this.result.lastPlugin=u;try{return l(o.toProxy(),this.helpers)}catch(v){throw this.handleError(v,o)}}if(n.iterator!==0){for(var f=n.iterator,c;c=o.nodes[o.indexes[f]];)if(o.indexes[f]+=1,!c[yt]){c[yt]=!0,t.push(ld(c));return}n.iterator=0,delete o.indexes[f]}for(var d=n.events;n.eventIndex<d.length;){var g=d[n.eventIndex];if(n.eventIndex+=1,g===Kr){o.nodes&&o.nodes.length&&(o[yt]=!0,n.iterator=o.getIterator());return}else if(this.listeners[g]){n.visitors=this.listeners[g];return}}t.pop()},r.walkSync=function(t){var n=this;t[yt]=!0;for(var o=Gp(t),s=N(o),a;!(a=s()).done;){var u=a.value;if(u===Kr)t.nodes&&t.each(function(f){f[yt]||n.walkSync(f)});else{var l=this.listeners[u];if(l&&this.visitSync(l,t.toProxy()))return}}},r.warnings=function(){return this.sync().warnings()},_e(e,[{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),e})();Yr.registerPostcss=function(e){ku=e};var Hp=Yr;Yr.default=Yr;JS.registerLazyResult(Yr);KS.registerLazyResult(Yr);var ex=Op,tx=ds;var rx=wl,ix=yl,Iu=(function(){function e(i,t,n){t=t.toString(),this.stringified=!1,this._processor=i,this._css=t,this._opts=n,this._map=void 0;var o,s=tx;this.result=new ix(this._processor,o,this._opts),this.result.css=t;var a=this;Object.defineProperty(this.result,"root",{get:function(){return a.root}});var u=new ex(s,o,this._opts,t);if(u.isMap()){var l=u.generate(),f=l[0],c=l[1];f&&(this.result.css=f),c&&(this.result.map=c)}else u.clearAnnotation(),this.result.css=u.css}var r=e.prototype;return r.async=function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)},r.catch=function(t){return this.async().catch(t)},r.finally=function(t){return this.async().then(t,t)},r.sync=function(){if(this.error)throw this.error;return this.result},r.then=function(t,n){return this.async().then(t,n)},r.toString=function(){return this._css},r.warnings=function(){return[]},_e(e,[{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var t,n=rx;try{t=n(this._css,this._opts)}catch(o){this.error=o}if(this.error)throw this.error;return this._root=t,t}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),e})(),nx=Iu;Iu.default=Iu;var ox=nx,sx=Hp,ax=gl,ux=Yi,Bi=(function(){function e(i){i===void 0&&(i=[]),this.version="8.4.38",this.plugins=this.normalize(i)}var r=e.prototype;return r.normalize=function(t){for(var n=[],o=N(t),s;!(s=o()).done;){var a=s.value;if(a.postcss===!0?a=a():a.postcss&&(a=a.postcss),(typeof a>"u"?"undefined":F(a))==="object"&&Array.isArray(a.plugins))n=n.concat(a.plugins);else if((typeof a>"u"?"undefined":F(a))==="object"&&a.postcssPlugin)n.push(a);else if(typeof a=="function")n.push(a);else if(!((typeof a>"u"?"undefined":F(a))==="object"&&(a.parse||a.stringify)))throw new Error(a+" is not a PostCSS plugin")}return n},r.process=function(t,n){return n===void 0&&(n={}),!this.plugins.length&&!n.parser&&!n.stringifier&&!n.syntax?new ox(this,t,n):new sx(this,t,n)},r.use=function(t){return this.plugins=this.plugins.concat(this.normalize([t])),this},e})(),lx=Bi;Bi.default=Bi;ux.registerProcessor(Bi);ax.registerProcessor(Bi);var cx=ps,fx=xp,dx=ms,hx=_l,px=vs,vx=Yi,mx=bl;function Ui(e,r){if(Array.isArray(e))return e.map(function(c){return Ui(c)});var i=e.inputs,t=cr(e,["inputs"]);if(i){r=[];for(var n=N(i),o;!(o=n()).done;){var s=o.value,a=Y({},s,{__proto__:px.prototype});a.map&&(a.map=Y({},a.map,{__proto__:fx.prototype})),r.push(a)}}if(t.nodes&&(t.nodes=e.nodes.map(function(c){return Ui(c,r)})),t.source){var u=t.source,l=u.inputId,f=cr(u,["inputId"]);t.source=f,l!=null&&(t.source.input=r[l])}if(t.type==="root")return new vx(t);if(t.type==="decl")return new cx(t);if(t.type==="rule")return new mx(t);if(t.type==="comment")return new dx(t);if(t.type==="atrule")return new hx(t);throw new Error("Unknown node type: "+e.type)}var gx=Ui;Ui.default=Ui;var yx=pl,Kp=ps,_x=Hp,bx=yr,Sl=lx,wx=ds,Sx=gx,Yp=gl,xx=Bp,Jp=ms,Xp=_l,Cx=yl,kx=vs,Ix=wl,Ex=Vp,Zp=bl,Qp=Yi,Ox=hs;function ue(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.length===1&&Array.isArray(r[0])&&(r=r[0]),new Sl(r)}ue.plugin=function(r,i){var t=!1;function n(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];console&&console.warn&&!t&&(t=!0,console.warn(r+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(r+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));var l=i.apply(void 0,[].concat(a));return l.postcssPlugin=r,l.postcssVersion=new Sl().version,l}var o;return Object.defineProperty(n,"postcss",{get:function(){return o||(o=n()),o}}),n.process=function(s,a,u){return ue([n(u)]).process(s,a)},n};ue.stringify=wx;ue.parse=Ix;ue.fromJSON=Sx;ue.list=Ex;ue.comment=function(e){return new Jp(e)};ue.atRule=function(e){return new Xp(e)};ue.decl=function(e){return new Kp(e)};ue.rule=function(e){return new Zp(e)};ue.root=function(e){return new Qp(e)};ue.document=function(e){return new Yp(e)};ue.CssSyntaxError=yx;ue.Declaration=Kp;ue.Container=bx;ue.Processor=Sl;ue.Document=Yp;ue.Comment=Jp;ue.Warning=xx;ue.AtRule=Xp;ue.Result=Cx;ue.Input=kx;ue.Rule=Zp;ue.Root=Qp;ue.Node=Ox;_x.registerPostcss(ue);var Ax=ue;ue.default=ue;var xe=z0(Ax);xe.stringify;xe.fromJSON;xe.plugin;xe.parse;xe.list;xe.document;xe.comment;xe.atRule;xe.rule;xe.decl;xe.root;xe.CssSyntaxError;xe.Declaration;xe.Container;xe.Processor;xe.Document;xe.Comment;xe.Warning;xe.AtRule;xe.Result;xe.Input;xe.Rule;xe.Root;xe.Node;var Nx=Object.defineProperty,Mx=function(e,r,i){return r in e?Nx(e,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[r]=i},fo=function(e,r,i){return Mx(e,(typeof r>"u"?"undefined":F(r))!=="symbol"?r+"":r,i)};function Px(e,r,i){try{if(!(r in e))return function(){};var t=e[r],n=i(t);return typeof n=="function"&&(n.prototype=n.prototype||{},Object.defineProperties(n,{__rrweb_original__:{enumerable:!1,value:t}})),e[r]=n,function(){e[r]=t}}catch{return function(){}}}var Ar=(function(){function e(i){fo(this,"fileName"),fo(this,"functionName"),fo(this,"lineNumber"),fo(this,"columnNumber"),this.fileName=i.fileName||"",this.functionName=i.functionName||"",this.lineNumber=i.lineNumber,this.columnNumber=i.columnNumber}var r=e.prototype;return r.toString=function(){var t=this.lineNumber||"",n=this.columnNumber||"";return this.functionName?this.functionName+" ("+this.fileName+":"+t+":"+n+")":this.fileName+":"+t+":"+n},e})(),Tx=/(^|@)\S+:\d+/,cd=/^\s*at .*(\S+:\d+|\(native\))/m,Rx=/^(eval@)?(\[native code])?$/,Sa={parse:function(r){return r?typeof r.stacktrace<"u"||typeof r["opera#sourceloc"]<"u"?this.parseOpera(r):r.stack&&r.stack.match(cd)?this.parseV8OrIE(r):r.stack?this.parseFFOrSafari(r):(console.warn("[console-record-plugin]: Failed to parse error object:",r),[]):[]},extractLocation:function(r){if(r.indexOf(":")===-1)return[r];var i=/(.+?)(?::(\d+))?(?::(\d+))?$/,t=i.exec(r.replace(/[()]/g,""));if(!t)throw new Error("Cannot parse given url: "+r);return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(r){var i=r.stack.split(`
`).filter(function(t){return!!t.match(cd)},this);return i.map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),o=n.match(/ (\((.+):(\d+):(\d+)\)$)/);n=o?n.replace(o[0],""):n;var s=n.split(/\s+/).slice(1),a=this.extractLocation(o?o[1]:s.pop()),u=s.join(" ")||void 0,l=["eval","<anonymous>"].indexOf(a[0])>-1?void 0:a[0];return new Ar({functionName:u,fileName:l,lineNumber:a[1],columnNumber:a[2]})},this)},parseFFOrSafari:function(r){var i=r.stack.split(`
`).filter(function(t){return!t.match(Rx)},this);return i.map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),t.indexOf("@")===-1&&t.indexOf(":")===-1)return new Ar({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,o=t.match(n),s=o&&o[1]?o[1]:void 0,a=this.extractLocation(t.replace(n,""));return new Ar({functionName:s,fileName:a[0],lineNumber:a[1],columnNumber:a[2]})},this)},parseOpera:function(r){return!r.stacktrace||r.message.indexOf(`
`)>-1&&r.message.split(`
`).length>r.stacktrace.split(`
`).length?this.parseOpera9(r):r.stack?this.parseOpera11(r):this.parseOpera10(r)},parseOpera9:function(r){for(var i=/Line (\d+).*script (?:in )?(\S+)/i,t=r.message.split(`
`),n=[],o=2,s=t.length;o<s;o+=2){var a=i.exec(t[o]);a&&n.push(new Ar({fileName:a[2],lineNumber:parseFloat(a[1])}))}return n},parseOpera10:function(r){for(var i=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,t=r.stacktrace.split(`
`),n=[],o=0,s=t.length;o<s;o+=2){var a=i.exec(t[o]);a&&n.push(new Ar({functionName:a[3]||void 0,fileName:a[2],lineNumber:parseFloat(a[1])}))}return n},parseOpera11:function(r){var i=r.stack.split(`
`).filter(function(t){return!!t.match(Tx)&&!t.match(/^Error created at/)},this);return i.map(function(t){var n=t.split("@"),o=this.extractLocation(n.pop()),s=n.shift()||"",a=s.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return new Ar({functionName:a,fileName:o[0],lineNumber:o[1],columnNumber:o[2]})},this)}};function $x(e){if(!e||!e.outerHTML)return"";for(var r="";e.parentElement;){var i=e.localName;if(!i)break;i=i.toLowerCase();var t=e.parentElement,n=[];if(t.children&&t.children.length>0)for(var o=0;o<t.children.length;o++){var s=t.children[o];s.localName&&s.localName.toLowerCase&&s.localName.toLowerCase()===i&&n.push(s)}n.length>1&&(i+=":eq("+n.indexOf(e)+")"),r=i+(r?">"+r:""),e=t}return r}function Eu(e){return Object.prototype.toString.call(e)==="[object Object]"}function ev(e,r){if(r===0)return!0;for(var i=Object.keys(e),t=N(i),n;!(n=t()).done;){var o=n.value;if(Eu(e[o])&&ev(e[o],r-1))return!0}return!1}function Nr(e,r){var i={numOfKeysLimit:50,depthOfLimit:4};Object.assign(i,r);var t=[],n=[];return JSON.stringify(e,function(a,u){if(t.length>0){var l=t.indexOf(this);~l?t.splice(l+1):t.push(this),~l?n.splice(l,1/0,a):n.push(a),~t.indexOf(u)&&(t[0]===u?u="[Circular ~]":u="[Circular ~."+n.slice(0,t.indexOf(u)).join(".")+"]")}else t.push(u);if(u===null)return u;if(u===void 0)return"undefined";if(o(u))return s(u);if((typeof u>"u"?"undefined":F(u))==="bigint")return u.toString()+"n";if(L(u,Event)){var f={};for(var c in u){var d=u[c];Array.isArray(d)?f[c]=$x(d.length?d[0]:null):f[c]=d}return f}else{if(L(u,Node))return L(u,HTMLElement)?u?u.outerHTML:"":u.nodeName;if(L(u,Error))return u.stack?u.stack+`
End of stack for Error object`:u.name+": "+u.message}return u});function o(a){return!!(Eu(a)&&Object.keys(a).length>i.numOfKeysLimit||typeof a=="function"||Eu(a)&&ev(a,i.depthOfLimit))}function s(a){var u=a.toString();return i.stringLengthLimit&&u.length>i.stringLengthLimit&&(u=""+u.slice(0,i.stringLengthLimit)+"..."),u}}var fd={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],lengthThreshold:1e3,logger:"console"};function Dx(e,r,i){var t=i?Object.assign({},fd,i):fd,n=t.logger;if(!n)return function(){};var o;typeof n=="string"?o=r[n]:o=n;var s=0,a=!1,u=[];if(t.level.includes("error")){var l=function(_){var m=_.message,y=_.error,w=Sa.parse(y).map(function(C){return C.toString()}),S=[Nr(m,t.stringifyOptions)];e({level:"error",trace:w,payload:S})};r.addEventListener("error",l),u.push(function(){r.removeEventListener("error",l)});var f=function(_){var m,y;L(_.reason,Error)?(m=_.reason,y=[Nr("Uncaught (in promise) "+m.name+": "+m.message,t.stringifyOptions)]):(m=new Error,y=[Nr("Uncaught (in promise)",t.stringifyOptions),Nr(_.reason,t.stringifyOptions)]);var w=Sa.parse(m).map(function(S){return S.toString()});e({level:"error",trace:w,payload:y})};r.addEventListener("unhandledrejection",f),u.push(function(){r.removeEventListener("unhandledrejection",f)})}for(var c=N(t.level),d;!(d=c()).done;){var g=d.value;u.push(v(o,g))}return function(){u.forEach(function(_){return _()})};function v(_,m){var y=this;return _[m]?Px(_,m,function(w){var S=y;return function(){for(var C=arguments.length,x=new Array(C),I=0;I<C;I++)x[I]=arguments[I];if(w.apply(S,x),!(m==="assert"&&x[0])&&!a){a=!0;try{var E=Sa.parse(new Error).map(function(T){return T.toString()}).splice(1),P=m==="assert"?x.slice(1):x,O=P.map(function(T){return Nr(T,t.stringifyOptions)});s++,s<t.lengthThreshold?e({level:m,trace:E,payload:O}):s===t.lengthThreshold&&e({level:"warn",trace:[],payload:[Nr("The number of log records reached the threshold.")]})}catch(T){w.apply(void 0,[].concat(["rrweb logger error:",T],x))}finally{a=!1}}}}):function(){}}}var Lx="rrweb/console@1",Fx=function(e){return{name:Lx,observer:Dx,options:e}},dd=A.setImmediate,qt,Ou,Au,tv=Object.prototype.toString,Bx=typeof dd<"u"?function(r){return dd(r)}:setTimeout;try{Object.defineProperty({},"x",{}),qt=function(r,i,t,n){return Object.defineProperty(r,i,{value:t,writable:!0,configurable:n!==!1})}}catch{qt=function(i,t,n){return i[t]=n,i}}Au=(function(){var r,i,t;function n(o,s){this.fn=o,this.self=s,this.next=void 0}return{add:function(s,a){t=new n(s,a),i?i.next=t:r=t,i=t,t=void 0},drain:function(){var s=r;for(r=i=Ou=void 0;s;)s.fn.call(s.self),s=s.next}}})();function zo(e,r){Au.add(e,r),Ou||(Ou=Bx(Au.drain))}function rv(e){var r,i=typeof e;return e!==null&&(i==="object"||i==="function")&&(r=e.then),typeof r=="function"?r:!1}function xl(){for(var e=0;e<this.chain.length;e++)Ux(this,this.state===1?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function Ux(e,r,i){var t,n;try{r===!1?i.reject(e.msg):(r===!0?t=e.msg:t=r.call(void 0,e.msg),t===i.promise?i.reject(TypeError("Promise-chain cycle")):(n=rv(t))?n.call(t,i.resolve,i.reject):i.resolve(t))}catch(o){i.reject(o)}}function iv(e){var r,i=this;if(!i.triggered){i.triggered=!0,i.def&&(i=i.def);try{(r=rv(e))?zo(function(){var t=new hd(i);try{r.call(e,function(){iv.apply(t,arguments)},function(){wi.apply(t,arguments)})}catch(n){wi.call(t,n)}}):(i.msg=e,i.state=1,i.chain.length>0&&zo(xl,i))}catch(t){wi.call(new hd(i),t)}}}function wi(e){var r=this;r.triggered||(r.triggered=!0,r.def&&(r=r.def),r.msg=e,r.state=2,r.chain.length>0&&zo(xl,r))}function nv(e,r,i,t){for(var n=0;n<r.length;n++)(function(s){e.resolve(r[s]).then(function(u){i(s,u)},t)})(n)}function hd(e){this.def=e,this.triggered=!1}function jx(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function er(e){if(typeof e!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var r=new jx(this);this.then=function(t,n){var o={success:typeof t=="function"?t:!0,failure:typeof n=="function"?n:!1};return o.promise=new this.constructor(function(a,u){if(typeof a!="function"||typeof u!="function")throw TypeError("Not a function");o.resolve=a,o.reject=u}),r.chain.push(o),r.state!==0&&zo(xl,r),o.promise},this.catch=function(t){return this.then(void 0,t)};try{e.call(void 0,function(t){iv.call(r,t)},function(t){wi.call(r,t)})}catch(i){wi.call(r,i)}}var ov=qt({},"constructor",er,!1);er.prototype=ov;qt(ov,"__NPO__",0,!1);qt(er,"resolve",function(r){var i=this;return r&&typeof r=="object"&&r.__NPO__===1?r:new i(function(n,o){if(typeof n!="function"||typeof o!="function")throw TypeError("Not a function");n(r)})});qt(er,"reject",function(r){return new this(function(t,n){if(typeof t!="function"||typeof n!="function")throw TypeError("Not a function");n(r)})});qt(er,"all",function(r){var i=this;return tv.call(r)!=="[object Array]"?i.reject(TypeError("Not an array")):r.length===0?i.resolve([]):new i(function(n,o){if(typeof n!="function"||typeof o!="function")throw TypeError("Not a function");var s=r.length,a=Array(s),u=0;nv(i,r,function(f,c){a[f]=c,++u===s&&n(a)},o)})});qt(er,"race",function(r){var i=this;return tv.call(r)!=="[object Array]"?i.reject(TypeError("Not an array")):new i(function(n,o){if(typeof n!="function"||typeof o!="function")throw TypeError("Not a function");nv(i,r,function(a,u){n(u)},o)})});var te;typeof Promise<"u"&&Promise.toString().indexOf("[native code]")!==-1?te=Promise:te=er;var Qe={DEBUG:!1,LIB_VERSION:"2.74.0"},Si=1440*60*1e3,xa=8*1e3,gs=Array.prototype,zx=Function.prototype,sv=Object.prototype,zt=gs.slice,Ji=sv.toString,ys=sv.hasOwnProperty,$e=A.console,Nt=A.navigator,V=A.document,gi=A.opera,pd=A.screen,_t=Nt.userAgent,Ca=zx.bind,vd=gs.forEach,md=gs.indexOf,gd=gs.map,Wx=Array.isArray,Nu={},p={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},K={log:function(){if(Qe.DEBUG&&!p.isUndefined($e)&&$e)try{$e.log.apply($e,arguments)}catch{p.each(arguments,function(r){$e.log(r)})}},warn:function(){if(Qe.DEBUG&&!p.isUndefined($e)&&$e){var e=["Mixpanel warning:"].concat(p.toArray(arguments));try{$e.warn.apply($e,e)}catch{p.each(e,function(i){$e.warn(i)})}}},error:function(){if(Qe.DEBUG&&!p.isUndefined($e)&&$e){var e=["Mixpanel error:"].concat(p.toArray(arguments));try{$e.error.apply($e,e)}catch{p.each(e,function(i){$e.error(i)})}}},critical:function(){if(!p.isUndefined($e)&&$e){var e=["Mixpanel error:"].concat(p.toArray(arguments));try{$e.error.apply($e,e)}catch{p.each(e,function(i){$e.error(i)})}}}},ka=function(e,r){return function(){return arguments[0]="["+r+"] "+arguments[0],e.apply(K,arguments)}},_r=function(e){return{log:ka(K.log,e),error:ka(K.error,e),critical:ka(K.critical,e)}},ji=function(e){return function(){try{return e.apply(this,arguments)}catch(r){K.critical("Implementation error. Please turn on debug and contact support@mixpanel.com."),Qe.DEBUG&&K.critical(r)}}},av=function(e){var r=e.prototype;for(var i in r)typeof r[i]=="function"&&(r[i]=ji(r[i]))};p.bind=function(e,r){var i,t;if(Ca&&e.bind===Ca)return Ca.apply(e,zt.call(arguments,1));if(!p.isFunction(e))throw new TypeError;return i=zt.call(arguments,2),t=function(){if(!(this instanceof t))return e.apply(r,i.concat(zt.call(arguments)));var n={};n.prototype=e.prototype;var o=new n;n.prototype=null;var s=e.apply(o,i.concat(zt.call(arguments)));return Object(s)===s?s:o},t};p.each=function(e,r,i){if(e!=null){if(vd&&e.forEach===vd)e.forEach(r,i);else if(e.length===+e.length){for(var t=0,n=e.length;t<n;t++)if(t in e&&r.call(i,e[t],t,e)===Nu)return}else for(var o in e)if(ys.call(e,o)&&r.call(i,e[o],o,e)===Nu)return}};p.extend=function(e){return p.each(zt.call(arguments,1),function(r){for(var i in r)r[i]!==void 0&&(e[i]=r[i])}),e};p.isArray=Wx||function(e){return Ji.call(e)==="[object Array]"};p.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch{return!1}};p.isArguments=function(e){return!!(e&&ys.call(e,"callee"))};p.toArray=function(e){return e?e.toArray?e.toArray():p.isArray(e)||p.isArguments(e)?zt.call(e):p.values(e):[]};p.map=function(e,r,i){if(gd&&e.map===gd)return e.map(r,i);var t=[];return p.each(e,function(n){t.push(r.call(i,n))}),t};p.keys=function(e){var r=[];return e===null||p.each(e,function(i,t){r[r.length]=t}),r};p.values=function(e){var r=[];return e===null||p.each(e,function(i){r[r.length]=i}),r};p.include=function(e,r){var i=!1;return e===null?i:md&&e.indexOf===md?e.indexOf(r)!=-1:(p.each(e,function(t){if(i||(i=t===r))return Nu}),i)};p.includes=function(e,r){return e.indexOf(r)!==-1};p.inherit=function(e,r){return e.prototype=new r,e.prototype.constructor=e,e.superclass=r.prototype,e};p.isObject=function(e){return e===Object(e)&&!p.isArray(e)};p.isEmptyObject=function(e){if(p.isObject(e)){for(var r in e)if(ys.call(e,r))return!1;return!0}return!1};p.isUndefined=function(e){return e===void 0};p.isString=function(e){return Ji.call(e)=="[object String]"};p.isDate=function(e){return Ji.call(e)=="[object Date]"};p.isNumber=function(e){return Ji.call(e)=="[object Number]"};p.isElement=function(e){return!!(e&&e.nodeType===1)};p.encodeDates=function(e){return p.each(e,function(r,i){p.isDate(r)?e[i]=p.formatDate(r):p.isObject(r)&&(e[i]=p.encodeDates(r))}),e};p.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};p.formatDate=function(e){function r(i){return i<10?"0"+i:i}return e.getUTCFullYear()+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())};p.strip_empty_properties=function(e){var r={};return p.each(e,function(i,t){p.isString(i)&&i.length>0&&(r[t]=i)}),r};p.truncate=function(e,r){var i;return typeof e=="string"?i=e.slice(0,r):p.isArray(e)?(i=[],p.each(e,function(t){i.push(p.truncate(t,r))})):p.isObject(e)?(i={},p.each(e,function(t,n){i[n]=p.truncate(t,r)})):i=e,i};p.JSONEncode=(function(){return function(e){var r=e,i=function(n){var o=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(a){var u=s[a];return typeof u=="string"?u:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'},t=function(n,o){var s="",a="    ",u=0,l="",f="",c=0,d=s,g=[],v=o[n];switch(v&&typeof v=="object"&&typeof v.toJSON=="function"&&(v=v.toJSON(n)),typeof v){case"string":return i(v);case"number":return isFinite(v)?String(v):"null";case"boolean":case"null":return String(v);case"object":if(!v)return"null";if(s+=a,g=[],Ji.apply(v)==="[object Array]"){for(c=v.length,u=0;u<c;u+=1)g[u]=t(u,v)||"null";return f=g.length===0?"[]":s?`[
`+s+g.join(`,
`+s)+`
`+d+"]":"["+g.join(",")+"]",s=d,f}for(l in v)ys.call(v,l)&&(f=t(l,v),f&&g.push(i(l)+(s?": ":":")+f));return f=g.length===0?"{}":s?"{"+g.join(",")+d+"}":"{"+g.join(",")+"}",s=d,f}};return t("",{"":r})}})();p.JSONDecode=(function(){var e,r,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},t,n=function(g){var v=new SyntaxError(g);throw v.at=e,v.text=t,v},o=function(g){return g&&g!==r&&n("Expected '"+g+"' instead of '"+r+"'"),r=t.charAt(e),e+=1,r},s=function(){var g,v="";for(r==="-"&&(v="-",o("-"));r>="0"&&r<="9";)v+=r,o();if(r===".")for(v+=".";o()&&r>="0"&&r<="9";)v+=r;if(r==="e"||r==="E")for(v+=r,o(),(r==="-"||r==="+")&&(v+=r,o());r>="0"&&r<="9";)v+=r,o();if(g=+v,!isFinite(g))n("Bad number");else return g},a=function(){var g,v,_="",m;if(r==='"')for(;o();){if(r==='"')return o(),_;if(r==="\\")if(o(),r==="u"){for(m=0,v=0;v<4&&(g=parseInt(o(),16),!!isFinite(g));v+=1)m=m*16+g;_+=String.fromCharCode(m)}else if(typeof i[r]=="string")_+=i[r];else break;else _+=r}n("Bad string")},u=function(){for(;r&&r<=" ";)o()},l=function(){switch(r){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null}n('Unexpected "'+r+'"')},f,c=function(){var g=[];if(r==="["){if(o("["),u(),r==="]")return o("]"),g;for(;r;){if(g.push(f()),u(),r==="]")return o("]"),g;o(","),u()}}n("Bad array")},d=function(){var g,v={};if(r==="{"){if(o("{"),u(),r==="}")return o("}"),v;for(;r;){if(g=a(),u(),o(":"),Object.hasOwnProperty.call(v,g)&&n('Duplicate key "'+g+'"'),v[g]=f(),u(),r==="}")return o("}"),v;o(","),u()}}n("Bad object")};return f=function(){switch(u(),r){case"{":return d();case"[":return c();case'"':return a();case"-":return s();default:return r>="0"&&r<="9"?s():l()}},function(g){var v;return t=g,e=0,r=" ",v=f(),u(),r&&n("Syntax error"),v}})();p.base64Encode=function(e){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,t,n,o,s,a,u,l,f=0,c=0,d="",g=[];if(!e)return e;e=p.utf8Encode(e);do i=e.charCodeAt(f++),t=e.charCodeAt(f++),n=e.charCodeAt(f++),l=i<<16|t<<8|n,o=l>>18&63,s=l>>12&63,a=l>>6&63,u=l&63,g[c++]=r.charAt(o)+r.charAt(s)+r.charAt(a)+r.charAt(u);while(f<e.length);switch(d=g.join(""),e.length%3){case 1:d=d.slice(0,-2)+"==";break;case 2:d=d.slice(0,-1)+"=";break}return d};p.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var r="",i,t,n=0,o;for(i=t=0,n=e.length,o=0;o<n;o++){var s=e.charCodeAt(o),a=null;s<128?t++:s>127&&s<2048?a=String.fromCharCode(s>>6|192,s&63|128):a=String.fromCharCode(s>>12|224,s>>6&63|128,s&63|128),a!==null&&(t>i&&(r+=e.substring(i,t)),r+=a,i=t=o+1)}return t>i&&(r+=e.substring(i,e.length)),r};p.UUID=function(){try{return A.crypto.randomUUID()}catch{for(var e=new Array(36),r=0;r<36;r++)e[r]=Math.floor(Math.random()*16);return e[14]=4,e[19]=e[19]&=-5,e[19]=e[19]|=8,e[8]=e[13]=e[18]=e[23]="-",p.map(e,function(t){return t.toString(16)}).join("")}};var yd=["ahrefsbot","ahrefssiteaudit","amazonbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandex","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];p.isBlockedUA=function(e){var r;for(e=e.toLowerCase(),r=0;r<yd.length;r++)if(e.indexOf(yd[r])!==-1)return!0;return!1};p.HTTPBuildQuery=function(e,r){var i,t,n=[];return p.isUndefined(r)&&(r="&"),p.each(e,function(o,s){i=encodeURIComponent(o.toString()),t=encodeURIComponent(s),n[n.length]=t+"="+i}),n.join(r)};p.getQueryParam=function(e,r){r=r.replace(/[[]/g,"\\[").replace(/[\]]/g,"\\]");var i="[\\?&]"+r+"=([^&#]*)",t=new RegExp(i),n=t.exec(e);if(n===null||n&&typeof n[1]!="string"&&n[1].length)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{K.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")};p.cookie={get:function(e){for(var r=e+"=",i=V.cookie.split(";"),t=0;t<i.length;t++){for(var n=i[t];n.charAt(0)==" ";)n=n.substring(1,n.length);if(n.indexOf(r)===0)return decodeURIComponent(n.substring(r.length,n.length))}return null},parse:function(e){var r;try{r=p.JSONDecode(p.cookie.get(e))||{}}catch{}return r},set_seconds:function(e,r,i,t,n,o,s){var a="",u="",l="";if(s)a="; domain="+s;else if(t){var f=_d(V.location.hostname);a=f?"; domain=."+f:""}if(i){var c=new Date;c.setTime(c.getTime()+i*1e3),u="; expires="+c.toGMTString()}o&&(n=!0,l="; SameSite=None"),n&&(l+="; secure"),V.cookie=e+"="+encodeURIComponent(r)+u+"; path=/"+a+l},set:function(e,r,i,t,n,o,s){var a="",u="",l="";if(s)a="; domain="+s;else if(t){var f=_d(V.location.hostname);a=f?"; domain=."+f:""}if(i){var c=new Date;c.setTime(c.getTime()+i*24*60*60*1e3),u="; expires="+c.toGMTString()}o&&(n=!0,l="; SameSite=None"),n&&(l+="; secure");var d=e+"="+encodeURIComponent(r)+u+"; path=/"+a+l;return V.cookie=d,d},remove:function(e,r,i){p.cookie.set(e,"",-1,r,!1,!1,i)}};var uv=function(e){var r=!0;try{var i="__mplss_"+Cl(8),t="xyz";e.setItem(i,t),e.getItem(i)!==t&&(r=!1),e.removeItem(i)}catch{r=!1}return r},Ia=null,zi=function(e,r){return Ia!==null&&!r?Ia:Ia=uv(e||A.localStorage)},Ea=null,Vx=function(e,r){return Ea!==null&&!r?Ea:Ea=uv(e||A.sessionStorage)};function lv(e,r,i){var t=function(n){K.error(r+" error: "+n)};return{is_supported:function(n){var o=i(e,n);return o||K.error(r+" unsupported"),o},error:t,get:function(n){try{return e.getItem(n)}catch(o){t(o)}return null},parse:function(n){try{return p.JSONDecode(e.getItem(n))||{}}catch{}return null},set:function(n,o){try{e.setItem(n,o)}catch(s){t(s)}},remove:function(n){try{e.removeItem(n)}catch(o){t(o)}}}}var cv=null,fv=null;try{cv=A.localStorage,fv=A.sessionStorage}catch{}p.localStorage=lv(cv,"localStorage",zi);p.sessionStorage=lv(fv,"sessionStorage",Vx);p.register_event=(function(){var e=function(t,n,o,s,a){if(!t){K.error("No valid element provided to register_event");return}if(t.addEventListener&&!s)t.addEventListener(n,o,!!a);else{var u="on"+n,l=t[u];t[u]=r(t,o,l)}};function r(t,n,o){var s=function(a){if(a=a||i(A.event),!!a){var u=!0,l,f;return p.isFunction(o)&&(l=o(a)),f=n.call(t,a),(l===!1||f===!1)&&(u=!1),u}};return s}function i(t){return t&&(t.preventDefault=i.preventDefault,t.stopPropagation=i.stopPropagation),t}return i.preventDefault=function(){this.returnValue=!1},i.stopPropagation=function(){this.cancelBubble=!0},e})();var qx=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');p.dom_query=(function(){function e(n){return n.all?n.all:n.getElementsByTagName("*")}var r=/[\t\r\n]/g;function i(n,o){var s=" "+o+" ";return(" "+n.className+" ").replace(r," ").indexOf(s)>=0}function t(n){if(!V.getElementsByTagName)return[];var o=n.split(" "),s,a,u,l,f,c,d,g,v,_,m=[V];for(c=0;c<o.length;c++){if(s=o[c].replace(/^\s+/,"").replace(/\s+$/,""),s.indexOf("#")>-1){a=s.split("#"),u=a[0];var y=a[1],w=V.getElementById(y);if(!w||u&&w.nodeName.toLowerCase()!=u)return[];m=[w];continue}if(s.indexOf(".")>-1){a=s.split("."),u=a[0];var S=a[1];for(u||(u="*"),l=[],f=0,d=0;d<m.length;d++)for(u=="*"?v=e(m[d]):v=m[d].getElementsByTagName(u),g=0;g<v.length;g++)l[f++]=v[g];for(m=[],_=0,d=0;d<l.length;d++)l[d].className&&p.isString(l[d].className)&&i(l[d],S)&&(m[_++]=l[d]);continue}var C=s.match(qx);if(C){u=C[1];var x=C[2],I=C[3],E=C[4];for(u||(u="*"),l=[],f=0,d=0;d<m.length;d++)for(u=="*"?v=e(m[d]):v=m[d].getElementsByTagName(u),g=0;g<v.length;g++)l[f++]=v[g];m=[],_=0;var P;switch(I){case"=":P=function(O){return O.getAttribute(x)==E};break;case"~":P=function(O){return O.getAttribute(x).match(new RegExp("\\b"+E+"\\b"))};break;case"|":P=function(O){return O.getAttribute(x).match(new RegExp("^"+E+"-?"))};break;case"^":P=function(O){return O.getAttribute(x).indexOf(E)===0};break;case"$":P=function(O){return O.getAttribute(x).lastIndexOf(E)==O.getAttribute(x).length-E.length};break;case"*":P=function(O){return O.getAttribute(x).indexOf(E)>-1};break;default:P=function(O){return O.getAttribute(x)}}for(m=[],_=0,d=0;d<l.length;d++)P(l[d])&&(m[_++]=l[d]);continue}for(u=s,l=[],f=0,d=0;d<m.length;d++)for(v=m[d].getElementsByTagName(u),g=0;g<v.length;g++)l[f++]=v[g];m=l}return m}return function(n){return p.isElement(n)?[n]:p.isObject(n)&&!p.isUndefined(n.length)?n:t.call(this,n)}})();var Gx=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","utm_id","utm_source_platform","utm_campaign_id","utm_creative_format","utm_marketing_tactic"],Hx=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","sccid","ttclid","twclid","wbraid"];p.info={campaignParams:function(e){var r="",i={};return p.each(Gx,function(t){r=p.getQueryParam(V.URL,t),r.length?i[t]=r:e!==void 0&&(i[t]=e)}),i},clickParams:function(){var e="",r={};return p.each(Hx,function(i){e=p.getQueryParam(V.URL,i),e.length&&(r[i]=e)}),r},marketingParams:function(){return p.extend(p.info.campaignParams(),p.info.clickParams())},searchEngine:function(e){return e.search("https?://(.*)google.([^/?]*)")===0?"google":e.search("https?://(.*)bing.com")===0?"bing":e.search("https?://(.*)yahoo.com")===0?"yahoo":e.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(e){var r=p.info.searchEngine(e),i=r!="yahoo"?"q":"p",t={};if(r!==null){t.$search_engine=r;var n=p.getQueryParam(e,i);n.length&&(t.mp_keyword=n)}return t},browser:function(e,r,i){return r=r||"",i||p.includes(e," OPR/")?p.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":p.includes(e,"IEMobile")||p.includes(e,"WPDesktop")?"Internet Explorer Mobile":p.includes(e,"SamsungBrowser/")?"Samsung Internet":p.includes(e,"Edge")||p.includes(e,"Edg/")?"Microsoft Edge":p.includes(e,"FBIOS")?"Facebook Mobile":p.includes(e,"Whale/")?"Whale Browser":p.includes(e,"Chrome")?"Chrome":p.includes(e,"CriOS")?"Chrome iOS":p.includes(e,"UCWEB")||p.includes(e,"UCBrowser")?"UC Browser":p.includes(e,"FxiOS")?"Firefox iOS":p.includes(r,"Apple")?p.includes(e,"Mobile")?"Mobile Safari":"Safari":p.includes(e,"Android")?"Android Mobile":p.includes(e,"Konqueror")?"Konqueror":p.includes(e,"Firefox")?"Firefox":p.includes(e,"MSIE")||p.includes(e,"Trident/")?"Internet Explorer":p.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,r,i){var t=p.info.browser(e,r,i),n={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/,"Whale Browser":/Whale\/(\d+(\.\d+)?)/},o=n[t];if(o===void 0)return null;var s=e.match(o);return s?parseFloat(s[s.length-2]):null},os:function(){var e=_t;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var r=e.split("/");return r.length>=3?r[2]:""},currentUrl:function(){return A.location.href},properties:function(e){return typeof e!="object"&&(e={}),p.extend(p.strip_empty_properties({$os:p.info.os(),$browser:p.info.browser(_t,Nt.vendor,gi),$referrer:V.referrer,$referring_domain:p.info.referringDomain(V.referrer),$device:p.info.device(_t)}),{$current_url:p.info.currentUrl(),$browser_version:p.info.browserVersion(_t,Nt.vendor,gi),$screen_height:pd.height,$screen_width:pd.width,mp_lib:"web",$lib_version:Qe.LIB_VERSION,$insert_id:Cl(),time:p.timestamp()/1e3},p.strip_empty_properties(e))},people_properties:function(){return p.extend(p.strip_empty_properties({$os:p.info.os(),$browser:p.info.browser(_t,Nt.vendor,gi)}),{$browser_version:p.info.browserVersion(_t,Nt.vendor,gi)})},mpPageViewProperties:function(){return p.strip_empty_properties({current_page_title:V.title,current_domain:A.location.hostname,current_url_path:A.location.pathname,current_url_protocol:A.location.protocol,current_url_search:A.location.search})}};var Kx=function(e,r){var i=null,t=[];return function(n){var o=this;return t.push(n),i||(i=new te(function(s){setTimeout(function(){var a=e.apply(o,[t]);i=null,t=[],s(a)},r)})),i}},Cl=function(e){var r=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?r.substring(0,e):r},Yx=function(){var e=p.UUID().replace(/-/g,""),r=p.UUID().replace(/-/g,"").substring(0,16),i="01";return"00-"+e+"-"+r+"-"+i},Jx=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,Xx=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,_d=function(e){var r=Xx,i=e.split("."),t=i[i.length-1];(t.length>4||t==="com"||t==="org")&&(r=Jx);var n=e.match(r);return n?n[0]:""},Zx=function(){var e=A.navigator.onLine;return p.isUndefined(e)||e},Vt=function(){},Jr=null,Wo=null;typeof JSON<"u"&&(Jr=JSON.stringify,Wo=JSON.parse);Jr=Jr||p.JSONEncode;Wo=Wo||p.JSONDecode;var Qx=function(e,r,i){if(!A.CompressionStream)return!1;var t=p.info.browser(e,r,i),n=p.info.browserVersion(e,r,i);return!((t==="Safari"||t==="Mobile Safari")&&n>=16.4&&n<16.6)};p.info=p.info;p.info.browser=p.info.browser;p.info.browserVersion=p.info.browserVersion;p.info.device=p.info.device;p.info.properties=p.info.properties;p.isBlockedUA=p.isBlockedUA;p.isEmptyObject=p.isEmptyObject;p.isObject=p.isObject;p.JSONDecode=p.JSONDecode;p.JSONEncode=p.JSONEncode;p.toArray=p.toArray;p.NPO=er;var eC="mixpanelBrowserDb",dv="mixpanelRecordingEvents",kl="mixpanelRecordingRegistry",tC=1,rC=[dv,kl],dt=function(e){this.dbPromise=null,this.storeName=e};dt.prototype._openDb=function(){return new te(function(e,r){var i=A.indexedDB.open(eC,tC);i.onerror=function(){r(i.error)},i.onsuccess=function(){e(i.result)},i.onupgradeneeded=function(t){var n=t.target.result;rC.forEach(function(o){n.createObjectStore(o)})}})};dt.prototype.init=function(){return A.indexedDB?(this.dbPromise||(this.dbPromise=this._openDb()),this.dbPromise.then(function(e){return e instanceof A.IDBDatabase?te.resolve():te.reject(e)})):te.reject("indexedDB is not supported in this browser")};dt.prototype.isInitialized=function(){return!!this.dbPromise};dt.prototype.makeTransaction=function(e,r){var i=this.storeName,t=function(n){return new te(function(o,s){var a=n.transaction(i,e);a.oncomplete=function(){o(a)},a.onabort=a.onerror=function(){s(a.error)},r(a.objectStore(i))})};return this.dbPromise.then(t).catch(function(n){return n&&n.name==="InvalidStateError"?(this.dbPromise=this._openDb(),this.dbPromise.then(t)):te.reject(n)}.bind(this))};dt.prototype.setItem=function(e,r){return this.makeTransaction("readwrite",function(i){i.put(r,e)})};dt.prototype.getItem=function(e){var r;return this.makeTransaction("readonly",function(i){r=i.get(e)}).then(function(){return r.result})};dt.prototype.removeItem=function(e){return this.makeTransaction("readwrite",function(r){r.delete(e)})};dt.prototype.getAll=function(){var e;return this.makeTransaction("readonly",function(r){e=r.getAll()}).then(function(){return e.result})};var iC="__mp_opt_in_out_";function nC(e,r){vv(!0,e,r)}function oC(e,r){vv(!1,e,r)}function sC(e,r){return pv(e,r)==="1"}function hv(e,r){if(uC(r))return K.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var i=pv(e,r)==="0";return i&&K.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),i}function tr(e){return Ol(e,function(r){return this.get_config(r)})}function rr(e){return Ol(e,function(r){return this._get_config(r)})}function Qr(e){return Ol(e,function(r){return this._get_config(r)})}function aC(e,r){r=r||{},Il(r).remove(El(e,r),!!r.crossSubdomainCookie,r.cookieDomain)}function Il(e){return e=e||{},e.persistenceType==="localStorage"?p.localStorage:p.cookie}function El(e,r){return r=r||{},(r.persistencePrefix||iC)+e}function pv(e,r){return Il(r).get(El(e,r))}function uC(e){if(e&&e.ignoreDnt)return!1;var r=e&&e.window||A,i=r.navigator||{},t=!1;return p.each([i.doNotTrack,i.msDoNotTrack,r.doNotTrack],function(n){p.includes([!0,1,"1","yes"],n)&&(t=!0)}),t}function vv(e,r,i){if(!p.isString(r)||!r.length){K.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token");return}i=i||{},Il(i).set(El(r,i),e?1:0,p.isNumber(i.cookieExpiration)?i.cookieExpiration:null,!!i.crossSubdomainCookie,!!i.secureCookie,!!i.crossSiteCookie,i.cookieDomain),i.track&&e&&i.track(i.trackEventName||"$opt_in",i.trackProperties,{send_immediately:!0})}function Ol(e,r){return function(){var i=!1;try{var t=r.call(this,"token"),n=r.call(this,"ignore_dnt"),o=r.call(this,"opt_out_tracking_persistence_type"),s=r.call(this,"opt_out_tracking_cookie_prefix"),a=r.call(this,"window");t&&(i=hv(t,{ignoreDnt:n,persistenceType:o,persistencePrefix:s,window:a}))}catch(l){K.error("Unexpected error when checking tracking opt-out status: "+l)}if(!i)return e.apply(this,arguments);var u=arguments[arguments.length-1];typeof u=="function"&&u(0)}}var lC=_r("lock"),mv=function(e,r){r=r||{},this.storageKey=e,this.storage=r.storage||A.localStorage,this.pollIntervalMS=r.pollIntervalMS||100,this.timeoutMS=r.timeoutMS||2e3,this.promiseImpl=r.promiseImpl||te};mv.prototype.withLock=function(e,r){var i=this.promiseImpl;return new i(p.bind(function(t,n){var o=r||new Date().getTime()+"|"+Math.random(),s=new Date().getTime(),a=this.storageKey,u=this.pollIntervalMS,l=this.timeoutMS,f=this.storage,c=a+":X",d=a+":Y",g=a+":Z",v=function(S){if(new Date().getTime()-s>l){lC.error("Timeout waiting for mutex on "+a+"; clearing lock. ["+o+"]"),f.removeItem(g),f.removeItem(d),y();return}setTimeout(function(){try{S()}catch(C){n(C)}},u*(Math.random()+.1))},_=function(S,C){S()?C():v(function(){_(S,C)})},m=function(){var S=f.getItem(d);return S&&S!==o?!1:(f.setItem(d,o),f.getItem(d)===o?!0:(zi(f,!0)||n(new Error("localStorage support dropped while acquiring lock")),!1))},y=function(){f.setItem(c,o),_(m,function(){if(f.getItem(c)===o){w();return}v(function(){if(f.getItem(d)!==o){y();return}_(function(){return!f.getItem(g)},w)})})},w=function(){f.setItem(g,"1");var S=function(){f.removeItem(g),f.getItem(d)===o&&f.removeItem(d),f.getItem(c)===o&&f.removeItem(c)};e().then(function(C){S(),t(C)}).catch(function(C){S(),n(C)})};try{if(zi(f,!0))y();else throw new Error("localStorage support check failed")}catch(S){n(S)}},this))};var ei=function(e){this.storage=e||A.localStorage};ei.prototype.init=function(){return te.resolve()};ei.prototype.isInitialized=function(){return!0};ei.prototype.setItem=function(e,r){return new te(p.bind(function(i,t){try{this.storage.setItem(e,Jr(r))}catch(n){t(n)}i()},this))};ei.prototype.getItem=function(e){return new te(p.bind(function(r,i){var t;try{t=Wo(this.storage.getItem(e))}catch(n){i(n)}r(t)},this))};ei.prototype.removeItem=function(e){return new te(p.bind(function(r,i){try{this.storage.removeItem(e)}catch(t){i(t)}r()},this))};var bd=_r("batch"),St=function(e,r){r=r||{},this.storageKey=e,this.usePersistence=r.usePersistence,this.usePersistence&&(this.queueStorage=r.queueStorage||new ei,this.lock=new mv(e,{storage:r.sharedLockStorage||A.localStorage,timeoutMS:r.sharedLockTimeoutMS})),this.reportError=r.errorReporter||p.bind(bd.error,bd),this.pid=r.pid||null,this.memQueue=[],this.initialized=!1,r.enqueueThrottleMs?this.enqueuePersisted=Kx(p.bind(this._enqueuePersisted,this),r.enqueueThrottleMs):this.enqueuePersisted=p.bind(function(i){return this._enqueuePersisted([i])},this)};St.prototype.ensureInit=function(){return this.initialized||!this.usePersistence?te.resolve():this.queueStorage.init().then(p.bind(function(){this.initialized=!0},this)).catch(p.bind(function(e){this.reportError("Error initializing queue persistence. Disabling persistence",e),this.initialized=!0,this.usePersistence=!1},this))};St.prototype.enqueue=function(e,r){var i={id:Cl(),flushAfter:new Date().getTime()+r*2,payload:e};return this.usePersistence?this.enqueuePersisted(i):(this.memQueue.push(i),te.resolve(!0))};St.prototype._enqueuePersisted=function(e){var r=p.bind(function(){return this.ensureInit().then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(i){return this.saveToStorage(i.concat(e))},this)).then(p.bind(function(i){return i&&(this.memQueue=this.memQueue.concat(e)),i},this)).catch(p.bind(function(i){return this.reportError("Error enqueueing items",i,e),!1},this))},this);return this.lock.withLock(r,this.pid).catch(p.bind(function(i){return this.reportError("Error acquiring storage lock",i),!1},this))};St.prototype.fillBatch=function(e){var r=this.memQueue.slice(0,e);return this.usePersistence&&r.length<e?this.ensureInit().then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(i){if(i.length){var t={};p.each(r,function(s){t[s.id]=!0});for(var n=0;n<i.length;n++){var o=i[n];if(new Date().getTime()>o.flushAfter&&!t[o.id]&&(o.orphaned=!0,r.push(o),r.length>=e))break}}return r},this)):te.resolve(r)};var wd=function(e,r){var i=[];return p.each(e,function(t){t.id&&!r[t.id]&&i.push(t)}),i};St.prototype.removeItemsByID=function(e){var r={};if(p.each(e,function(t){r[t]=!0}),this.memQueue=wd(this.memQueue,r),this.usePersistence){var i=p.bind(function(){return this.ensureInit().then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(t){return t=wd(t,r),this.saveToStorage(t)},this)).then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(t){for(var n=0;n<t.length;n++){var o=t[n];if(o.id&&r[o.id])throw new Error("Item not removed from storage")}return!0},this)).catch(p.bind(function(t){return this.reportError("Error removing items",t,e),!1},this))},this);return this.lock.withLock(i,this.pid).catch(p.bind(function(t){return this.reportError("Error acquiring storage lock",t),zi(this.lock.storage,!0)?!1:i().then(p.bind(function(n){return n||this.queueStorage.removeItem(this.storageKey).then(function(){return n})},this)).catch(p.bind(function(n){return this.reportError("Error clearing queue",n),!1},this))},this))}else return te.resolve(!0)};var Sd=function(e,r){var i=[];return p.each(e,function(t){var n=t.id;if(n in r){var o=r[n];o!==null&&(t.payload=o,i.push(t))}else i.push(t)}),i};St.prototype.updatePayloads=function(e){return this.memQueue=Sd(this.memQueue,e),this.usePersistence?this.lock.withLock(p.bind(function(){return this.ensureInit().then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(i){return i=Sd(i,e),this.saveToStorage(i)},this)).catch(p.bind(function(i){return this.reportError("Error updating items",e,i),!1},this))},this),this.pid).catch(p.bind(function(r){return this.reportError("Error acquiring storage lock",r),!1},this)):te.resolve(!0)};St.prototype.readFromStorage=function(){return this.ensureInit().then(p.bind(function(){return this.queueStorage.getItem(this.storageKey)},this)).then(p.bind(function(e){return e&&(p.isArray(e)||(this.reportError("Invalid storage entry:",e),e=null)),e||[]},this)).catch(p.bind(function(e){return this.reportError("Error retrieving queue",e),[]},this))};St.prototype.saveToStorage=function(e){return this.ensureInit().then(p.bind(function(){return this.queueStorage.setItem(this.storageKey,e)},this)).then(function(){return!0}).catch(p.bind(function(r){return this.reportError("Error saving queue",r),!1},this))};St.prototype.clear=function(){return this.memQueue=[],this.usePersistence?this.ensureInit().then(p.bind(function(){return this.queueStorage.removeItem(this.storageKey)},this)):te.resolve()};var cC=600*1e3,xi=_r("batch"),nt=function(e,r){this.errorReporter=r.errorReporter,this.queue=new St(e,{errorReporter:p.bind(this.reportError,this),queueStorage:r.queueStorage,sharedLockStorage:r.sharedLockStorage,sharedLockTimeoutMS:r.sharedLockTimeoutMS,usePersistence:r.usePersistence,enqueueThrottleMs:r.enqueueThrottleMs}),this.libConfig=r.libConfig,this.sendRequest=r.sendRequestFunc,this.beforeSendHook=r.beforeSendHook,this.stopAllBatching=r.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={},this.flushOnlyOnInterval=r.flushOnlyOnInterval||!1,this._flushPromise=null};nt.prototype.enqueue=function(e){return this.queue.enqueue(e,this.flushInterval)};nt.prototype.start=function(){return this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};nt.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};nt.prototype.clear=function(){return this.queue.clear()};nt.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};nt.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};nt.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(p.bind(function(){this.stopped||(this._flushPromise=this.flush())},this),this.flushInterval))};nt.prototype.sendRequestPromise=function(e,r){return new te(p.bind(function(i){this.sendRequest(e,r,i)},this))};nt.prototype.flush=function(e){if(this.requestInProgress)return xi.log("Flush: Request already in progress"),te.resolve();this.requestInProgress=!0,e=e||{};var r=this.libConfig.batch_request_timeout_ms,i=new Date().getTime(),t=this.batchSize;return this.queue.fillBatch(t).then(p.bind(function(n){var o=n.length===t,s=[],a={};if(p.each(n,function(c){var d=c.payload;if(this.beforeSendHook&&!c.orphaned&&(d=this.beforeSendHook(d)),d){d.event&&d.properties&&(d.properties=p.extend({},d.properties,{mp_sent_by_lib_version:Qe.LIB_VERSION}));var g=!0,v=c.id;v?(this.itemIdsSentSuccessfully[v]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:c,batchSize:n.length,timesSent:this.itemIdsSentSuccessfully[v]}),g=!1):this.reportError("[dupe] found item with no ID",{item:c}),g&&s.push(d)}a[c.id]=d},this),s.length<1)return this.requestInProgress=!1,this.resetFlush(),te.resolve();var u=p.bind(function(){return this.queue.removeItemsByID(p.map(n,function(c){return c.id})).then(p.bind(function(c){return p.each(n,p.bind(function(d){var g=d.id;g?(this.itemIdsSentSuccessfully[g]=this.itemIdsSentSuccessfully[g]||0,this.itemIdsSentSuccessfully[g]++,this.itemIdsSentSuccessfully[g]>5&&this.reportError("[dupe] item ID sent too many times",{item:d,batchSize:n.length,timesSent:this.itemIdsSentSuccessfully[g]})):this.reportError("[dupe] found item with no ID while removing",{item:d})},this)),c?(this.consecutiveRemovalFailures=0,this.flushOnlyOnInterval&&!o?(this.resetFlush(),te.resolve()):this.flush()):(++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush(),te.resolve())},this))},this),l=p.bind(function(c){this.requestInProgress=!1;try{if(e.unloading)return this.queue.updatePayloads(a);if(p.isObject(c)&&c.error==="timeout"&&new Date().getTime()-i>=r)return this.reportError("Network timeout; retrying"),this.flush();if(p.isObject(c)&&(c.httpStatusCode>=500||c.httpStatusCode===429||c.httpStatusCode<=0&&!Zx()||c.error==="timeout")){var d=this.flushInterval*2;return c.retryAfter&&(d=parseInt(c.retryAfter,10)*1e3||d),d=Math.min(cC,d),this.reportError("Error; retry in "+d+" ms"),this.scheduleFlush(d),te.resolve()}else if(p.isObject(c)&&c.httpStatusCode===413)if(n.length>1){var g=Math.max(1,Math.floor(t/2));return this.batchSize=Math.min(this.batchSize,g,n.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush(),te.resolve()}else return this.reportError("Single-event request too large; dropping",n),this.resetBatchSize(),u();else return u()}catch(v){this.reportError("Error handling API response",v),this.resetFlush()}},this),f={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:r};return e.unloading&&(f.transport="sendBeacon"),xi.log("MIXPANEL REQUEST:",s),this.sendRequestPromise(s,f).then(l)},this)).catch(p.bind(function(n){this.reportError("Error flushing request queue",n),this.resetFlush()},this))};nt.prototype.reportError=function(e,r){if(xi.error.apply(xi.error,arguments),this.errorReporter)try{r instanceof Error||(r=new Error(e)),this.errorReporter(e,r)}catch(i){xi.error(i)}};var Al=function(e){var r=Date.now();return!e||r>e.maxExpires||r>e.idleExpires},fC=250,Wi="change",$t="click",Mu="hashchange",dC="input",xd="load",Wt="mp_locationchange",Cd="popstate",_s="scrollend",Nl="scroll",hC="select",Vo="submit",pC="toggle",kd="visibilitychange",vC=["clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","x","y"],Id=["mp-include"],Pu=["mp-no-track"],Ed=Pu.concat(["mp-sensitive"]),mC=["aria-label","aria-labelledby","aria-describedby","href","name","role","title","type"],gC={button:!0,checkbox:!0,combobox:!0,grid:!0,link:!0,listbox:!0,menu:!0,menubar:!0,menuitem:!0,menuitemcheckbox:!0,menuitemradio:!0,navigation:!0,option:!0,radio:!0,radiogroup:!0,searchbox:!0,slider:!0,spinbutton:!0,switch:!0,tab:!0,tablist:!0,textbox:!0,tree:!0,treegrid:!0,treeitem:!0},yC={base:!0,head:!0,html:!0,link:!0,meta:!0,script:!0,style:!0,title:!0,br:!0,hr:!0,wbr:!0,noscript:!0,picture:!0,source:!0,template:!0,track:!0},_C={article:!0,div:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,p:!0,section:!0,span:!0},Od=["onclick","onmousedown","onmouseup","onpointerdown","onpointerup","ontouchend","ontouchstart"],bC=5,de=_r("autocapture");function Tu(e){for(var r={},i=gv(e).split(" "),t=0;t<i.length;t++){var n=i[t];n&&(r[n]=!0)}return r}function gv(e){switch(typeof e.className){case"string":return e.className;case"object":return e.className.baseVal||e.getAttribute("class")||"";default:return""}}function wC(e){if(e.previousElementSibling)return e.previousElementSibling;do e=e.previousSibling;while(e&&!yv(e));return e}function Ad(e,r,i,t,n,o){var s={$classes:gv(e).split(" "),$tag_name:e.tagName.toLowerCase()},a=e.id;a&&(s.$id=a),Ml(e,r,n,o)&&p.each(mC.concat(t),function(c){if(e.hasAttribute(c)&&!i[c]){var d=e.getAttribute(c);qo(d)&&(s["$attr-"+c]=d)}});for(var u=1,l=1,f=e;f=wC(f);)u++,f.tagName===e.tagName&&l++;return s.$nth_child=u,s.$nth_of_type=l,s}function SC(e,r){var i=r.allowElementCallback,t=r.allowSelectors||[],n=r.blockAttrs||[],o=r.blockElementCallback,s=r.blockSelectors||[],a=r.captureTextContent||!1,u=r.captureExtraAttrs||[],l=r.capturedForHeatMap||!1,f={};p.each(n,function(x){f[x]=!0});var c=null,d=typeof e.target>"u"?e.srcElement:e.target;if(_v(d)&&(d=d.parentNode),IC(d,e)&&Ru(d,e,i,t)&&!Oa(d,e,o,s)){for(var g=[d],v=d;v.parentNode&&!bt(v,"body");)g.push(v.parentNode),v=v.parentNode;var _=[],m,y=!1;if(p.each(g,function(x){var I=Ml(x,e,i,t);!f.href&&x.tagName.toLowerCase()==="a"&&(m=x.getAttribute("href"),m=I&&qo(m)&&m),Oa(x,e,o,s)&&(y=!0),_.push(Ad(x,e,f,u,i,t))},this),!y){var w=V.documentElement;if(c={$event_type:e.type,$host:A.location.host,$pathname:A.location.pathname,$elements:_,$el_attr__href:m,$viewportHeight:Math.max(w.clientHeight,A.innerHeight||0),$viewportWidth:Math.max(w.clientWidth,A.innerWidth||0),$pageHeight:V.body.offsetHeight||0,$pageWidth:V.body.offsetWidth||0},p.each(u,function(x){if(!f[x]&&d.hasAttribute(x)){var I=d.getAttribute(x);qo(I)&&(c["$el_attr__"+x]=I)}}),a&&(S=Nd(d,e,i,t),S&&S.length&&(c.$el_text=S)),e.type===$t&&(p.each(vC,function(x){x in e&&(c["$"+x]=e[x])}),l&&(c.$captured_for_heatmap=!0),d=xC(e)),a){var S=Nd(d,e,i,t);S&&S.length&&(c.$el_text=S)}if(d){if(!Ru(d,e,i,t)||Oa(d,e,o,s))return null;var C=Ad(d,e,f,u,i,t);c.$target=C,c.$el_classes=C.$classes,p.extend(c,p.strip_empty_properties({$el_id:C.$id,$el_tag_name:C.$tag_name}))}}}return c}function Nd(e,r,i,t){var n="";return Ml(e,r,i,t)&&e.childNodes&&e.childNodes.length&&p.each(e.childNodes,function(o){_v(o)&&o.textContent&&(n+=p.trim(o.textContent).split(/(\s+)/).filter(qo).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),p.trim(n)}function xC(e){for(var r=e.target,i=e.composedPath(),t=0;t<i.length;t++){var n=i[t];if(bt(n,"a")||bt(n,"button")||bt(n,"input")||bt(n,"select")||n.getAttribute&&n.getAttribute("role")==="button"){r=n;break}if(n===r)break}return r}function Ru(e,r,i,t){if(i)try{if(!i(e,r))return!1}catch(s){return de.critical("Error while checking element in allowElementCallback",s),!1}if(!t.length)return!0;for(var n=0;n<t.length;n++){var o=t[n];try{if(e.matches(o))return!0}catch(s){de.critical("Error while checking selector: "+o,s)}}return!1}function Oa(e,r,i,t){var n;if(i)try{if(i(e,r))return!0}catch(a){return de.critical("Error while checking element in blockElementCallback",a),!0}if(t&&t.length)for(n=0;n<t.length;n++){var o=t[n];try{if(e.matches(o))return!0}catch(a){de.critical("Error while checking selector: "+o,a)}}var s=Tu(e);for(n=0;n<Pu.length;n++)if(s[Pu[n]])return!0;return!1}function yv(e){return e&&e.nodeType===1}function bt(e,r){return e&&e.tagName&&e.tagName.toLowerCase()===r.toLowerCase()}function _v(e){return e&&e.nodeType===3}function CC(){try{var e=V.createElement("div");return!!e.matches}catch{return!1}}function kC(){return typeof WeakSet<"u"}function IC(e,r){if(!e||bt(e,"html")||!yv(e))return!1;var i=e.tagName.toLowerCase();switch(i){case"form":return r.type===Vo;case"input":return["button","submit"].indexOf(e.getAttribute("type"))===-1?r.type===Wi:r.type===$t;case"select":case"textarea":return r.type===Wi;default:return r.type===$t}}function bv(e){var r=(e.name||e.id||"").toString().toLowerCase();if(typeof r=="string"){var i=/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i;if(i.test(r.replace(/[^a-zA-Z0-9]/g,"")))return!0}return!1}function Ml(e,r,i,t){var n;if(!Ru(e,r,i,t))return!1;for(var o=e;o.parentNode&&!bt(o,"body");o=o.parentNode){var s=Tu(o);for(n=0;n<Ed.length;n++)if(s[Ed[n]])return!1}var a=Tu(e);for(n=0;n<Id.length;n++)if(a[Id[n]])return!0;if(bt(e,"input")||bt(e,"select")||bt(e,"textarea")||e.getAttribute("contenteditable")==="true")return!1;var u=e.type||"";if(typeof u=="string")switch(u.toLowerCase()){case"hidden":return!1;case"password":return!1}return!bv(e)}function qo(e){if(e===null||p.isUndefined(e))return!1;if(typeof e=="string"){e=p.trim(e);var r=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(r.test((e||"").replace(/[- ]/g,"")))return!1;var i=/(^\d{3}-?\d{2}-?\d{4}$)/;if(i.test(e))return!1}return!0}function wv(e){var r="onscrollend"in A,i=ji(e),t=_s;if(!r){var n=null,o=100;i=ji(function(){clearTimeout(n),n=setTimeout(e,o)}),t=Nl}return{listener:i,eventType:t}}function EC(e){for(var r=0;r<Od.length;r++)if(e.hasAttribute(Od[r]))return!0;return!1}function OC(e){var r=e.getAttribute("role");if(!r)return!1;var i=r.trim().split(/\s+/)[0].toLowerCase();return gC[i]}function Aa(e){var r=e.tagName.toLowerCase();return!!(r==="button"||r==="input"||r==="select"||r==="textarea"||r==="details"||r==="dialog"||e.isContentEditable||e.onclick||e.onmousedown||e.onmouseup||e.ontouchstart||e.ontouchend||EC(e)||OC(e)||r==="a"&&e.hasAttribute("href")||e.hasAttribute("tabindex"))}function Sv(e){if(!e||!e.tagName)return!0;var r=e.tagName.toLowerCase();if(yC[r])return!0;if(Aa(e))return!1;for(var i=e.parentElement,t=0;i&&t<bC;){if(Aa(i))return!1;if(i.getRootNode&&i.getRootNode()!==V){var n=i.getRootNode();if(n.host&&Aa(n.host))return!1}i=i.parentElement,t++}return!!_C[r]}function xv(e){return"composedPath"in e?e.composedPath():[]}function Cv(e){var r=xv(e);return r&&r.length>0?r[0]:e.target||e.srcElement}var kv=".mp-mask, .fs-mask, .amp-mask, .rr-mask, .ph-mask",AC="data-rr-is-password",NC=["password","email","tel","hidden"];function ho(e){return e?Array.isArray(e)?e:[e]:[]}function MC(e){var r={input:{maskingSelector:"",unmaskingSelector:"",maskAll:!0},text:{maskingSelector:"",unmaskingSelector:"",maskAll:!0}},i=e.get_config("record_mask_input_selector"),t=e.get_config("record_unmask_input_selector"),n=e.get_config("record_mask_all_inputs");r.input.maskingSelector=ho(i).join(","),r.input.unmaskingSelector=ho(t).join(","),n!==void 0&&(r.input.maskAll=n);var o=e.get_config("record_mask_text_selector"),s=e.get_config("record_unmask_text_selector"),a=e.get_config("record_mask_all_text"),u=e.get_config("record_mask_text_class"),l=ho(o);if(u)if(u instanceof RegExp)r.text._legacyClassRegex=u;else{var f="."+u;l.indexOf(f)===-1&&l.push(f)}return r.text.maskingSelector=l.join(","),r.text.unmaskingSelector=ho(s).join(","),a===void 0&&o!==void 0?r.text.maskAll=!1:a!==void 0&&(r.text.maskAll=a),r}function Lr(e,r){return r?!!e.closest(r):!1}function PC(e,r){var i=(e.getAttribute("type")||"").toLowerCase();if(NC.indexOf(i)!==-1)return!0;var t=(e.getAttribute("autocomplete")||"").toLowerCase();return t&&t!==""&&t!=="off"||e.hasAttribute(AC)||bv(e)?!0:r.input.maskAll?!Lr(e,r.input.unmaskingSelector):!!(Lr(e,r.input.maskingSelector)||Lr(e,kv))}function TC(e,r){return e?r.text._legacyClassRegex&&fu(e,r.text._legacyClassRegex)?!0:r.text.maskAll?!Lr(e,r.text.unmaskingSelector):!!(Lr(e,r.text.maskingSelector)||Lr(e,kv)):!1}var Fr=_r("recorder"),RC=A.CompressionStream,$C={batch_size:1e3,batch_flush_interval_ms:10*1e3,batch_request_timeout_ms:90*1e3,batch_autostart:!0},DC=new Set([W.MouseMove,W.MouseInteraction,W.Scroll,W.ViewportResize,W.Input,W.TouchMove,W.MediaInteraction,W.Drag,W.Selection]);function LC(e){return e.type===ee.IncrementalSnapshot&&DC.has(e.data.source)}var De=function(e){this._mixpanel=e.mixpanelInstance,this._onIdleTimeout=e.onIdleTimeout||Vt,this._onMaxLengthReached=e.onMaxLengthReached||Vt,this._onBatchSent=e.onBatchSent||Vt,this._rrwebRecord=e.rrwebRecord||null,this._stopRecording=null,this.replayId=e.replayId,this.batchStartUrl=e.batchStartUrl||null,this.replayStartUrl=e.replayStartUrl||null,this.idleExpires=e.idleExpires||null,this.maxExpires=e.maxExpires||null,this.replayStartTime=e.replayStartTime||null,this.lastEventTimestamp=e.lastEventTimestamp||null,this.seqNo=e.seqNo||0,this.idleTimeoutId=null,this.maxTimeoutId=null,this.recordMaxMs=Si,this.recordMinMs=0;var r=zi(e.sharedLockStorage,!0)&&!this.getConfig("disable_persistence");this.batcherKey="__mprec_"+this.getConfig("name")+"_"+this.getConfig("token")+"_"+this.replayId,this.queueStorage=new dt(dv),this.batcher=new nt(this.batcherKey,{errorReporter:this.reportError.bind(this),flushOnlyOnInterval:!0,libConfig:$C,sendRequestFunc:this.flushEventsWithOptOut.bind(this),queueStorage:this.queueStorage,sharedLockStorage:e.sharedLockStorage,usePersistence:r,stopAllBatchingFunc:this.stopRecording.bind(this),enqueueThrottleMs:fC,sharedLockTimeoutMS:10*1e3})};De.prototype.getUserIdInfo=function(){if(this.finalFlushUserIdInfo)return this.finalFlushUserIdInfo;var e={distinct_id:String(this._mixpanel.get_distinct_id())},r=this._mixpanel.get_property("$device_id");r&&(e.$device_id=r);var i=this._mixpanel.get_property("$user_id");return i&&(e.$user_id=i),e};De.prototype.unloadPersistedData=function(){return this.batcher.stop(),this.queueStorage.init().catch(function(){this.reportError("Error initializing IndexedDB storage for unloading persisted data.")}.bind(this)).then(function(){return this.getDurationMs()<this._getRecordMinMs()?this.queueStorage.removeItem(this.batcherKey):this.batcher.flush().then(function(){return this.queueStorage.removeItem(this.batcherKey)}.bind(this))}.bind(this))};De.prototype.getConfig=function(e){return this._mixpanel.get_config(e)};De.prototype.get_config=function(e){return this.getConfig(e)};De.prototype.startRecording=function(e){if(this._rrwebRecord===null){this.reportError("rrweb record function not provided. ");return}if(this._stopRecording!==null){Fr.log("Recording already in progress, skipping startRecording.");return}this.recordMaxMs=this.getConfig("record_max_ms"),this.recordMaxMs>Si&&(this.recordMaxMs=Si,Fr.critical("record_max_ms cannot be greater than "+Si+"ms. Capping value.")),this.maxExpires||(this.maxExpires=new Date().getTime()+this.recordMaxMs),this.recordMinMs=this._getRecordMinMs(),this.replayStartTime||(this.replayStartTime=new Date().getTime(),this.batchStartUrl=p.info.currentUrl(),this.replayStartUrl=p.info.currentUrl()),e||this.recordMinMs>0?this.batcher.stop():this.batcher.start();var r=function(){clearTimeout(this.idleTimeoutId);var o=this.getConfig("record_idle_timeout_ms");this.idleTimeoutId=setTimeout(this._onIdleTimeout,o),this.idleExpires=new Date().getTime()+o}.bind(this);r();var i=this.getConfig("record_block_selector");(i===""||i===null)&&(i=void 0);var t=MC(this._mixpanel);try{this._stopRecording=this._rrwebRecord({emit:function(o){if(this.idleExpires&&this.idleExpires<o.timestamp){this._onIdleTimeout();return}LC(o)&&(this.batcher.stopped&&new Date().getTime()-this.replayStartTime>=this.recordMinMs&&this.batcher.start(),r()),this.__enqueuePromise=this.batcher.enqueue(o),(this.lastEventTimestamp===null||o.timestamp>this.lastEventTimestamp)&&(this.lastEventTimestamp=o.timestamp)}.bind(this),blockClass:this.getConfig("record_block_class"),blockSelector:i,collectFonts:this.getConfig("record_collect_fonts"),dataURLOptions:{type:"image/webp",quality:.6},maskAllInputs:!0,maskTextSelector:"*",maskInputFn:this._getMaskFn(PC,t),maskTextFn:this._getMaskFn(TC,t),recordCanvas:this.getConfig("record_canvas"),sampling:{canvas:15},plugins:this.getConfig("record_console")?[Fx({stringifyOptions:{stringLengthLimit:1e3,numOfKeysLimit:50,depthOfLimit:2}})]:[]})}catch(o){this.reportError("Unexpected error when starting rrweb recording.",o)}if(typeof this._stopRecording!="function"){this.reportError("rrweb failed to start, skipping this recording."),this._stopRecording=null,this.stopRecording();return}var n=this.maxExpires-new Date().getTime();this.maxTimeoutId=setTimeout(this._onMaxLengthReached.bind(this),n)};De.prototype.stopRecording=function(e){if(this.finalFlushUserIdInfo=this.getUserIdInfo(),!this.isRrwebStopped()){try{this._stopRecording()}catch(i){this.reportError("Error with rrweb stopRecording",i)}this._stopRecording=null}var r;return this.batcher.stopped?r=this.batcher.clear():e||(r=this.batcher.flush()),this.batcher.stop(),clearTimeout(this.idleTimeoutId),clearTimeout(this.maxTimeoutId),r};De.prototype.isRrwebStopped=function(){return this._stopRecording===null};De.prototype.flushEventsWithOptOut=function(e,r,i){var t=function(n){n===0&&(this.stopRecording(),i({error:"Tracking has been opted out, stopping recording."}))}.bind(this);this._flushEvents(e,r,i,t)};De.prototype.serialize=function(){var e;try{e=this._mixpanel.get_tab_id()}catch(r){this.reportError("Error getting tab ID for serialization ",r),e=null}return{replayId:this.replayId,seqNo:this.seqNo,replayStartTime:this.replayStartTime,batchStartUrl:this.batchStartUrl,replayStartUrl:this.replayStartUrl,lastEventTimestamp:this.lastEventTimestamp,idleExpires:this.idleExpires,maxExpires:this.maxExpires,tabId:e}};De.deserialize=function(e,r){var i=new De(p.extend({},r,{replayId:e.replayId,batchStartUrl:e.batchStartUrl,replayStartUrl:e.replayStartUrl,idleExpires:e.idleExpires,maxExpires:e.maxExpires,replayStartTime:e.replayStartTime,lastEventTimestamp:e.lastEventTimestamp,seqNo:e.seqNo,sharedLockStorage:r.sharedLockStorage}));return i};De.prototype._sendRequest=function(e,r,i,t){var n=function(s,a){s.status===200&&this.replayId===e&&(this.seqNo++,this.batchStartUrl=p.info.currentUrl()),this._onBatchSent(),t({status:0,httpStatusCode:s.status,responseBody:a,retryAfter:s.headers.get("Retry-After")})}.bind(this),o=this._mixpanel.get_api_host&&this._mixpanel.get_api_host("record")||this.getConfig("api_host");A.fetch(o+"/"+this.getConfig("api_routes").record+"?"+new URLSearchParams(r),{method:"POST",headers:{Authorization:"Basic "+btoa(this.getConfig("token")+":"),"Content-Type":"application/octet-stream"},body:i}).then(function(s){s.json().then(function(a){n(s,a)}).catch(function(a){t({error:a})})}).catch(function(s){t({error:s,httpStatusCode:0})})};De.prototype._flushEvents=tr(function(e,r,i){var t=e.length;if(t>0){for(var n=this.replayId,o=1/0,s=-1/0,a=!1,u=0;u<t;u++)o=Math.min(o,e[u].timestamp),s=Math.max(s,e[u].timestamp),e[u].type===ee.FullSnapshot&&(a=!0);if(this.seqNo===0){if(!a){i({error:"First batch does not contain a full snapshot. Aborting recording."}),this.stopRecording(!0);return}this.replayStartTime=o}else this.replayStartTime||(this.reportError("Replay start time not set but seqNo is not 0. Using current batch start time as a fallback."),this.replayStartTime=o);var l=s-this.replayStartTime,f={$current_url:this.batchStartUrl,$lib_version:Qe.LIB_VERSION,batch_start_time:o/1e3,mp_lib:"web",replay_id:n,replay_length_ms:l,replay_start_time:this.replayStartTime/1e3,replay_start_url:this.replayStartUrl,seq:this.seqNo},c=JSON.stringify(e);if(Object.assign(f,this.getUserIdInfo()),Qx(_t,Nt.vendor,gi)){var d=new Blob([c],{type:"application/json"}).stream(),g=d.pipeThrough(new RC("gzip"));new Response(g).blob().then(function(v){f.format="gzip",this._sendRequest(n,f,v,i)}.bind(this))}else f.format="body",this._sendRequest(n,f,c,i)}});De.prototype.reportError=function(e,r){Fr.error.apply(Fr.error,arguments);try{!r&&!(e instanceof Error)&&(e=new Error(e)),this.getConfig("error_reporter")(e,r)}catch(i){Fr.error(i)}};De.prototype.getDurationMs=function(){return this.replayStartTime===null?0:this.lastEventTimestamp===null?new Date().getTime()-this.replayStartTime:this.lastEventTimestamp-this.replayStartTime};De.prototype._getRecordMinMs=function(){var e=this.getConfig("record_min_ms");return e>xa?(Fr.critical("record_min_ms cannot be greater than "+xa+"ms. Capping value."),xa):e};De.prototype._getMaskFn=function(e,r){return function(i,t){if(!i.trim().length)return"";var n=!0;try{n=e(t,r)}catch(s){this.reportError("Error checking if text should be masked, defaulting to masked",s)}if(n){var o=Math.min(i.length,1e4);return"*".repeat(o)}else return i}.bind(this)};var Dt=function(e){this.idb=new dt(kl),this.errorReporter=e.errorReporter,this.mixpanelInstance=e.mixpanelInstance,this.sharedLockStorage=e.sharedLockStorage};Dt.prototype.isPersistenceEnabled=function(){return!this.mixpanelInstance.get_config("disable_persistence")};Dt.prototype.handleError=function(e){this.errorReporter("IndexedDB error: ",e)};Dt.prototype.setActiveRecording=function(e){if(!this.isPersistenceEnabled())return te.resolve();var r=e.tabId;return r?this.idb.init().then(function(){return this.idb.setItem(r,e)}.bind(this)).catch(this.handleError.bind(this)):(console.warn("No tab ID is set, cannot persist recording metadata."),te.resolve())};Dt.prototype.getActiveRecording=function(){return this.isPersistenceEnabled()?this.idb.init().then(function(){return this.idb.getItem(this.mixpanelInstance.get_tab_id())}.bind(this)).then(function(e){return Al(e)?null:e}.bind(this)).catch(this.handleError.bind(this)):te.resolve(null)};Dt.prototype.clearActiveRecording=function(){return this.isPersistenceEnabled()?this.markActiveRecordingExpired():this.deleteActiveRecording()};Dt.prototype.markActiveRecordingExpired=function(){return this.getActiveRecording().then(function(e){if(e)return e.maxExpires=0,this.setActiveRecording(e)}.bind(this)).catch(this.handleError.bind(this))};Dt.prototype.deleteActiveRecording=function(){return this.idb.isInitialized()?this.idb.removeItem(this.mixpanelInstance.get_tab_id()).catch(this.handleError.bind(this)):te.resolve()};Dt.prototype.flushInactiveRecordings=function(){return this.isPersistenceEnabled()?this.idb.init().then(function(){return this.idb.getAll()}.bind(this)).then(function(e){var r=e.filter(function(i){return Al(i)}).map(function(i){var t=De.deserialize(i,{mixpanelInstance:this.mixpanelInstance,sharedLockStorage:this.sharedLockStorage});return t.unloadPersistedData().then(function(){return this.idb.removeItem(i.tabId)}.bind(this)).catch(this.handleError.bind(this))}.bind(this));return te.all(r)}.bind(this)).catch(this.handleError.bind(this)):te.resolve([])};var Ci=_r("recorder"),Lt=function(e,r,i){this.mixpanelInstance=e,this.rrwebRecord=r||Xt,this.sharedLockStorage=i,this.recordingRegistry=new Dt({mixpanelInstance:this.mixpanelInstance,errorReporter:Ci.error,sharedLockStorage:i}),this._flushInactivePromise=this.recordingRegistry.flushInactiveRecordings(),this.activeRecording=null,this.stopRecordingInProgress=!1};Lt.prototype.startRecording=function(e){if(e=e||{},this.activeRecording&&!this.activeRecording.isRrwebStopped()){Ci.log("Recording already in progress, skipping startRecording.");return}var r=function(){Ci.log("Idle timeout reached, restarting recording."),this.resetRecording()}.bind(this),i=function(){Ci.log("Max recording length reached, stopping recording."),this.resetRecording()}.bind(this),t=function(){this.recordingRegistry.setActiveRecording(this.activeRecording.serialize()),this.__flushPromise=this.activeRecording.batcher._flushPromise}.bind(this),n={mixpanelInstance:this.mixpanelInstance,onBatchSent:t,onIdleTimeout:r,onMaxLengthReached:i,replayId:p.UUID(),rrwebRecord:this.rrwebRecord,sharedLockStorage:this.sharedLockStorage};return e.activeSerializedRecording?this.activeRecording=De.deserialize(e.activeSerializedRecording,n):this.activeRecording=new De(n),this.activeRecording.startRecording(e.shouldStopBatcher),this.recordingRegistry.setActiveRecording(this.activeRecording.serialize())};Lt.prototype.stopRecording=function(){return this.stopRecordingInProgress=!0,this._stopCurrentRecording(!1,!0).then(function(){return this.recordingRegistry.clearActiveRecording()}.bind(this)).then(function(){this.stopRecordingInProgress=!1}.bind(this))};Lt.prototype.pauseRecording=function(){return this._stopCurrentRecording(!1)};Lt.prototype._stopCurrentRecording=function(e,r){if(this.activeRecording){var i=this.activeRecording.stopRecording(e);return r&&(this.activeRecording=null),i}return te.resolve()};Lt.prototype.resumeRecording=function(e){return this.activeRecording&&this.activeRecording.isRrwebStopped()?(this.activeRecording.startRecording(!1),te.resolve(null)):this.recordingRegistry.getActiveRecording().then(function(r){return r&&!this.stopRecordingInProgress?this.startRecording({activeSerializedRecording:r}):e?this.startRecording({shouldStopBatcher:!1}):(Ci.log("No resumable recording found."),null)}.bind(this))};Lt.prototype.resetRecording=function(){this.stopRecording(),this.startRecording({shouldStopBatcher:!0})};Lt.prototype.getActiveReplayId=function(){return this.activeRecording&&!this.activeRecording.isRrwebStopped()?this.activeRecording.replayId:null};Object.defineProperty(Lt.prototype,"replayId",{get:function(){return this.getActiveReplayId()}});A.__mp_recorder=Lt;var FC=30,BC=1e3,UC=4,jC=!1;function Iv(){this.clicks=[]}Iv.prototype.isRageClick=function(e,r){r=r||{};var i=r.threshold_px||FC,t=r.timeout_ms||BC,n=r.click_count||UC,o=r.interactive_elements_only||jC;if(o){var s=Cv(e);if(!s||Sv(s))return!1}var a=Date.now(),u=e.pageX,l=e.pageY,f=this.clicks[this.clicks.length-1];if(f&&a-f.timestamp<t&&Math.sqrt(Math.pow(u-f.x,2)+Math.pow(l-f.y,2))<i){if(this.clicks.push({x:u,y:l,timestamp:a}),this.clicks.length>=n)return this.clicks=[],!0}else this.clicks=[{x:u,y:l,timestamp:a}];return!1};function ti(e,r){this.changeCallback=e||function(){},this.observerConfig=r,this.observedShadowRoots=null,this.shadowObservers=[]}ti.prototype.getEventTarget=function(e){if(this.observedShadowRoots)return Cv(e)};ti.prototype.observeFromEvent=function(e){if(this.observedShadowRoots)for(var r=xv(e),i=0;i<r.length;i++){var t=r[i];t&&t.shadowRoot&&this.observeShadowRoot(t.shadowRoot)}};ti.prototype.observeShadowRoot=function(e){if(!(!this.observedShadowRoots||this.observedShadowRoots.has(e))){var r=this;try{this.observedShadowRoots.add(e);var i=new window.MutationObserver(function(){r.changeCallback()});i.observe(e,this.observerConfig),this.shadowObservers.push(i)}catch(t){de.critical("Error while observing shadow root",t)}}};ti.prototype.start=function(){if(!this.observedShadowRoots){if(!kC()){de.critical("Shadow DOM observation unavailable: WeakSet not supported");return}this.observedShadowRoots=new WeakSet}};ti.prototype.stop=function(){if(this.observedShadowRoots){for(var e=0;e<this.shadowObservers.length;e++)try{this.shadowObservers[e].disconnect()}catch(r){de.critical("Error while disconnecting shadow DOM observer",r)}this.shadowObservers=[],this.observedShadowRoots=null}};var zC=500,WC=[Wi,dC,Vo,hC,pC],VC=[_s],qC=[Mu],Md={characterData:!0,childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class","hidden","checked","selected","value","display","visibility"]};function xt(e){this.eventListeners=[],this.mutationObserver=null,this.shadowDOMObserver=null,this.isTracking=!1,this.lastChangeEventTimestamp=0,this.pendingClicks=[],this.onDeadClickCallback=e,this.processingActive=!1,this.processingTimeout=null}xt.prototype.addClick=function(e){var r=this.shadowDOMObserver&&this.shadowDOMObserver.getEventTarget(e);return r||(r=e.target||e.srcElement),!r||Sv(r)?!1:(this.shadowDOMObserver&&this.shadowDOMObserver.observeFromEvent(e),this.pendingClicks.push({element:r,event:e,timestamp:Date.now()}),!0)};xt.prototype.trackClick=function(e,r){if(!this.isTracking)return!1;var i=this.addClick(e);return i&&this.triggerProcessing(r),i};xt.prototype.getDeadClicks=function(e){if(this.pendingClicks.length===0)return[];var r=e.timeout_ms,i=Date.now(),t=this.pendingClicks.slice();this.pendingClicks=[];for(var n=[],o=0;o<t.length;o++){var s=t[o];i-s.timestamp>=r?this.hasChangesAfter(s.timestamp)||n.push(s):this.pendingClicks.push(s)}return n};xt.prototype.hasChangesAfter=function(e){return this.lastChangeEventTimestamp>=e-100};xt.prototype.recordChangeEvent=function(){this.lastChangeEventTimestamp=Date.now()};xt.prototype.triggerProcessing=function(e){this.processingActive||(this.processingActive=!0,this.processRecursively(e))};xt.prototype.processRecursively=function(e){if(!this.isTracking||!this.onDeadClickCallback){this.processingActive=!1;return}var r=e.timeout_ms,i=this;this.processingTimeout=setTimeout(function(){if(i.processingActive){for(var t=i.getDeadClicks(e),n=0;n<t.length;n++)i.onDeadClickCallback(t[n].event);i.pendingClicks.length>0?i.processRecursively(e):i.processingActive=!1}},r)};xt.prototype.startTracking=function(){if(!this.isTracking){this.isTracking=!0;var e=this;WC.forEach(function(i){var t=function(){e.recordChangeEvent()};document.addEventListener(i,t,{capture:!0,passive:!0}),e.eventListeners.push({target:document,event:i,handler:t,options:{capture:!0,passive:!0}})}),qC.forEach(function(i){var t=function(){e.recordChangeEvent()};window.addEventListener(i,t),e.eventListeners.push({target:window,event:i,handler:t})}),VC.forEach(function(i){var t=function(){e.recordChangeEvent()};window.addEventListener(i,t,{passive:!0}),e.eventListeners.push({target:window,event:i,handler:t,options:{passive:!0}})});var r=function(){e.recordChangeEvent()};if(document.addEventListener("selectionchange",r),e.eventListeners.push({target:document,event:"selectionchange",handler:r}),window.MutationObserver)try{this.mutationObserver=new window.MutationObserver(function(){e.recordChangeEvent()}),this.mutationObserver.observe(document.body||document.documentElement,Md)}catch(i){de.critical("Error while setting up mutation observer",i)}if(window.customElements)try{this.shadowDOMObserver=new ti(function(){e.recordChangeEvent()},Md),this.shadowDOMObserver.start()}catch(i){de.critical("Error while setting up shadow DOM observer",i),this.shadowDOMObserver=null}}};xt.prototype.stopTracking=function(){if(this.isTracking){this.isTracking=!1,this.pendingClicks=[],this.lastChangeEventTimestamp=0,this.processingActive=!1,this.processingTimeout&&(clearTimeout(this.processingTimeout),this.processingTimeout=null);for(var e=0;e<this.eventListeners.length;e++){var r=this.eventListeners[e];try{r.target.removeEventListener(r.event,r.handler,r.options)}catch(i){de.critical("Error while removing event listener",i)}}if(this.eventListeners=[],this.mutationObserver){try{this.mutationObserver.disconnect()}catch(i){de.critical("Error while disconnecting mutation observer",i)}this.mutationObserver=null}if(this.shadowDOMObserver){try{this.shadowDOMObserver.stop()}catch(i){de.critical("Error while stopping shadow DOM observer",i)}this.shadowDOMObserver=null}}};var Ev="autocapture",GC="track_pageview",Ov="full-url",HC="url-with-path-and-query-string",KC="url-with-path",YC="allow_element_callback",Av="allow_selectors",Nv="allow_url_regexes",Mv="block_attrs",Pv="block_element_callback",Tv="block_selectors",Rv="block_url_regexes",$v="capture_extra_attrs",Dv="capture_text_content",Lv="scroll_capture_all",Fv="scroll_depth_percent_checkpoints",Go="click",Ho="dead_click",$u="input",Bv="pageview",Ko="rage_click",Du="scroll",bs="page_leave",Lu="submit",Le={};Le[Av]=[];Le[Nv]=[];Le[Mv]=[];Le[Pv]=null;Le[Tv]=[];Le[Rv]=[];Le[$v]=[];Le[Dv]=!1;Le[Lv]=!1;Le[Fv]=[25,50,75,100];Le[Go]=!0;Le[Ho]=!0;Le[$u]=!0;Le[Bv]=Ov;Le[Ko]=!0;Le[Du]=!0;Le[bs]=!1;Le[Lu]=!0;var Vi={$mp_autocapture:!0},Uv="$mp_click",jv="$mp_dead_click",JC="$mp_input_change",zv="$mp_rage_click",XC="$mp_scroll",ZC="$mp_submit",QC="$mp_page_leave",Re=function(e){this.mp=e,this.maxScrollViewDepth=0,this.hasTrackedScrollSession=!1,this.previousScrollHeight=0};Re.prototype.init=function(){if(!CC()){de.critical("Autocapture unavailable: missing required DOM APIs");return}this.initPageListeners(),this.initPageviewTracking(),this.initClickTracking(),this.initDeadClickTracking(),this.initInputTracking(),this.initScrollTracking(),this.initSubmitTracking(),this.initRageClickTracking(),this.initPageLeaveTracking()};Re.prototype.getFullConfig=function(){var e=this.mp.get_config(Ev);return e?p.isObject(e)?p.extend({},Le,e):Le:{}};Re.prototype.getConfig=function(e){return this.getFullConfig()[e]};Re.prototype.currentUrlBlocked=function(){var e,r=p.info.currentUrl(),i=this.getConfig(Nv)||[];if(i.length){var t=!1;for(e=0;e<i.length;e++){var n=i[e];try{if(r.match(n)){t=!0;break}}catch(s){return de.critical("Error while checking block URL regex: "+n,s),!0}}if(!t)return!0}var o=this.getConfig(Rv)||[];if(!o||!o.length)return!1;for(e=0;e<o.length;e++)try{if(r.match(o[e]))return!0}catch(s){return de.critical("Error while checking block URL regex: "+o[e],s),!0}return!1};Re.prototype.pageviewTrackingConfig=function(){return this.mp.get_config(Ev)?this.getConfig(Bv):this.mp.get_config(GC)};Re.prototype.trackDomEvent=function(e,r){if(!this.currentUrlBlocked()){var i=this.mp.is_recording_heatmap_data()&&(r===Uv&&!this.getConfig(Go)||r===zv&&!this._getClickTrackingConfig(Ko)||r===jv&&!this._getClickTrackingConfig(Ho)),t=SC(e,{allowElementCallback:this.getConfig(YC),allowSelectors:this.getConfig(Av),blockAttrs:this.getConfig(Mv),blockElementCallback:this.getConfig(Pv),blockSelectors:this.getConfig(Tv),captureExtraAttrs:this.getConfig($v),captureTextContent:this.getConfig(Dv),capturedForHeatMap:i});t&&(p.extend(t,Vi),this.mp.track(r,t))}};Re.prototype.initPageListeners=function(){if(A.removeEventListener(Cd,this.listenerPopstate),A.removeEventListener(Mu,this.listenerHashchange),!(!this.pageviewTrackingConfig()&&!this.getConfig(bs)&&!this.mp.get_config("record_heatmap_data"))){this.listenerPopstate=function(){A.dispatchEvent(new Event(Wt))},this.listenerHashchange=function(){A.dispatchEvent(new Event(Wt))},A.addEventListener(Cd,this.listenerPopstate),A.addEventListener(Mu,this.listenerHashchange);var e=A.history.pushState;typeof e=="function"&&(A.history.pushState=function(i,t,n){e.call(A.history,i,t,n),A.dispatchEvent(new Event(Wt))});var r=A.history.replaceState;typeof r=="function"&&(A.history.replaceState=function(i,t,n){r.call(A.history,i,t,n),A.dispatchEvent(new Event(Wt))})}};Re.prototype._getClickTrackingConfig=function(e){var r=this.getConfig(e);return r?r===!0?{}:typeof r=="object"?r:{}:null};Re.prototype._trackPageLeave=function(e,r,i){if(!this.hasTrackedScrollSession&&!(!this.getConfig(bs)&&!this.mp.is_recording_heatmap_data())){this.hasTrackedScrollSession=!0;var t=Math.max(V.documentElement.clientHeight,A.innerHeight||0),n=Math.round(Math.max(this.maxScrollViewDepth-t,0)/(i-t)*100),o=Math.round(t/i*100);i<=t&&(n=100,o=100);var s=p.extend({$max_scroll_view_depth:this.maxScrollViewDepth,$max_scroll_percentage:n,$fold_line_percentage:o,$scroll_height:i,$event_type:e.type,$current_url:r||p.info.currentUrl(),$viewportHeight:t,$viewportWidth:Math.max(V.documentElement.clientWidth,A.innerWidth||0),$captured_for_heatmap:this.mp.is_recording_heatmap_data()},Vi);this.mp.track(QC,s,{transport:"sendBeacon"})}};Re.prototype._initScrollDepthTracking=function(){if(A.removeEventListener(Nl,this.listenerScrollDepth),A.removeEventListener(_s,this.listenerScrollDepth),!!this.mp.get_config("record_heatmap_data")){de.log("Initializing scroll depth tracking"),this.maxScrollViewDepth=Math.max(V.documentElement.clientHeight,A.innerHeight||0);var e=function(){if(!this.currentUrlBlocked()){var i=Math.max(V.documentElement.clientHeight,A.innerHeight||0)+A.scrollY;i>this.maxScrollViewDepth&&(this.maxScrollViewDepth=i),this.previousScrollHeight=V.body.scrollHeight}}.bind(this),r=wv(e);this.listenerScrollDepth=r.listener,A.addEventListener(r.eventType,this.listenerScrollDepth)}};Re.prototype.initClickTracking=function(){A.removeEventListener($t,this.listenerClick),!(!this.getConfig(Go)&&!this.mp.get_config("record_heatmap_data"))&&(de.log("Initializing click tracking"),this.listenerClick=function(e){!this.getConfig(Go)&&!this.mp.is_recording_heatmap_data()||this.trackDomEvent(e,Uv)}.bind(this),A.addEventListener($t,this.listenerClick))};Re.prototype.initDeadClickTracking=function(){var e=this._getClickTrackingConfig(Ho);if(!e&&!this.mp.get_config("record_heatmap_data")){this.stopDeadClickTracking();return}de.log("Initializing dead click tracking"),this._deadClickTracker||(this._deadClickTracker=new xt(function(r){this.trackDomEvent(r,jv)}.bind(this)),this._deadClickTracker.startTracking()),this.listenerDeadClick||(this.listenerDeadClick=function(r){var i=this._getClickTrackingConfig(Ho);if(!(!i&&!this.mp.is_recording_heatmap_data())&&!this.currentUrlBlocked()){var t=i||{};t.timeout_ms||(t.timeout_ms=zC),this._deadClickTracker.trackClick(r,t)}}.bind(this),A.addEventListener($t,this.listenerDeadClick))};Re.prototype.initInputTracking=function(){A.removeEventListener(Wi,this.listenerChange),this.getConfig($u)&&(de.log("Initializing input tracking"),this.listenerChange=function(e){this.getConfig($u)&&this.trackDomEvent(e,JC)}.bind(this),A.addEventListener(Wi,this.listenerChange))};Re.prototype.initPageviewTracking=function(){if(A.removeEventListener(Wt,this.listenerLocationchange),!!this.pageviewTrackingConfig()){de.log("Initializing pageview tracking");var e="",r=!1;this.currentUrlBlocked()||(r=this.mp.track_pageview(Vi)),r&&(e=p.info.currentUrl()),this.listenerLocationchange=ji(function(){if(!this.currentUrlBlocked()){var i=p.info.currentUrl(),t=!1,n=i.split("#")[0].split("?")[0]!==e.split("#")[0].split("?")[0],o=this.pageviewTrackingConfig();if(o===Ov?t=i!==e:o===HC?t=i.split("#")[0]!==e.split("#")[0]:o===KC&&(t=n),t){var s=this.mp.track_pageview(Vi);s&&(e=i),n&&(this.lastScrollCheckpoint=0,de.log("Path change: re-initializing scroll depth checkpoints"))}}}.bind(this)),A.addEventListener(Wt,this.listenerLocationchange)}};Re.prototype.initRageClickTracking=function(){A.removeEventListener($t,this.listenerRageClick);var e=this._getClickTrackingConfig(Ko);!e&&!this.mp.get_config("record_heatmap_data")||(de.log("Initializing rage click tracking"),this._rageClickTracker||(this._rageClickTracker=new Iv),this.listenerRageClick=function(r){var i=this._getClickTrackingConfig(Ko);!i&&!this.mp.is_recording_heatmap_data()||this.currentUrlBlocked()||this._rageClickTracker.isRageClick(r,i)&&this.trackDomEvent(r,zv)}.bind(this),A.addEventListener($t,this.listenerRageClick))};Re.prototype.initScrollTracking=function(){if(A.removeEventListener(_s,this.listenerScroll),A.removeEventListener(Nl,this.listenerScroll),!!this.getConfig(Du)){de.log("Initializing scroll tracking"),this.lastScrollCheckpoint=0;var e=function(){if(this.getConfig(Du)&&!this.currentUrlBlocked()){var i=this.getConfig(Lv),t=(this.getConfig(Fv)||[]).slice().sort(function(f,c){return f-c}),n=A.scrollY,o=p.extend({$scroll_top:n},Vi);try{var s=V.body.scrollHeight,a=Math.round(n/(s-A.innerHeight)*100);if(o.$scroll_height=s,o.$scroll_percentage=a,a>this.lastScrollCheckpoint)for(var u=0;u<t.length;u++){var l=t[u];a>=l&&this.lastScrollCheckpoint<l&&(o.$scroll_checkpoint=l,this.lastScrollCheckpoint=l,i=!0)}}catch(f){de.critical("Error while calculating scroll percentage",f)}i&&this.mp.track(XC,o)}}.bind(this),r=wv(e);this.listenerScroll=r.listener,A.addEventListener(r.eventType,this.listenerScroll)}};Re.prototype.initSubmitTracking=function(){A.removeEventListener(Vo,this.listenerSubmit),this.getConfig(Lu)&&(de.log("Initializing submit tracking"),this.listenerSubmit=function(e){this.getConfig(Lu)&&this.trackDomEvent(e,ZC)}.bind(this),A.addEventListener(Vo,this.listenerSubmit))};Re.prototype.initPageLeaveTracking=function(){if(V.removeEventListener(kd,this.listenerPageLeaveVisibilitychange),A.removeEventListener(Wt,this.listenerPageLeaveLocationchange),A.removeEventListener(xd,this.listenerPageLoad),!(!this.getConfig(bs)&&!this.mp.get_config("record_heatmap_data"))){de.log("Initializing page visibility tracking."),this._initScrollDepthTracking();var e=p.info.currentUrl();this.listenerPageLoad=function(){this.previousScrollHeight=V.body.scrollHeight}.bind(this),A.addEventListener(xd,this.listenerPageLoad),this.listenerPageLeaveLocationchange=ji(function(r){if(!this.currentUrlBlocked()){var i=p.info.currentUrl(),t=i!==e;t&&(this._trackPageLeave(r,e,this.previousScrollHeight),e=i,this.maxScrollViewDepth=Math.max(V.documentElement.clientHeight,A.innerHeight||0),this.previousScrollHeight=V.body.scrollHeight,this.hasTrackedScrollSession=!1)}}.bind(this)),A.addEventListener(Wt,this.listenerPageLeaveLocationchange),this.listenerPageLeaveVisibilitychange=function(r){V.hidden&&this._trackPageLeave(r,e,this.previousScrollHeight)}.bind(this),V.addEventListener(kd,this.listenerPageLeaveVisibilitychange)}};Re.prototype.stopDeadClickTracking=function(){this.listenerDeadClick&&(A.removeEventListener($t,this.listenerDeadClick),this.listenerDeadClick=null),this._deadClickTracker&&(this._deadClickTracker.stopTracking(),this._deadClickTracker=null)};av(Re);var Ye=_r("flags"),Yo="flags",Jo="context",Fu={};Fu[Jo]={};var X=function(e){this.fetch=A.fetch,this.getFullApiRoute=e.getFullApiRoute,this.getMpConfig=e.getConfigFunc,this.setMpConfig=e.setConfigFunc,this.getMpProperty=e.getPropertyFunc,this.track=e.trackingFunc};X.prototype.init=function(){if(!this.minApisSupported()){Ye.critical("Feature Flags unavailable: missing minimum required APIs");return}this.flags=null,this.fetchFlags(),this.trackedFeatures=new Set};X.prototype.getFullConfig=function(){var e=this.getMpConfig(Yo);return e?p.isObject(e)?p.extend({},Fu,e):Fu:{}};X.prototype.getConfig=function(e){return this.getFullConfig()[e]};X.prototype.isSystemEnabled=function(){return!!this.getMpConfig(Yo)};X.prototype.updateContext=function(e,r){if(!this.isSystemEnabled())return Ye.critical("Feature Flags not enabled, cannot update context"),Promise.resolve();var i=this.getMpConfig(Yo);p.isObject(i)||(i={});var t=r&&r.replace?{}:this.getConfig(Jo);return i[Jo]=p.extend({},t,e),this.setMpConfig(Yo,i),this.fetchFlags()};X.prototype.areFlagsReady=function(){return this.isSystemEnabled()||Ye.error("Feature Flags not enabled"),!!this.flags};X.prototype.fetchFlags=function(){if(!this.isSystemEnabled())return Promise.resolve();var e=this.getMpProperty("distinct_id"),r=this.getMpProperty("$device_id"),i=Yx();Ye.log("Fetching flags for distinct ID: "+e);var t=p.extend({distinct_id:e,device_id:r},this.getConfig(Jo)),n=new URLSearchParams;n.set("context",JSON.stringify(t)),n.set("token",this.getMpConfig("token")),n.set("mp_lib","web"),n.set("$lib_version",Qe.LIB_VERSION);var o=this.getFullApiRoute()+"?"+n.toString();return this._fetchInProgressStartTime=Date.now(),this.fetchPromise=this.fetch.call(A,o,{method:"GET",headers:{Authorization:"Basic "+btoa(this.getMpConfig("token")+":"),traceparent:i}}).then(function(s){return this.markFetchComplete(),s.json().then(function(a){var u=a.flags;if(!u)throw new Error("No flags in API response");var l=new Map;p.each(u,function(f,c){l.set(c,{key:f.variant_key,value:f.variant_value,experiment_id:f.experiment_id,is_experiment_active:f.is_experiment_active,is_qa_tester:f.is_qa_tester})}),this.flags=l,this._traceparent=i}.bind(this)).catch(function(a){this.markFetchComplete(),Ye.error(a)}.bind(this))}.bind(this)).catch(function(s){this.markFetchComplete(),Ye.error(s)}.bind(this)),this.fetchPromise};X.prototype.markFetchComplete=function(){if(!this._fetchInProgressStartTime){Ye.error("Fetch in progress started time not set, cannot mark fetch complete");return}this._fetchStartTime=this._fetchInProgressStartTime,this._fetchCompleteTime=Date.now(),this._fetchLatency=this._fetchCompleteTime-this._fetchStartTime,this._fetchInProgressStartTime=null};X.prototype.getVariant=function(e,r){return this.fetchPromise?this.fetchPromise.then(function(){return this.getVariantSync(e,r)}.bind(this)).catch(function(i){return Ye.error(i),r}):new Promise(function(i){Ye.critical("Feature Flags not initialized"),i(r)})};X.prototype.getVariantSync=function(e,r){if(!this.areFlagsReady())return Ye.log("Flags not loaded yet"),r;var i=this.flags.get(e);return i?(this.trackFeatureCheck(e,i),i):(Ye.log('No flag found: "'+e+'"'),r)};X.prototype.getVariantValue=function(e,r){return this.getVariant(e,{value:r}).then(function(i){return i.value}).catch(function(i){return Ye.error(i),r})};X.prototype.getFeatureData=function(e,r){return Ye.critical("mixpanel.flags.get_feature_data() is deprecated and will be removed in a future release. Use mixpanel.flags.get_variant_value() instead."),this.getVariantValue(e,r)};X.prototype.getVariantValueSync=function(e,r){return this.getVariantSync(e,{value:r}).value};X.prototype.isEnabled=function(e,r){return this.getVariantValue(e).then(function(){return this.isEnabledSync(e,r)}.bind(this)).catch(function(i){return Ye.error(i),r})};X.prototype.isEnabledSync=function(e,r){r=r||!1;var i=this.getVariantValueSync(e,r);return i!==!0&&i!==!1&&(Ye.error('Feature flag "'+e+'" value: '+i+" is not a boolean; returning fallback value: "+r),i=r),i};X.prototype.trackFeatureCheck=function(e,r){if(!this.trackedFeatures.has(e)){this.trackedFeatures.add(e);var i={"Experiment name":e,"Variant name":r.key,$experiment_type:"feature_flag","Variant fetch start time":new Date(this._fetchStartTime).toISOString(),"Variant fetch complete time":new Date(this._fetchCompleteTime).toISOString(),"Variant fetch latency (ms)":this._fetchLatency,"Variant fetch traceparent":this._traceparent};r.experiment_id!=="undefined"&&(i.$experiment_id=r.experiment_id),r.is_experiment_active!=="undefined"&&(i.$is_experiment_active=r.is_experiment_active),r.is_qa_tester!=="undefined"&&(i.$is_qa_tester=r.is_qa_tester),this.track("$experiment_started",i)}};X.prototype.minApisSupported=function(){return!!this.fetch&&typeof Promise<"u"&&typeof Map<"u"&&typeof Set<"u"};av(X);X.prototype.are_flags_ready=X.prototype.areFlagsReady;X.prototype.get_variant=X.prototype.getVariant;X.prototype.get_variant_sync=X.prototype.getVariantSync;X.prototype.get_variant_value=X.prototype.getVariantValue;X.prototype.get_variant_value_sync=X.prototype.getVariantValueSync;X.prototype.is_enabled=X.prototype.isEnabled;X.prototype.is_enabled_sync=X.prototype.isEnabledSync;X.prototype.update_context=X.prototype.updateContext;X.prototype.get_feature_data=X.prototype.getFeatureData;var Ft=function(){};Ft.prototype.create_properties=function(){};Ft.prototype.event_handler=function(){};Ft.prototype.after_track_handler=function(){};Ft.prototype.init=function(e){return this.mp=e,this};Ft.prototype.track=function(e,r,i,t){var n=this,o=p.dom_query(e);if(o.length===0){K.error("The DOM query ("+e+") returned 0 elements");return}return p.each(o,function(s){p.register_event(s,this.override_event,function(a){var u={},l=n.create_properties(i,this),f=n.mp.get_config("track_links_timeout");n.event_handler(a,this,u),window.setTimeout(n.track_callback(t,l,u,!0),f),n.mp.track(r,l,n.track_callback(t,l,u))})},this),!0};Ft.prototype.track_callback=function(e,r,i,t){t=t||!1;var n=this;return function(){i.callback_fired||(i.callback_fired=!0,!(e&&e(t,r)===!1)&&n.after_track_handler(r,i,t))}};Ft.prototype.create_properties=function(e,r){var i;return typeof e=="function"?i=e(r):i=p.extend({},e),i};var Xr=function(){this.override_event="click"};p.inherit(Xr,Ft);Xr.prototype.create_properties=function(e,r){var i=Xr.superclass.create_properties.apply(this,arguments);return r.href&&(i.url=r.href),i};Xr.prototype.event_handler=function(e,r,i){i.new_tab=e.which===2||e.metaKey||e.ctrlKey||r.target==="_blank",i.href=r.href,i.new_tab||e.preventDefault()};Xr.prototype.after_track_handler=function(e,r){r.new_tab||setTimeout(function(){window.location=r.href},0)};var ws=function(){this.override_event="submit"};p.inherit(ws,Ft);ws.prototype.event_handler=function(e,r,i){i.element=r,e.preventDefault()};ws.prototype.after_track_handler=function(e,r){setTimeout(function(){r.element.submit()},0)};var Gt="$set",Zr="$set_once",ft="$unset",hr="$add",wt="$append",pr="$union",Mt="$remove",e1="$delete",Wv={set_action:function(e,r){var i={},t={};return p.isObject(e)?p.each(e,function(n,o){this._is_reserved_property(o)||(t[o]=n)},this):t[e]=r,i[Gt]=t,i},unset_action:function(e){var r={},i=[];return p.isArray(e)||(e=[e]),p.each(e,function(t){this._is_reserved_property(t)||i.push(t)},this),r[ft]=i,r},set_once_action:function(e,r){var i={},t={};return p.isObject(e)?p.each(e,function(n,o){this._is_reserved_property(o)||(t[o]=n)},this):t[e]=r,i[Zr]=t,i},union_action:function(e,r){var i={},t={};return p.isObject(e)?p.each(e,function(n,o){this._is_reserved_property(o)||(t[o]=p.isArray(n)?n:[n])},this):t[e]=p.isArray(r)?r:[r],i[pr]=t,i},append_action:function(e,r){var i={},t={};return p.isObject(e)?p.each(e,function(n,o){this._is_reserved_property(o)||(t[o]=n)},this):t[e]=r,i[wt]=t,i},remove_action:function(e,r){var i={},t={};return p.isObject(e)?p.each(e,function(n,o){this._is_reserved_property(o)||(t[o]=n)},this):t[e]=r,i[Mt]=t,i},delete_action:function(){var e={};return e[e1]="",e}},ye=function(){};p.extend(ye.prototype,Wv);ye.prototype._init=function(e,r,i){this._mixpanel=e,this._group_key=r,this._group_id=i};ye.prototype.set=Qr(function(e,r,i){var t=this.set_action(e,r);return p.isObject(e)&&(i=r),this._send_request(t,i)});ye.prototype.set_once=Qr(function(e,r,i){var t=this.set_once_action(e,r);return p.isObject(e)&&(i=r),this._send_request(t,i)});ye.prototype.unset=Qr(function(e,r){var i=this.unset_action(e);return this._send_request(i,r)});ye.prototype.union=Qr(function(e,r,i){p.isObject(e)&&(i=r);var t=this.union_action(e,r);return this._send_request(t,i)});ye.prototype.delete=Qr(function(e){var r=this.delete_action();return this._send_request(r,e)});ye.prototype.remove=Qr(function(e,r,i){var t=this.remove_action(e,r);return this._send_request(t,i)});ye.prototype._send_request=function(e,r){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var i=p.encodeDates(e);return this._mixpanel._track_or_batch({type:"groups",data:i,endpoint:this._mixpanel.get_api_host("groups")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},r)};ye.prototype._is_reserved_property=function(e){return e==="$group_key"||e==="$group_id"};ye.prototype._get_config=function(e){return this._mixpanel.get_config(e)};ye.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};ye.prototype.remove=ye.prototype.remove;ye.prototype.set=ye.prototype.set;ye.prototype.set_once=ye.prototype.set_once;ye.prototype.union=ye.prototype.union;ye.prototype.unset=ye.prototype.unset;ye.prototype.toString=ye.prototype.toString;var q=function(){};p.extend(q.prototype,Wv);q.prototype._init=function(e){this._mixpanel=e};q.prototype.set=rr(function(e,r,i){var t=this.set_action(e,r);return p.isObject(e)&&(i=r),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),t[Gt]=p.extend({},p.info.people_properties(),t[Gt]),this._send_request(t,i)});q.prototype.set_once=rr(function(e,r,i){var t=this.set_once_action(e,r);return p.isObject(e)&&(i=r),this._send_request(t,i)});q.prototype.unset=rr(function(e,r){var i=this.unset_action(e);return this._send_request(i,r)});q.prototype.increment=rr(function(e,r,i){var t={},n={};return p.isObject(e)?(p.each(e,function(o,s){if(!this._is_reserved_property(s))if(isNaN(parseFloat(o))){K.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else n[s]=o},this),i=r):(p.isUndefined(r)&&(r=1),n[e]=r),t[hr]=n,this._send_request(t,i)});q.prototype.append=rr(function(e,r,i){p.isObject(e)&&(i=r);var t=this.append_action(e,r);return this._send_request(t,i)});q.prototype.remove=rr(function(e,r,i){p.isObject(e)&&(i=r);var t=this.remove_action(e,r);return this._send_request(t,i)});q.prototype.union=rr(function(e,r,i){p.isObject(e)&&(i=r);var t=this.union_action(e,r);return this._send_request(t,i)});q.prototype.track_charge=rr(function(){K.error("mixpanel.people.track_charge() is deprecated and no longer has any effect.")});q.prototype.clear_charges=function(e){return this.set("$transactions",[],e)};q.prototype.delete_user=function(){if(!this._identify_called()){K.error("mixpanel.people.delete_user() requires you to call identify() first");return}var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)};q.prototype.toString=function(){return this._mixpanel.toString()+".people"};q.prototype._send_request=function(e,r){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var i=this._mixpanel.get_property("$device_id"),t=this._mixpanel.get_property("$user_id"),n=this._mixpanel.get_property("$had_persisted_distinct_id");i&&(e.$device_id=i),t&&(e.$user_id=t),n&&(e.$had_persisted_distinct_id=n);var o=p.encodeDates(e);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:o,endpoint:this._mixpanel.get_api_host("people")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},r):(this._enqueue(e),p.isUndefined(r)||(this._get_config("verbose")?r({status:-1,error:null}):r(-1)),p.truncate(o,255))};q.prototype._get_config=function(e){return this._mixpanel.get_config(e)};q.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};q.prototype._enqueue=function(e){Gt in e?this._mixpanel.persistence._add_to_people_queue(Gt,e):Zr in e?this._mixpanel.persistence._add_to_people_queue(Zr,e):ft in e?this._mixpanel.persistence._add_to_people_queue(ft,e):hr in e?this._mixpanel.persistence._add_to_people_queue(hr,e):wt in e?this._mixpanel.persistence._add_to_people_queue(wt,e):Mt in e?this._mixpanel.persistence._add_to_people_queue(Mt,e):pr in e?this._mixpanel.persistence._add_to_people_queue(pr,e):K.error("Invalid call to _enqueue():",e)};q.prototype._flush_one_queue=function(e,r,i,t){var n=this,o=p.extend({},this._mixpanel.persistence.load_queue(e)),s=o;!p.isUndefined(o)&&p.isObject(o)&&!p.isEmptyObject(o)&&(n._mixpanel.persistence._pop_from_people_queue(e,o),n._mixpanel.persistence.save(),t&&(s=t(o)),r.call(n,s,function(a,u){a===0&&n._mixpanel.persistence._add_to_people_queue(e,o),p.isUndefined(i)||i(a,u)}))};q.prototype._flush=function(e,r,i,t,n,o,s){var a=this;this._flush_one_queue(Gt,this.set,e),this._flush_one_queue(Zr,this.set_once,t),this._flush_one_queue(ft,this.unset,o,function(m){return p.keys(m)}),this._flush_one_queue(hr,this.increment,r),this._flush_one_queue(pr,this.union,n);var u=this._mixpanel.persistence.load_queue(wt);if(!p.isUndefined(u)&&p.isArray(u)&&u.length)for(var l,f=function(m,y){m===0&&a._mixpanel.persistence._add_to_people_queue(wt,l),p.isUndefined(i)||i(m,y)},c=u.length-1;c>=0;c--)u=this._mixpanel.persistence.load_queue(wt),l=u.pop(),a._mixpanel.persistence.save(),p.isEmptyObject(l)||a.append(l,f);var d=this._mixpanel.persistence.load_queue(Mt);if(!p.isUndefined(d)&&p.isArray(d)&&d.length)for(var g,v=function(m,y){m===0&&a._mixpanel.persistence._add_to_people_queue(Mt,g),p.isUndefined(s)||s(m,y)},_=d.length-1;_>=0;_--)d=this._mixpanel.persistence.load_queue(Mt),g=d.pop(),a._mixpanel.persistence.save(),p.isEmptyObject(g)||a.remove(g,v)};q.prototype._is_reserved_property=function(e){return e==="$distinct_id"||e==="$token"||e==="$device_id"||e==="$user_id"||e==="$had_persisted_distinct_id"};q.prototype.set=q.prototype.set;q.prototype.set_once=q.prototype.set_once;q.prototype.unset=q.prototype.unset;q.prototype.increment=q.prototype.increment;q.prototype.append=q.prototype.append;q.prototype.remove=q.prototype.remove;q.prototype.union=q.prototype.union;q.prototype.track_charge=q.prototype.track_charge;q.prototype.clear_charges=q.prototype.clear_charges;q.prototype.delete_user=q.prototype.delete_user;q.prototype.toString=q.prototype.toString;var Pl="__mps",Tl="__mpso",Rl="__mpus",$l="__mpa",Dl="__mpap",Ll="__mpr",Fl="__mpu",Vv="$people_distinct_id",Xo="__alias",qi="__timers",t1=[Pl,Tl,Rl,$l,Dl,Ll,Fl,Vv,Xo,qi],J=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var r=e.persistence;r!=="cookie"&&r!=="localStorage"&&(K.critical("Unknown persistence type "+r+"; falling back to cookie"),r=e.persistence="cookie"),r==="localStorage"&&p.localStorage.is_supported()?this.storage=p.localStorage:this.storage=p.cookie,this.load(),this.update_config(e),this.upgrade(),this.save()};J.prototype.properties=function(){var e={};return this.load(),p.each(this.props,function(r,i){p.include(t1,i)||(e[i]=r)}),e};J.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=p.extend({},e))}};J.prototype.upgrade=function(){var e,r;this.storage===p.localStorage?(e=p.cookie.parse(this.name),p.cookie.remove(this.name),p.cookie.remove(this.name,!0),e&&this.register_once(e)):this.storage===p.cookie&&(r=p.localStorage.parse(this.name),p.localStorage.remove(this.name),r&&this.register_once(r))};J.prototype.save=function(){this.disabled||this.storage.set(this.name,Jr(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};J.prototype.load_prop=function(e){return this.load(),this.props[e]};J.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};J.prototype.clear=function(){this.remove(),this.props={}};J.prototype.register_once=function(e,r,i){return p.isObject(e)?(typeof r>"u"&&(r="None"),this.expire_days=typeof i>"u"?this.default_expiry:i,this.load(),p.each(e,function(t,n){(!this.props.hasOwnProperty(n)||this.props[n]===r)&&(this.props[n]=t)},this),this.save(),!0):!1};J.prototype.register=function(e,r){return p.isObject(e)?(this.expire_days=typeof r>"u"?this.default_expiry:r,this.load(),p.extend(this.props,e),this.save(),!0):!1};J.prototype.unregister=function(e){this.load(),e in this.props&&(delete this.props[e],this.save())};J.prototype.update_search_keyword=function(e){this.register(p.info.searchInfo(e))};J.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:p.info.referringDomain(e)||"$direct"},"")};J.prototype.get_referrer_info=function(){return p.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};J.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)};J.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()};J.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())};J.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())};J.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())};J.prototype.get_cross_subdomain=function(){return this.cross_subdomain};J.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())};J.prototype._add_to_people_queue=function(e,r){var i=this._get_queue_key(e),t=r[e],n=this._get_or_create_queue(Gt),o=this._get_or_create_queue(Zr),s=this._get_or_create_queue(ft),a=this._get_or_create_queue(hr),u=this._get_or_create_queue(pr),l=this._get_or_create_queue(Mt,[]),f=this._get_or_create_queue(wt,[]);i===Pl?(p.extend(n,t),this._pop_from_people_queue(hr,t),this._pop_from_people_queue(pr,t),this._pop_from_people_queue(ft,t)):i===Tl?(p.each(t,function(c,d){d in o||(o[d]=c)}),this._pop_from_people_queue(ft,t)):i===Rl?p.each(t,function(c){p.each([n,o,a,u],function(d){c in d&&delete d[c]}),p.each(f,function(d){c in d&&delete d[c]}),s[c]=!0}):i===$l?(p.each(t,function(c,d){d in n?n[d]+=c:(d in a||(a[d]=0),a[d]+=c)},this),this._pop_from_people_queue(ft,t)):i===Fl?(p.each(t,function(c,d){p.isArray(c)&&(d in u||(u[d]=[]),p.each(c,function(g){p.include(u[d],g)||u[d].push(g)}))}),this._pop_from_people_queue(ft,t)):i===Ll?(l.push(t),this._pop_from_people_queue(wt,t)):i===Dl&&(f.push(t),this._pop_from_people_queue(ft,t)),K.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),K.log(r),this.save()};J.prototype._pop_from_people_queue=function(e,r){var i=this.props[this._get_queue_key(e)];p.isUndefined(i)||p.each(r,function(t,n){e===wt||e===Mt?p.each(i,function(o){o[n]===t&&delete o[n]}):delete i[n]},this)};J.prototype.load_queue=function(e){return this.load_prop(this._get_queue_key(e))};J.prototype._get_queue_key=function(e){if(e===Gt)return Pl;if(e===Zr)return Tl;if(e===ft)return Rl;if(e===hr)return $l;if(e===wt)return Dl;if(e===Mt)return Ll;if(e===pr)return Fl;K.error("Invalid queue:",e)};J.prototype._get_or_create_queue=function(e,r){var i=this._get_queue_key(e);return r=p.isUndefined(r)?{}:r,this.props[i]||(this.props[i]=r)};J.prototype.set_event_timer=function(e,r){var i=this.load_prop(qi)||{};i[e]=r,this.props[qi]=i,this.save()};J.prototype.remove_event_timer=function(e){var r=this.load_prop(qi)||{},i=r[e];return p.isUndefined(i)||(delete this.props[qi][e],this.save()),i};var Zo,qv=function(e,r){throw new Error(e+" not available in this build.")},We,Bu=0,r1=1,it="mixpanel",Gv="base64",i1="json",Bl="$device:",n1="strict",o1="fallback",s1="disabled",Br=A.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,Hv=!Br&&_t.indexOf("MSIE")===-1&&_t.indexOf("Mozilla")===-1,Qo=null;Nt.sendBeacon&&(Qo=function(){return Nt.sendBeacon.apply(Nt,arguments)});var Kv={track:"track/",engage:"engage/",groups:"groups/",record:"record/",flags:"flags/",settings:"settings/"},Uu={api_host:"https://api-js.mixpanel.com",api_hosts:{},api_routes:Kv,api_extra_query_params:{},api_method:"POST",api_transport:"XHR",api_payload_format:Gv,app_host:"https://mixpanel.com",autocapture:!1,cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:Vt,flags:!1,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:Vt,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{},record_block_class:new RegExp("^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$"),record_block_selector:"img, video, audio",record_canvas:!1,record_collect_fonts:!1,record_console:!0,record_heatmap_data:!1,record_idle_timeout_ms:1800*1e3,record_mask_inputs:!0,record_max_ms:Si,record_min_ms:0,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js",remote_settings_mode:s1},Yv=!1,k=function(){},ju=function(e,r,i){var t,n=i===it?We:We[i];if(n&&Zo===Bu)t=n;else{if(n&&!p.isArray(n)){K.error("You have already initialized "+i);return}t=new k}if(t._cached_groups={},t._init(e,r,i),t.people=new q,t.people._init(t),!t.get_config("skip_first_touch_marketing")){var o=p.info.campaignParams(null),s={},a=!1;p.each(o,function(l,f){s["initial_"+f]=l,l&&(a=!0)}),a&&t.people.set_once(s)}Qe.DEBUG=Qe.DEBUG||t.get_config("debug");var u=Zo===Bu?"module":"snippet";return A.dispatchEvent(new A.CustomEvent("$mp_sdk_to_extension_event",{detail:{instance:t,source:u,token:e,name:i,info:p.info}})),!p.isUndefined(n)&&p.isArray(n)&&(t._execute_array.call(t.people,n.people),t._execute_array(n)),t};k.prototype.init=function(e,r,i){if(p.isUndefined(i)){this.report_error("You must name your new library: init(token, config, name)");return}if(i===it){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var t=ju(e,r,i);return We[i]=t,t._loaded(),t};k.prototype._init=function(e,r,i){r=r||{},this.__loaded=!0,this.config={};var t={};if(!("api_payload_format"in r)){var n=r.api_host||Uu.api_host;n.match(/\.mixpanel\.com/)&&(t.api_payload_format=i1)}if(this.hooks={},this.set_config(p.extend({},Uu,t,r,{name:i,token:e,callback_fn:(i===it?i:it+"."+i)+"._jsc"})),this._jsc=Vt,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!p.localStorage.is_supported(!0)||!Br)this._batch_requests=!1,K.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),p.each(this.get_batcher_configs(),function(u){K.log("Clearing batch queue "+u.queue_key),p.localStorage.remove(u.queue_key)});else if(this.init_batchers(),Qo&&A.addEventListener){var o=p.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);A.addEventListener("pagehide",function(u){u.persisted&&o()}),A.addEventListener("visibilitychange",function(){V.visibilityState==="hidden"&&o()})}}this.persistence=this.cookie=new J(this.config),this.unpersisted_superprops={},this._gdpr_init();var s=p.UUID();this.get_distinct_id()||this.register_once({distinct_id:Bl+s,$device_id:s},""),this.flags=new X({getFullApiRoute:p.bind(function(){return this.get_api_host("flags")+"/"+this.get_config("api_routes").flags},this),getConfigFunc:p.bind(this.get_config,this),setConfigFunc:p.bind(this.set_config,this),getPropertyFunc:p.bind(this.get_property,this),trackingFunc:p.bind(this.track,this)}),this.flags.init(),this.flags=this.flags,this.autocapture=new Re(this),this.autocapture.init(),this._init_tab_id();var a=this.get_config("remote_settings_mode");a===n1||a===o1?this._fetch_remote_settings(a).then(p.bind(function(){this._check_and_start_session_recording()},this)):this._check_and_start_session_recording()};k.prototype._init_tab_id=function(){if(this.get_config("disable_persistence"))K.log("Tab ID initialization skipped due to disable_persistence config");else if(p.sessionStorage.is_supported())try{var e=this.get_config("name")+"_"+this.get_config("token"),r="mp_tab_id_"+e,i="mp_gen_new_tab_id_"+e;(p.sessionStorage.get(i)||!p.sessionStorage.get(r))&&p.sessionStorage.set(r,"$tab-"+p.UUID()),p.sessionStorage.set(i,"1"),this.tab_id=p.sessionStorage.get(r),A.addEventListener("beforeunload",function(){p.sessionStorage.remove(i)})}catch(t){this.report_error("Error initializing tab id",t)}else this.report_error("Session storage is not supported, cannot keep track of unique tab ID.")};k.prototype.get_tab_id=function(){return this.tab_id||null};k.prototype._should_load_recorder=function(){if(this.get_config("disable_persistence"))return K.log("Load recorder check skipped due to disable_persistence config"),Promise.resolve(!1);var e=new dt(kl),r=this.get_tab_id();return e.init().then(function(){return e.getAll()}).then(function(i){for(var t=0;t<i.length;t++)if(Al(i[t])||i[t].tabId===r)return!0;return!1}).catch(p.bind(function(i){this.report_error("Error checking recording registry",i)},this))};k.prototype._check_and_start_session_recording=tr(function(e){if(!A.MutationObserver){K.critical("Browser does not support MutationObserver; skipping session recording");return}var r=p.bind(function(t){var n=p.bind(function(){this._recorder=this._recorder||new A.__mp_recorder(this),this._recorder.resumeRecording(t)},this);p.isUndefined(A.__mp_recorder)?qv(this.get_config("recorder_src"),n):n()},this),i=this.get_config("record_sessions_percent")>0&&Math.random()*100<=this.get_config("record_sessions_percent");e||i?r(!0):this._should_load_recorder().then(function(t){t&&r(!1)})});k.prototype.start_session_recording=function(){this._check_and_start_session_recording(!0)};k.prototype.stop_session_recording=function(){return this._recorder?this._recorder.stopRecording():Promise.resolve()};k.prototype.pause_session_recording=function(){return this._recorder?this._recorder.pauseRecording():Promise.resolve()};k.prototype.resume_session_recording=function(){return this._recorder?this._recorder.resumeRecording():Promise.resolve()};k.prototype.is_recording_heatmap_data=function(){return this._get_session_replay_id()&&this.get_config("record_heatmap_data")};k.prototype.get_session_recording_properties=function(){var e={},r=this._get_session_replay_id();return r&&(e.$mp_replay_id=r),e};k.prototype.get_session_replay_url=function(){var e=null,r=this._get_session_replay_id();if(r){var i=p.HTTPBuildQuery({replay_id:r,distinct_id:this.get_distinct_id(),token:this.get_config("token")});e="https://mixpanel.com/projects/replay-redirect?"+i}return e};k.prototype._get_session_replay_id=function(){var e=null;return this._recorder&&(e=this._recorder.replayId),e||null};k.prototype.__get_recorder=function(){return this._recorder};k.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var e=p.info.campaignParams(null);p.each(e,function(r,i){this.unregister(i)}.bind(this))}};k.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(V.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(p.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(V.referrer)};k.prototype._dom_loaded=function(){p.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),this.has_opted_out_tracking()||p.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue};k.prototype._track_dom=function(e,r){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!Yv)return this.__dom_loaded_queue.push([e,r]),!1;var i=new e().init(this);return i.track.apply(i,r)};k.prototype._prepare_callback=function(e,r){if(p.isUndefined(e))return null;if(Br){var i=function(s){e(s,r)};return i}else{var t=this._jsc,n=""+Math.floor(Math.random()*1e8),o=this.get_config("callback_fn")+"["+n+"]";return t[n]=function(s){delete t[n],e(s,r)},o}};k.prototype._send_request=function(e,r,i,t){var n=!0;if(Hv)return this.__request_queue.push(arguments),n;var o={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},s=null;!t&&(p.isFunction(i)||typeof i=="string")&&(t=i,i=null),i=p.extend(o,i||{}),Br||(i.method="GET");var a=i.method==="POST",u=Qo&&a&&i.transport.toLowerCase()==="sendbeacon",l=i.verbose;r.verbose&&(l=!0),this.get_config("test")&&(r.test=1),l&&(r.verbose=1),this.get_config("img")&&(r.img=1),Br||(t?r.callback=t:(l||this.get_config("test"))&&(r.callback="(function(){})")),r.ip=this.get_config("ip")?1:0,r._=new Date().getTime().toString(),a&&(s="data="+encodeURIComponent(r.data),delete r.data),p.extend(r,this.get_config("api_extra_query_params")),e+="?"+p.HTTPBuildQuery(r);var f=this;if("img"in r){var c=V.createElement("img");c.src=e,V.body.appendChild(c)}else if(u){try{n=Qo(e,s)}catch(y){f.report_error(y),n=!1}try{t&&t(n?1:0)}catch(y){f.report_error(y)}}else if(Br)try{var d=new XMLHttpRequest;d.open(i.method,e,!0);var g=this.get_config("xhr_headers");if(a&&(g["Content-Type"]="application/x-www-form-urlencoded"),p.each(g,function(y,w){d.setRequestHeader(w,y)}),i.timeout_ms&&typeof d.timeout<"u"){d.timeout=i.timeout_ms;var v=new Date().getTime()}d.withCredentials=!0,d.onreadystatechange=function(){if(d.readyState===4)if(d.status===200){if(t)if(l){var y;try{y=p.JSONDecode(d.responseText)}catch(C){if(f.report_error(C),i.ignore_json_errors)y=d.responseText;else return}t(y)}else t(Number(d.responseText))}else{var w;if(d.timeout&&!d.status&&new Date().getTime()-v>=d.timeout?w="timeout":w="Bad HTTP status: "+d.status+" "+d.statusText,f.report_error(w),t)if(l){var S=d.responseHeaders||{};t({status:0,httpStatusCode:d.status,error:w,retryAfter:S["Retry-After"]})}else t(0)}},d.send(s)}catch(y){f.report_error(y),n=!1}else{var _=V.createElement("script");_.type="text/javascript",_.async=!0,_.defer=!0,_.src=e;var m=V.getElementsByTagName("script")[0];m.parentNode.insertBefore(_,m)}return n};k.prototype._fetch_remote_settings=function(e){var r=function(){e==="strict"&&s.set_config({record_sessions_percent:0})};if(!A.AbortController)return K.critical("Remote settings unavailable: missing minimum required APIs"),r(),Promise.resolve();var i=this.get_api_host("settings")+"/"+this.get_config("api_routes").settings,t={$lib_version:Qe.LIB_VERSION,mp_lib:"web",sdk_config:"1"},n=p.HTTPBuildQuery(t),o=i+"?"+n,s=this,a=new AbortController,u=setTimeout(function(){a.abort()},500),l={method:"GET",headers:{Authorization:"Basic "+btoa(s.get_config("token")+":")},signal:a.signal};return A.fetch(o,l).then(function(f){if(clearTimeout(u),!f.ok){K.critical("Network response was not ok"),r();return}return f.json()}).then(function(f){if(f&&f.sdk_config&&f.sdk_config.config){var c=f.sdk_config.config,d={};p.each(c,function(g,v){Uu.hasOwnProperty(v)&&(d[v]=g)}),p.isEmptyObject(d)?(K.critical("No valid config keys found in remote settings."),r()):s.set_config(d)}else r()}).catch(function(f){clearTimeout(u),K.critical("Failed to fetch remote settings",f),r()})};k.prototype._execute_array=function(e){var r,i=[],t=[],n=[];p.each(e,function(s){s&&(r=s[0],p.isArray(r)?n.push(s):typeof s=="function"?s.call(this):p.isArray(s)&&r==="alias"?i.push(s):p.isArray(s)&&r.indexOf("track")!==-1&&typeof this[r]=="function"?n.push(s):t.push(s))},this);var o=function(s,a){p.each(s,function(u){if(p.isArray(u[0])){var l=a;p.each(u,function(f){l=l[f[0]].apply(l,f.slice(1))})}else this[u[0]].apply(this,u.slice(1))},a)};o(i,this),o(t,this),o(n,this)};k.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};k.prototype.get_batcher_configs=function(){var e="__mpq_"+this.get_config("token");return this._batcher_configs=this._batcher_configs||{events:{type:"events",api_name:"track",queue_key:e+"_ev"},people:{type:"people",api_name:"engage",queue_key:e+"_pp"},groups:{type:"groups",api_name:"groups",queue_key:e+"_gr"}},this._batcher_configs};k.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var e=p.bind(function(i){return new nt(i.queue_key,{libConfig:this.config,errorReporter:this.get_config("error_reporter"),sendRequestFunc:p.bind(function(t,n,o){var s=this.get_config("api_routes");this._send_request(this.get_api_host(i.api_name)+"/"+s[i.api_name],this._encode_data_for_request(t),n,this._prepare_callback(o,t))},this),beforeSendHook:p.bind(function(t){var n=this._run_hook("before_send_"+i.type,t);return n?n[0]:null},this),stopAllBatchingFunc:p.bind(this.stop_batch_senders,this),usePersistence:!0})},this),r=this.get_batcher_configs();this.request_batchers={events:e(r.events),people:e(r.people),groups:e(r.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()};k.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,p.each(this.request_batchers,function(e){e.start()}))};k.prototype.stop_batch_senders=function(){this._batch_requests=!1,p.each(this.request_batchers,function(e){e.stop(),e.clear()})};k.prototype.push=function(e){this._execute_array([e])};k.prototype.disable=function(e){typeof e>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)};k.prototype._encode_data_for_request=function(e){var r=Jr(e);return this.get_config("api_payload_format")===Gv&&(r=p.base64Encode(r)),{data:r}};k.prototype._track_or_batch=function(e,r){var i=p.truncate(e.data,255),t=e.endpoint,n=e.batcher,o=e.should_send_immediately,s=e.send_request_options||{};r=r||Vt;var a=!0,u=p.bind(function(){return s.skip_hooks||(i=this._run_hook("before_send_"+e.type,i),i&&(i=i[0])),i?(K.log("MIXPANEL REQUEST:"),K.log(i),this._send_request(t,this._encode_data_for_request(i),s,this._prepare_callback(r,i))):null},this);return this._batch_requests&&!o?n.enqueue(i).then(function(l){l?r(1,i):u()}):a=u(),a&&i};k.prototype.track=tr(function(e,r,i,t){var n;if(!(i&&i.skip_hooks)){if(n=this._run_hook("before_track",e,r),n===null)return;e=n[0],r=n[1]}!t&&typeof i=="function"&&(t=i,i=null),i=i||{};var o=i.transport;o&&(i.transport=o);var s=i.send_immediately;if(typeof t!="function"&&(t=Vt),p.isUndefined(e)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(e)){t(0);return}r=p.extend({},r),r.token=this.get_config("token");var a=this.persistence.remove_event_timer(e);if(!p.isUndefined(a)){var u=new Date().getTime()-a;r.$duration=parseFloat((u/1e3).toFixed(3))}this._set_default_superprops();var l=this.get_config("track_marketing")?p.info.marketingParams():{};r=p.extend({},p.info.properties({mp_loader:this.get_config("mp_loader")}),l,this.persistence.properties(),this.unpersisted_superprops,this.get_session_recording_properties(),r);var f=this.get_config("property_blacklist");p.isArray(f)?p.each(f,function(d){delete r[d]}):this.report_error("Invalid value for property_blacklist config: "+f);var c={event:e,properties:r};return n=this._track_or_batch({type:"events",data:c,endpoint:this.get_api_host("events")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:s,send_request_options:i},t),n});k.prototype.set_group=tr(function(e,r,i){p.isArray(r)||(r=[r]);var t={};return t[e]=r,this.register(t),this.people.set(e,r,i)});k.prototype.add_group=tr(function(e,r,i){var t=this.get_property(e),n={};return t===void 0?(n[e]=[r],this.register(n)):t.indexOf(r)===-1&&(t.push(r),n[e]=t,this.register(n)),this.people.union(e,r,i)});k.prototype.remove_group=tr(function(e,r,i){var t=this.get_property(e);if(t!==void 0){var n=t.indexOf(r);n>-1&&(t.splice(n,1),this.register({group_key:t})),t.length===0&&this.unregister(e)}return this.people.remove(e,r,i)});k.prototype.track_with_groups=tr(function(e,r,i,t){var n=p.extend({},r||{});return p.each(i,function(o,s){o!=null&&(n[s]=o)}),this.track(e,n,t)});k.prototype._create_map_key=function(e,r){return e+"_"+JSON.stringify(r)};k.prototype._remove_group_from_cache=function(e,r){delete this._cached_groups[this._create_map_key(e,r)]};k.prototype.get_group=function(e,r){var i=this._create_map_key(e,r),t=this._cached_groups[i];return(t===void 0||t._group_key!==e||t._group_id!==r)&&(t=new ye,t._init(this,e,r),this._cached_groups[i]=t),t};k.prototype.track_pageview=tr(function(e,r){typeof e!="object"&&(e={}),r=r||{};var i=r.event_name||"$mp_web_page_view",t=p.extend(p.info.mpPageViewProperties(),p.info.campaignParams(),p.info.clickParams()),n=p.extend({},t,e);return this.track(i,n)});k.prototype.track_links=function(){return this._track_dom.call(this,Xr,arguments)};k.prototype.track_forms=function(){return this._track_dom.call(this,ws,arguments)};k.prototype.time_event=function(e){if(p.isUndefined(e)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(e)||this.persistence.set_event_timer(e,new Date().getTime())};var a1={persistent:!0},Ul=function(e){var r;return p.isObject(e)?r=e:p.isUndefined(e)?r={}:r={days:e},p.extend({},a1,r)};k.prototype.register=function(e,r){var i=this._run_hook("before_register",e,r);if(i!==null){e=i[0],r=i[1];var t=Ul(r);t.persistent?this.persistence.register(e,t.days):p.extend(this.unpersisted_superprops,e)}};k.prototype.register_once=function(e,r,i){var t=this._run_hook("before_register_once",e,r,i);if(t!==null){e=t[0],r=t[1],i=t[2];var n=Ul(i);n.persistent?this.persistence.register_once(e,r,n.days):(typeof r>"u"&&(r="None"),p.each(e,function(o,s){(!this.unpersisted_superprops.hasOwnProperty(s)||this.unpersisted_superprops[s]===r)&&(this.unpersisted_superprops[s]=o)},this))}};k.prototype.unregister=function(e,r){var i=this._run_hook("before_unregister",e,r);i!==null&&(e=i[0],r=i[1],r=Ul(r),r.persistent?this.persistence.unregister(e):delete this.unpersisted_superprops[e])};k.prototype._register_single=function(e,r){var i={};i[e]=r,this.register(i)};k.prototype.identify=function(e,r,i,t,n,o,s,a){var u=this._run_hook("before_identify",e);if(u===null)return-1;e=u[0];var l=this.get_distinct_id();if(e&&l!==e){if(typeof e=="string"&&e.indexOf(Bl)===0)return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:e})}if(!this.get_property("$device_id")){var f=l;this.register_once({$had_persisted_distinct_id:!0,$device_id:f},"")}e!==l&&e!==this.get_property(Xo)&&(this.unregister(Xo),this.register({distinct_id:e})),this._flags.identify_called=!0,this.people._flush(r,i,t,n,o,s,a),e!==l&&this.track("$identify",{distinct_id:e,$anon_distinct_id:l},{skip_hooks:!0}),e!==l&&this.flags.fetchFlags()};k.prototype.reset=function(){this.stop_session_recording(),this.persistence.clear(),this._flags.identify_called=!1;var e=p.UUID();this.register_once({distinct_id:Bl+e,$device_id:e},""),this._check_and_start_session_recording()};k.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};k.prototype.alias=function(e,r){if(e===this.get_property(Vv))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var i=this;return p.isUndefined(r)&&(r=this.get_distinct_id()),e!==r?(this._register_single(Xo,e),this.track("$create_alias",{alias:e,distinct_id:r},{skip_hooks:!0},function(){i.identify(e)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)};k.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)};k.prototype.set_config=function(e){if(p.isObject(e)){p.extend(this.config,e);var r=e.batch_size;r&&p.each(this.request_batchers,function(i){i.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),Qe.DEBUG=Qe.DEBUG||this.get_config("debug"),("autocapture"in e||"record_heatmap_data"in e)&&this.autocapture&&this.autocapture.init(),p.isObject(e.hooks)&&(this.hooks={},p.each(e.hooks,function(i,t){if(p.isFunction(i))this.hooks[t]=[i];else if(p.isArray(i)){this.hooks[t]=[];for(var n=0;n<i.length;n++)p.isFunction(i[n])||K.critical("Invalid hook added. Hook is not a function"),this.hooks[t].push(i[n])}else K.critical("Invalid hooks added. Ensure that the hook values passed into config.hooks are functions or arrays of functions.")},this))}};k.prototype.get_config=function(e){return this.config[e]};k.prototype._run_hook=function(e){var r=zt.call(arguments,1);return p.each(this.hooks[e],function(i){if(r===null)return null;var t=i.apply(this,r);typeof t>"u"?(this.report_error(e+" hook did not return a valid value"),r=null):(p.isArray(t)||(t=[t]),r.splice.apply(r,[0,t.length].concat(t)))},this),r};k.prototype.get_property=function(e){return this.persistence.load_prop([e])};k.prototype.get_api_host=function(e){return this.get_config("api_hosts")[e]||this.get_config("api_host")};k.prototype.toString=function(){var e=this.get_config("name");return e!==it&&(e=it+"."+e),e};k.prototype._event_is_disabled=function(e){return p.isBlockedUA(_t)||this._flags.disable_all_events||p.include(this.__disabled_events,e)};k.prototype._gdpr_init=function(){var e=this.get_config("opt_out_tracking_persistence_type")==="localStorage";e&&p.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||p.cookie.get("mp_optout"))&&(p.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};k.prototype._gdpr_update_persistence=function(e){var r;if(e&&e.clear_persistence)r=!0;else if(e&&e.enable_persistence)r=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==r&&this.persistence.set_disabled(r),r?(this.stop_batch_senders(),this.stop_session_recording()):this._batchers_were_started&&this.start_batch_senders()};k.prototype._gdpr_call_func=function(e,r){return r=p.extend({track:p.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},r),p.localStorage.is_supported()||(r.persistence_type="cookie"),e(this.get_config("token"),{track:r.track,trackEventName:r.track_event_name,trackProperties:r.track_properties,persistenceType:r.persistence_type,persistencePrefix:r.cookie_prefix,cookieDomain:r.cookie_domain,cookieExpiration:r.cookie_expiration,crossSiteCookie:r.cross_site_cookie,crossSubdomainCookie:r.cross_subdomain_cookie,secureCookie:r.secure_cookie,ignoreDnt:r.ignore_dnt})};k.prototype.opt_in_tracking=function(e){e=p.extend({enable_persistence:!0},e),this._gdpr_call_func(nC,e),this._gdpr_update_persistence(e)};k.prototype.opt_out_tracking=function(e){e=p.extend({clear_persistence:!0,delete_user:!0},e),e.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(oC,e),this._gdpr_update_persistence(e)};k.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func(sC,e)};k.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func(hv,e)};k.prototype.clear_opt_in_out_tracking=function(e){e=p.extend({enable_persistence:!0},e),this._gdpr_call_func(aC,e),this._gdpr_update_persistence(e)};k.prototype.report_error=function(e,r){K.error.apply(K.error,arguments);try{!r&&!(e instanceof Error)&&(e=new Error(e)),this.get_config("error_reporter")(e,r)}catch(i){K.error(i)}};k.prototype.add_hook=function(e,r){this.hooks[e]||(this.hooks[e]=[]),this.hooks[e].push(r)};k.prototype.remove_hook=function(e,r){var i;this.hooks[e]&&(i=this.hooks[e].indexOf(r),i!==-1?this.hooks[e].splice(i,1):K.log("remove_hook failed. Matching hook was not found"))};k.prototype.init=k.prototype.init;k.prototype.reset=k.prototype.reset;k.prototype.disable=k.prototype.disable;k.prototype.time_event=k.prototype.time_event;k.prototype.track=k.prototype.track;k.prototype.track_links=k.prototype.track_links;k.prototype.track_forms=k.prototype.track_forms;k.prototype.track_pageview=k.prototype.track_pageview;k.prototype.register=k.prototype.register;k.prototype.register_once=k.prototype.register_once;k.prototype.unregister=k.prototype.unregister;k.prototype.identify=k.prototype.identify;k.prototype.alias=k.prototype.alias;k.prototype.name_tag=k.prototype.name_tag;k.prototype.set_config=k.prototype.set_config;k.prototype.get_config=k.prototype.get_config;k.prototype.get_api_host=k.prototype.get_api_host;k.prototype.get_property=k.prototype.get_property;k.prototype.get_distinct_id=k.prototype.get_distinct_id;k.prototype.toString=k.prototype.toString;k.prototype.opt_out_tracking=k.prototype.opt_out_tracking;k.prototype.opt_in_tracking=k.prototype.opt_in_tracking;k.prototype.has_opted_out_tracking=k.prototype.has_opted_out_tracking;k.prototype.has_opted_in_tracking=k.prototype.has_opted_in_tracking;k.prototype.clear_opt_in_out_tracking=k.prototype.clear_opt_in_out_tracking;k.prototype.get_group=k.prototype.get_group;k.prototype.set_group=k.prototype.set_group;k.prototype.add_group=k.prototype.add_group;k.prototype.remove_group=k.prototype.remove_group;k.prototype.add_hook=k.prototype.add_hook;k.prototype.remove_hook=k.prototype.remove_hook;k.prototype.track_with_groups=k.prototype.track_with_groups;k.prototype.start_batch_senders=k.prototype.start_batch_senders;k.prototype.stop_batch_senders=k.prototype.stop_batch_senders;k.prototype.start_session_recording=k.prototype.start_session_recording;k.prototype.stop_session_recording=k.prototype.stop_session_recording;k.prototype.pause_session_recording=k.prototype.pause_session_recording;k.prototype.resume_session_recording=k.prototype.resume_session_recording;k.prototype.get_session_recording_properties=k.prototype.get_session_recording_properties;k.prototype.get_session_replay_url=k.prototype.get_session_replay_url;k.prototype.get_tab_id=k.prototype.get_tab_id;k.prototype.DEFAULT_API_ROUTES=Kv;k.prototype.__get_recorder=k.prototype.__get_recorder;J.prototype.properties=J.prototype.properties;J.prototype.update_search_keyword=J.prototype.update_search_keyword;J.prototype.update_referrer_info=J.prototype.update_referrer_info;J.prototype.get_cross_subdomain=J.prototype.get_cross_subdomain;J.prototype.clear=J.prototype.clear;var Dr={},u1=function(){p.each(Dr,function(e,r){r!==it&&(We[r]=e)}),We._=p},l1=function(){We.init=function(e,r,i){if(i)return We[i]||(We[i]=Dr[i]=ju(e,r,i),We[i]._loaded()),We[i];var t=We;Dr[it]?t=Dr[it]:e&&(t=ju(e,r,it),t._loaded(),Dr[it]=t),We=t,Zo===r1&&(A[it]=We),u1()}},c1=function(){function e(){e.done||(e.done=!0,Yv=!0,Hv=!1,p.each(Dr,function(t){t._dom_loaded()}))}function r(){try{V.documentElement.doScroll("left")}catch{setTimeout(r,1);return}e()}if(V.addEventListener)V.readyState==="complete"?e():V.addEventListener("DOMContentLoaded",e,!1);else if(V.attachEvent){V.attachEvent("onreadystatechange",e);var i=!1;try{i=A.frameElement===null}catch{}V.documentElement.doScroll&&i&&r()}p.register_event(A,"load",e,!0)};function f1(e){return qv=e,Zo=Bu,We=new k,l1(),We.init(),c1(),We}function d1(e,r){r()}var Xi=f1(d1);var Ct=(e,r,i={})=>{let t={output1:String(r)};Object.values(i).forEach((n,o)=>{t[`output${o+2}`]=String(n)}),window.BubbleBridge?(console.log(`\u{1F4E1} [${e}]`,{action:r,...i}),window.BubbleBridge.send(e,t)):console.warn(`\u26A0\uFE0F BubbleBridge not found [${e}]`,{action:r,...i})};var h1=({deviceId:e,onAction:r})=>{let i="https://0fc323560b9c4d8afc3a7d487716abb6.cdn.bubble.io/f1744960311608x780031988693140400/BG%20%281%29.png?_gl=1*1sjnvjs*_gcl_au*MTI1MTA4NjA5OS4xNzY0NjcxNTYy*_ga*MTkwNzcwNjAyMy4xNzY0MTUwMzM2*_ga_BFPVR2DEE2*czE3NzA4ODE1ODYkbzYyJGcxJHQxNzcwODk2MDU5JGoyMyRsMCRoMA..",t=n=>{Ct("bubble_fn_welcome",n),r&&r(n)};return b.createElement("div",{className:"relative w-full h-full bg-black font-jakarta overflow-hidden"},b.createElement("div",{className:"absolute inset-0 z-0"},b.createElement("img",{src:i,className:"w-full h-full object-cover opacity-80",alt:"Couple"}),b.createElement("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/90"})),b.createElement("div",{className:"relative z-10 flex flex-col h-full px-6 py-10"},b.createElement("div",{className:"mx-auto flex flex-col items-center"},b.createElement("svg",{width:"56",height:"56",viewBox:"0 0 64 64",fill:"none"},b.createElement("circle",{cx:"32",cy:"32",r:"32",fill:"white"}),b.createElement("rect",{x:"19",y:"19",width:"26",height:"26",fill:"#FF2258"})),b.createElement("div",{className:"text-white text-center mt-2 font-bold tracking-widest text-[10px]"},"BONDS")),b.createElement("div",{className:"flex-1 min-h-[20px]"}),b.createElement("div",{className:"mb-8"},b.createElement("h1",{className:"text-white text-[32px] leading-[38px] font-normal mb-3"},"Your Relationship",b.createElement("br",null),"Superpower"),b.createElement("p",{className:"text-white/80 text-base font-light leading-relaxed"},"We learn your dynamics and tailor expert built, AI powered insights & actions")),b.createElement("div",{className:"space-y-6"},b.createElement("button",{onClick:()=>t("go"),className:"w-full h-[58px] rounded-[40px] bg-gradient-to-l from-[#B900B0] to-[#D8003F] flex items-center justify-center shadow-lg transform transition active:scale-95 btn-pressed"},b.createElement("span",{className:"font-jakarta font-semibold text-[18px] text-white tracking-[3px] uppercase"},"LET\u2019S GO")),b.createElement("div",{className:"text-center"},b.createElement("span",{className:"font-jakarta text-[16px] text-white tracking-[0.2px]"},"Got an account? "," ",b.createElement("button",{onClick:()=>t("signin"),className:"font-bold border-b border-white hover:opacity-80 transition"},"Sign In here"))))))},Ss=h1;var jl={check:b.createElement("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none"},b.createElement("polyline",{points:"4 12 10 18 20 6",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})),star:b.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"white"},b.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.27 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"})),trophy:b.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none"},b.createElement("path",{d:"M6 2h12v6a6 6 0 0 1-12 0V2z",fill:"white"}),b.createElement("path",{d:"M6 4H3a1 1 0 0 0-1 1v1a4 4 0 0 0 4 4m12-6h3a1 1 0 0 1 1 1v1a4 4 0 0 1-4 4",stroke:"white",strokeWidth:"1.5"}),b.createElement("path",{d:"M8 21h8m-4-7v7",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}))},p1=e=>({lock:b.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},b.createElement("rect",{x:"5",y:"11",width:"14",height:"10",rx:"2",stroke:e.lockedIcon,strokeWidth:"2"}),b.createElement("path",{d:"M8 11V7a4 4 0 1 1 8 0v4",stroke:e.lockedIcon,strokeWidth:"2",strokeLinecap:"round"})),diamond:b.createElement("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none"},b.createElement("path",{d:"M6 3h12l4 7-10 12L2 10l4-7z",stroke:e.lockedIcon,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))}),Jv=375,Xv=220,xs=12,v1=({text:e,theme:r})=>b.createElement("div",{className:"absolute -top-12 left-1/2 z-10 animate-float"},b.createElement("div",{className:"relative border-2 border-solid rounded-xl px-4 py-1.5 whitespace-nowrap",style:{background:r.floatBg,borderColor:r.floatBorder}},b.createElement("span",{className:"font-jakarta font-extrabold text-[13px] tracking-[1.5px] uppercase",style:{color:r.textPrimary}},e),b.createElement("div",{className:"absolute -bottom-[7px] left-1/2 -translate-x-1/2 w-0 h-0 border-l-[7px] border-l-transparent border-r-[7px] border-r-transparent border-t-[7px]",style:{borderTopColor:r.floatBorder}}),b.createElement("div",{className:"absolute -bottom-[5px] left-1/2 -translate-x-1/2 w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px]",style:{borderTopColor:r.floatBg}}))),m1=({node:e,color:r,onStart:i,nodeX:t})=>{let n=Xv/2,o=0,s=t-n,a=t+n,u=0;s<xs?u=xs-s:a>Jv-xs&&(u=Jv-xs-a);let l=-u;return b.createElement("div",{className:"absolute z-20 animate-popover-in",style:{top:"100%",marginTop:12,left:"50%","--pop-offset":`${u}px`,width:Xv}},b.createElement("div",{className:"absolute -top-[7px] w-0 h-0 border-l-[8px] border-l-transparent border-r-[8px] border-r-transparent border-b-[8px]",style:{borderBottomColor:r,left:"50%",transform:`translateX(calc(-50% + ${l}px))`}}),b.createElement("div",{className:"rounded-2xl px-4 py-3",style:{backgroundColor:r}},b.createElement("p",{className:"font-jakarta font-extrabold text-[15px] text-white leading-tight"},e.title),b.createElement("p",{className:"font-jakarta font-bold text-[11px] text-white/70 mt-0.5"},e.status==="completed"?"Completed":e.status==="current"?"In progress":"Locked"),!e.milestone&&e.status!=="locked"&&b.createElement("button",{onClick:f=>{f.stopPropagation(),i&&i(e)},className:"mt-2.5 w-full rounded-xl py-2 font-jakarta font-extrabold text-[13px] uppercase tracking-wide",style:{backgroundColor:"white",color:r,boxShadow:"0 2px 0 0 rgba(0,0,0,0.12)"}},"START +10 XP")))},g1=({node:e,nodeX:r,style:i,isSelected:t,showFloatingLabel:n,onTap:o,onStart:s,accentColor:a,accentDark:u,theme:l})=>{let{title:f,status:c,milestone:d}=e,g=c==="completed",v=c==="current",_=c==="locked",m=d?72:v?68:60,y=d?6:5,w=a||"#E44B8E",S=u||"#B83A72",C=l.lockedBg,x=l.lockedShadow,I="#FFB800",E="#CC9300",P=p1(l),O,T,M;d?g?(O=I,T=E,M=jl.trophy):(O=C,T=x,M=P.diamond):g?(O=w,T=S,M=jl.check):v?(O=w,T=S,M=jl.star):(O=C,T=x,M=P.lock);let $=a||O;return b.createElement("div",{className:"absolute flex flex-col items-center",style:{...i,width:m+40,marginLeft:-(m+40)/2}},n&&!t&&b.createElement(v1,{text:"START",theme:l}),b.createElement("div",{className:"relative"},b.createElement("button",{disabled:_,onClick:_?void 0:()=>o&&o(e),className:`relative rounded-full flex items-center justify-center transition-transform duration-100 overflow-hidden ${_?"cursor-default":"cursor-pointer active:translate-y-[2px]"}`,style:{width:m,height:m,backgroundColor:O,boxShadow:`0 ${y}px 0 0 ${T}`}},g&&b.createElement("div",{className:"absolute inset-0 rounded-full pointer-events-none",style:{background:"radial-gradient(ellipse 70% 50% at 30% 15%, rgba(255,255,255,0.25), transparent 65%)"}}),M),t&&b.createElement(m1,{node:e,color:$,onStart:s,nodeX:r})),!d&&b.createElement("span",{className:"mt-2 text-[10px] font-jakarta font-bold text-center leading-tight tracking-wide",style:{color:g?l.labelCompleted:v?l.labelCurrent:l.labelLocked}},f))},Zv=g1;var y1={chapters:[{title:"Communication",index:1,nodes:[{id:1,title:"Trust Basics",status:"completed"},{id:2,title:"Active Listening",status:"completed"},{id:3,title:"Love Languages",status:"completed"},{id:4,title:"Milestone",status:"completed",milestone:!0},{id:5,title:"Open Questions",status:"completed"},{id:6,title:"Daily Check-in",status:"completed"},{id:7,title:"Conflict Styles",status:"completed"},{id:8,title:"Milestone",status:"completed",milestone:!0}]},{title:"Emotional Safety",index:2,nodes:[{id:9,title:"Vulnerability",status:"completed"},{id:10,title:"Safe Spaces",status:"completed"},{id:11,title:"Repair Attempts",status:"completed"},{id:12,title:"Milestone",status:"completed",milestone:!0},{id:13,title:"Triggers",status:"completed"},{id:14,title:"De-escalation",status:"completed"},{id:15,title:"Empathy Maps",status:"completed"},{id:16,title:"Milestone",status:"completed",milestone:!0}]},{title:"Intimacy",index:3,nodes:[{id:17,title:"Quality Time",status:"completed"},{id:18,title:"Physical Touch",status:"completed"},{id:19,title:"Shared Goals",status:"completed"},{id:20,title:"Milestone",status:"completed",milestone:!0},{id:21,title:"Date Nights",status:"completed"},{id:22,title:"Gratitude",status:"completed"},{id:23,title:"Boundaries",status:"completed"},{id:24,title:"Milestone",status:"completed",milestone:!0}]},{title:"Conflict Resolution",index:4,nodes:[{id:25,title:"Fair Fighting",status:"completed"},{id:26,title:"Time-outs",status:"completed"},{id:27,title:"Compromise",status:"completed"},{id:28,title:"Milestone",status:"completed",milestone:!0},{id:29,title:"Forgiveness",status:"current"},{id:30,title:"Letting Go",status:"locked"},{id:31,title:"Growth Mindset",status:"locked"},{id:32,title:"Milestone",status:"locked",milestone:!0}]},{title:"Attachment Styles",index:5,nodes:[{id:33,title:"Your Style",status:"locked"},{id:34,title:"Secure Base",status:"locked"},{id:35,title:"Anxious Patterns",status:"locked"},{id:36,title:"Milestone",status:"locked",milestone:!0},{id:37,title:"Avoidant Cues",status:"locked"},{id:38,title:"Earned Security",status:"locked"},{id:39,title:"Co-regulation",status:"locked"},{id:40,title:"Milestone",status:"locked",milestone:!0}]},{title:"Shared Values",index:6,nodes:[{id:41,title:"Core Values",status:"locked"},{id:42,title:"Life Vision",status:"locked"},{id:43,title:"Money Talk",status:"locked"},{id:44,title:"Milestone",status:"locked",milestone:!0},{id:45,title:"Family Plans",status:"locked"},{id:46,title:"Career Balance",status:"locked"},{id:47,title:"Traditions",status:"locked"},{id:48,title:"Milestone",status:"locked",milestone:!0}]},{title:"Trust Building",index:7,nodes:[{id:49,title:"Consistency",status:"locked"},{id:50,title:"Transparency",status:"locked"},{id:51,title:"Reliability",status:"locked"},{id:52,title:"Milestone",status:"locked",milestone:!0},{id:53,title:"After Betrayal",status:"locked"},{id:54,title:"Rebuilding",status:"locked"},{id:55,title:"Trust Rituals",status:"locked"},{id:56,title:"Milestone",status:"locked",milestone:!0}]},{title:"Emotional Intelligence",index:8,nodes:[{id:57,title:"Self-Awareness",status:"locked"},{id:58,title:"Emotion Labels",status:"locked"},{id:59,title:"Regulation",status:"locked"},{id:60,title:"Milestone",status:"locked",milestone:!0},{id:61,title:"Reading Others",status:"locked"},{id:62,title:"Mirroring",status:"locked"},{id:63,title:"Compassion",status:"locked"},{id:64,title:"Milestone",status:"locked",milestone:!0}]},{title:"Independence",index:9,nodes:[{id:65,title:"Personal Space",status:"locked"},{id:66,title:"Solo Hobbies",status:"locked"},{id:67,title:"Friendships",status:"locked"},{id:68,title:"Milestone",status:"locked",milestone:!0},{id:69,title:"Self-care",status:"locked"},{id:70,title:"Identity",status:"locked"},{id:71,title:"Interdependence",status:"locked"},{id:72,title:"Milestone",status:"locked",milestone:!0}]},{title:"Romance",index:10,nodes:[{id:73,title:"Surprises",status:"locked"},{id:74,title:"Flirting",status:"locked"},{id:75,title:"Adventures",status:"locked"},{id:76,title:"Milestone",status:"locked",milestone:!0},{id:77,title:"Love Notes",status:"locked"},{id:78,title:"Rituals",status:"locked"},{id:79,title:"Playfulness",status:"locked"},{id:80,title:"Milestone",status:"locked",milestone:!0}]},{title:"Life Transitions",index:11,nodes:[{id:81,title:"Moving In",status:"locked"},{id:82,title:"Job Changes",status:"locked"},{id:83,title:"Loss & Grief",status:"locked"},{id:84,title:"Milestone",status:"locked",milestone:!0},{id:85,title:"Parenthood",status:"locked"},{id:86,title:"Aging Together",status:"locked"},{id:87,title:"Reinvention",status:"locked"},{id:88,title:"Milestone",status:"locked",milestone:!0}]},{title:"Partnership",index:12,nodes:[{id:89,title:"Teamwork",status:"locked"},{id:90,title:"Decision Making",status:"locked"},{id:91,title:"Chore Equity",status:"locked"},{id:92,title:"Milestone",status:"locked",milestone:!0},{id:93,title:"Support Systems",status:"locked"},{id:94,title:"Celebrating Wins",status:"locked"},{id:95,title:"Legacy",status:"locked"},{id:96,title:"Milestone",status:"locked",milestone:!0}]},{title:"Mastery",index:13,nodes:[{id:97,title:"Reflection",status:"locked"},{id:98,title:"Mentoring",status:"locked"},{id:99,title:"Deep Bonds",status:"locked"},{id:100,title:"Milestone",status:"locked",milestone:!0},{id:101,title:"Renewal",status:"locked"},{id:102,title:"Wisdom",status:"locked"},{id:103,title:"Forever Growth",status:"locked"},{id:104,title:"Milestone",status:"locked",milestone:!0}]}]},Qv=y1;var _1=95,b1=40,w1=15,S1=80,em=[260,188,115,188],ri=[{bg:"#E44B8E",dark:"#B83A72"},{bg:"#F06862",dark:"#C0534E"},{bg:"#8558C8",dark:"#6A46A0"},{bg:"#4545B5",dark:"#363690"},{bg:"#42A8C8",dark:"#348698"}],x1=e=>{let r=e.nodes.every(t=>t.status==="completed"),i=e.nodes.some(t=>t.status==="current");return r?"completed":i?"current":"locked"},C1=({chapter:e,color:r,status:i,isActive:t,onSelect:n,theme:o})=>b.createElement("button",{onClick:()=>n(),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200",style:{background:t?o.menuActive:"transparent"}},b.createElement("div",{className:"rounded-full flex items-center justify-center",style:{width:32,height:32,backgroundColor:i==="locked"?o.lockedBg:r.bg,boxShadow:i==="locked"?`0 2px 0 0 ${o.lockedShadow}`:`0 2px 0 0 ${r.dark}`}},i==="completed"?b.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},b.createElement("polyline",{points:"4 12 10 18 20 6",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})):i==="current"?b.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"white"},b.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.27 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"})):b.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},b.createElement("rect",{x:"5",y:"11",width:"14",height:"10",rx:"2",stroke:o.lockedIcon,strokeWidth:"2"}),b.createElement("path",{d:"M8 11V7a4 4 0 1 1 8 0v4",stroke:o.lockedIcon,strokeWidth:"2",strokeLinecap:"round"}))),b.createElement("div",{className:"flex-1 text-left"},b.createElement("p",{className:"font-bold text-[10px] uppercase tracking-widest",style:{color:i==="locked"?o.textMuted:o.textSecondary}},"Chapter ",e.index),b.createElement("p",{className:"font-extrabold text-[14px] leading-tight",style:{color:i==="locked"?o.lockedIcon:o.textPrimary}},e.title)),t&&b.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:o.textPrimary,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},b.createElement("polyline",{points:"9 18 15 12 9 6"}))),k1=({credits:e=0,theme:r})=>{let{chapters:i}=Qv,t=Ae(null),[n,o]=U(()=>{for(let x=0;x<i.length;x++)if(i[x].nodes.some(I=>I.status==="current"))return x;return 0}),[s,a]=U(null),[u,l]=U(!1),{nodePositions:f,chapterYStarts:c,totalHeight:d}=Ot(()=>{let x=[],I=[],E=w1;return i.forEach((P,O)=>{O>0&&(E+=b1),I.push(E),P.nodes.forEach((T,M)=>{x.push({node:T,x:em[M%em.length],y:E,chapterIdx:O}),E+=_1})}),{nodePositions:x,chapterYStarts:I,totalHeight:E+S1}},[i]);ze(()=>{if(!t.current)return;let x=f.find(I=>I.node.status==="current");x&&(t.current.scrollTop=Math.max(0,x.y-200))},[]);let g=Ae(n),v=Ae(null),_=je(()=>{if(!t.current)return;let x=t.current.scrollTop+150,I=0;for(let E=c.length-1;E>=0;E--)if(x>=c[E]){I=E;break}I!==g.current&&(g.current=I,o(I)),v.current!==null&&(v.current=null,a(null))},[c]),m=je(x=>{a(I=>{let E=I===x.id?null:x.id;return v.current=E,E}),l(!1)},[]),y=je(x=>{a(null)},[]),w=je(x=>{l(!1),a(null),t.current&&t.current.scrollTo({top:Math.max(0,c[x]-20),behavior:"smooth"})},[c]),S=i[n],C=ri[n%ri.length];return b.createElement("div",{className:"font-jakarta",style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",overflow:"hidden",background:r.bg,transition:"background 0.3s ease"}},b.createElement("div",{className:"flex items-center justify-center gap-7 px-4 pt-3 pb-4",style:{flexShrink:0}},b.createElement("div",{className:"flex items-center gap-2"},b.createElement("div",{className:"coin-shimmer",style:{width:36,height:36,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(circle at 35% 30%, #E0E0E0, #A0A0A0 70%, #888)",boxShadow:"0 2px 0 0 #707070"}},b.createElement("span",{className:"font-extrabold text-[14px] text-white",style:{textShadow:"0 1px 1px rgba(0,0,0,0.2)"}},"B")),b.createElement("span",{className:"font-extrabold text-[18px]",style:{color:r.creditsText}},e)),b.createElement("div",{className:"flex items-center gap-2"},b.createElement("div",{style:{width:36,height:36,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(180deg, #FF9600 0%, #FF7A00 100%)",boxShadow:"0 2px 0 0 #CC6600"}},b.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},b.createElement("path",{d:"M12 22c-4.4 0-7-2.7-7-6.2 0-2.2 1.3-4.2 2.6-5.7l1.3 1.3c.35.35.9.1.9-.45V4c0-.5.35-.85.8-.8C14.5 4 19 7.8 19 12.8c0 4.8-3 9.2-7 9.2z",fill:"white"}),b.createElement("path",{d:"M12 22c-2.2 0-3.5-1.6-3.5-3.5 0-1.3.7-2.5 1.6-3.4l.6.6c.18.18.45.08.45-.18V12.5c0-.25.18-.45.45-.42 1.8.45 4 2.5 4 5.7 0 2.5-1.3 4.2-3.6 4.2z",fill:"#FFF3D6"}))),b.createElement("span",{className:"font-extrabold text-[18px] text-[#FF9600]"},"3")),b.createElement("div",{style:{width:36,height:36,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #8558C8 0%, #4545B5 100%)",boxShadow:"0 2px 0 0 #363690"}},b.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"white"},b.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.27 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"})))),b.createElement("div",{style:{flexShrink:0,marginLeft:12,marginRight:12,marginBottom:8,position:"relative",zIndex:20}},b.createElement("button",{onClick:()=>{l(x=>!x),a(null)},className:"w-full rounded-2xl px-5 py-3 flex items-center justify-between",style:{position:"relative",zIndex:22,backgroundColor:C.bg,boxShadow:u?"none":`0 4px 0 0 ${C.dark}`,borderRadius:u?"16px 16px 0 0":"16px",transition:"background-color 0.3s ease, box-shadow 0.2s ease, border-radius 0.2s ease"}},b.createElement("div",{className:"text-left"},b.createElement("p",{className:"font-bold text-[11px] text-white/70 uppercase tracking-widest"},"Chapter ",S.index),b.createElement("p",{className:"font-extrabold text-[17px] text-white leading-tight mt-0.5"},S.title)),b.createElement("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center",style:{transform:u?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}},b.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},b.createElement("polyline",{points:"6 9 12 15 18 9"})))),b.createElement("div",{style:{position:"absolute",left:0,right:0,top:"100%",zIndex:21,maxHeight:u?400:0,opacity:u?1:0,overflowY:u?"auto":"hidden",overflowX:"hidden",transition:"max-height 0.35s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.25s ease, background-color 0.3s ease",backgroundColor:r.glassBg,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"0 0 16px 16px",border:`1px solid ${r.glassBorder}`,borderTop:"none",boxShadow:u?r.menuShadow:"none"}},b.createElement("div",{className:"py-2 px-1"},i.map((x,I)=>{let E=ri[I%ri.length],P=x1(x);return b.createElement(C1,{key:x.index,chapter:x,color:E,status:P,isActive:I===n,onSelect:()=>w(I),theme:r})})))),u&&b.createElement("div",{onClick:()=>l(!1),style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:15,background:r.backdrop}}),b.createElement("div",{ref:t,className:"scrollbar-hide",style:{flex:1,minHeight:0,overflowY:"auto",overflowX:"hidden"},onScroll:_},b.createElement("div",{className:"relative w-full",style:{height:d}},f.map(x=>{let I=ri[x.chapterIdx%ri.length];return b.createElement(Zv,{key:x.node.id,node:x.node,nodeX:x.x,isSelected:s===x.node.id,showFloatingLabel:x.node.status==="current",onTap:m,onStart:y,accentColor:I.bg,accentDark:I.dark,theme:r,style:{left:x.x,top:x.y}})}))))},Cs=k1;function I1(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null}var E1=I1(),h=E1;function tm(e,r,i,t,n,o,s){try{var a=e[o](s),u=a.value}catch(l){return void i(l)}a.done?r(u):Promise.resolve(u).then(t,n)}function O1(e){return function(){var r=this,i=arguments;return new Promise(function(t,n){var o=e.apply(r,i);function s(u){tm(o,t,n,s,a,"next",u)}function a(u){tm(o,t,n,s,a,"throw",u)}s(void 0)})}}function Bt(e,r,i){return(r=A1(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function A1(e){var r=N1(e,"string");return typeof r=="symbol"?r:r+""}function N1(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Zi=class{constructor(){var r,i;Bt(this,"isDebug",!1),Bt(this,"min_app_version",0),Bt(this,"app_version",0),Bt(this,"injected",!1),Bt(this,"observers",[]),Bt(this,"onNativeError",null),Bt(this,"onTabChanged",null),Bt(this,"isIOSApp",(h===null||h===void 0||(r=h.navigator)===null||r===void 0||(r=r.userAgent)===null||r===void 0?void 0:r.includes("Natively/iOS"))||!1),Bt(this,"isAndroidApp",(h===null||h===void 0||(i=h.navigator)===null||i===void 0||(i=i.userAgent)===null||i===void 0?void 0:i.includes("Natively/Android"))||!1)}setDebug(r){h&&(h.natively.isDebug=r)}notify(r,i){h&&(h.natively.injected=!0,r&&(h.natively.min_app_version=r),i&&(h.natively.app_version=i));var t=h===null||h===void 0?void 0:h.natively.observers;for(h!==null&&h!==void 0&&h.natively.isDebug&&console.log("[INFO] Notify observers: ",t.length);t.length>0;){var n=t.shift();n?.()}}addObserver(r){h!==null&&h!==void 0&&h.natively.injected?r():(h!==null&&h!==void 0&&h.natively.isDebug&&console.log("[DEBUG] addObserver: ".concat(r)),h===null||h===void 0||h.natively.observers.push(r))}trigger(r,i,t,n,o){var s=h===null||h===void 0?void 0:h.natively.isDebug;if(!(h!==null&&h!==void 0&&h.natively.injected)){h===null||h===void 0||h.natively.addObserver(()=>{h===null||h===void 0||h.natively.trigger(r,i,t,n,o)});return}if(i>(h===null||h===void 0?void 0:h.natively.app_version)){s&&alert("[ERROR] Please rebuild the app to use this functionality. App Version: ".concat(h===null||h===void 0?void 0:h.natively.app_version,", feature version: ").concat(i));return}if(t){var a;r?a=n+"_response_"+r:a=n+"_response",h&&(h[a]=function(u,l){if(h===null||h===void 0||h.$agent.response(),l.message&&s){alert("[ERROR] Error message: ".concat(l.message));return}s&&console.log("[DEBUG] Callback method: ".concat(a,", body: ").concat(JSON.stringify(u),", respId: ").concat(r)),t(u)}),o?o.response_id=r:o={response_id:r}}s&&console.log("[DEBUG] Trigger method: ".concat(n,", body: ").concat(JSON.stringify(o))),h===null||h===void 0||h.$agent.trigger(n,o)}setTabChangedHandler(r){if(typeof r!="function"){console.warn("[Natively] Tab changed handler must be a function");return}this.onTabChanged=r}removeTabChangedHandler(){this.onTabChanged=null}setErrorHandler(r){typeof r=="function"&&(this.onNativeError=r)}removeErrorHandler(){this.onNativeError=null}setErrorScreen(r){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"error_screen",{show_error:r})}openLogger(){h===null||h===void 0||h.$agent.natively_logger()}openConsole(){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"app_console")}closeApp(){h===null||h===void 0||h.natively.trigger(void 0,11,void 0,"app_close")}showProgress(r){h===null||h===void 0||h.natively.trigger(void 0,11,void 0,"app_show_progress",{toggle:r})}shareImage(r){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"share_image",{url:r})}shareText(r){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"share_text",{text:r})}shareTextAndImage(r,i){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"share_text_and_image",{url:i,text:r})}shareFile(r){h===null||h===void 0||h.natively.trigger(void 0,2,void 0,"share_file",{url:r})}openExternalURL(r,i){var t={url:typeof r>"u"?"https://buildnatively.com":r,view:typeof i<"u"&&i?"external":"web"};h===null||h===void 0||h.natively.trigger(void 0,18,void 0,"open_link",t)}openExternalApp(r){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"open_app",{url:r})}showAppToast(r,i){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"show_toast",{text:i||"",type:r||"DEFAULT"})}showAppBanner(r,i,t){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"show_banner",{type:r||"INFO",title:i||"",description:t||""})}analyticsTrackEvent(r,i){var t={name:r};i&&(t.data=i),h===null||h===void 0||h.natively.trigger(void 0,37,void 0,"analytics_log_event",t)}requestAppReview(){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"request_review")}getInsets(r){h===null||h===void 0||h.natively.trigger(void 0,36,r,"get_insets")}getLocales(r){h===null||h===void 0||h.natively.trigger(void 0,40,r,"get_locales")}setLocale(r,i){h===null||h===void 0||h.natively.trigger(void 0,40,i,"set_locale",{locale:r})}setAppBackgroundColor(r){h===null||h===void 0||h.natively.trigger(void 0,1,void 0,"app_background",{color:r})}setAppProgressColor(r){h===null||h===void 0||h.natively.trigger(void 0,1,void 0,"app_progress",{color:r})}setAppSwipeNavigation(r){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"app_navigation",{toggle:r})}setAppPullToRefresh(r){h===null||h===void 0||h.natively.trigger(void 0,1,void 0,"app_pull",{toggle:r})}setAppOrientation(r){h===null||h===void 0||h.natively.trigger(void 0,3,void 0,"app_orientation",{orientation:r})}setAppStatusBarStyle(r){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"status_bar_style",{style:r})}hideLoadingScreen(){h===null||h===void 0||h.natively.trigger(void 0,17,void 0,"loading_screen",{show_loader:!1,auto_hide:!0})}showLoadingScreen(r){h===null||h===void 0||h.natively.trigger(void 0,17,void 0,"loading_screen",{show_loader:!0,auto_hide:r||!1})}openAppSettings(){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"open_appsettings")}showTabBar(){h===null||h===void 0||h.natively.trigger(void 0,33,void 0,"show_tab_bar")}enableWakelock(){h===null||h===void 0||h.natively.trigger(void 0,34,void 0,"wakelock_enable")}disableWakelock(){h===null||h===void 0||h.natively.trigger(void 0,34,void 0,"wakelock_disable")}hideTabBar(){h===null||h===void 0||h.natively.trigger(void 0,33,void 0,"hide_tab_bar")}reloadWebview(){h===null||h===void 0||h.natively.trigger(void 0,35,void 0,"reset_webview")}hapticPattern(r,i){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"haptic_pattern",{pattern:r,delay:i})}openPDF(r,i){var t={url:r.url||"",base64:r.base64||"",fileName:r.fileName||"pdf-".concat(new Date().getTime(),".pdf"),download:r.download===!0};h===null||h===void 0||h.natively.trigger(void 0,38,i,"open_pdf",t)}hapticImpact(r){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"haptic_impact",{type:r})}hapticNotification(r){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"haptic_notification",{type:r})}sendPushNotification(r,i,t,n){return O1(function*(){var o=t.filter(l=>l.length>0),s=[...new Set(o)],a={app_id:n?"be83022a-1d08-45d0-a07a-0c3655666e17":r,include_player_ids:s};i.template_id?a.template_id=i.template_id:(a.headings={en:i.title||"Empty Title"},a.contents={en:i.message||"Empty Message"},i.subtitle&&(a.subtitle={en:i.subtitle}),i.redirect_url&&(a.url=i.redirect_url));var u={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(a)};return yield fetch("https://onesignal.com/api/v1/notifications",u)})()}};var j=()=>Date.now().toString(36)+Math.random().toString(36).substring(2);function M1(e,r,i){return(r=P1(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function P1(e){var r=T1(e,"string");return typeof r=="symbol"?r:r+""}function T1(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Qi=class{constructor(){M1(this,"id",j())}signin(r){h===null||h===void 0||h.natively.trigger(this.id,16,r,"apple_signin",{})}};function R1(e,r,i){return(r=$1(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function $1(e){var r=D1(e,"string");return typeof r=="symbol"?r:r+""}function D1(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var en=class{constructor(){R1(this,"id",j())}copy(r){h===null||h===void 0||h.natively.trigger(void 0,11,void 0,"clipboard_copy",{text:r})}paste(r){h===null||h===void 0||h.natively.trigger(this.id,11,r,"clipboard_paste")}};function L1(e,r,i){return(r=F1(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function F1(e){var r=B1(e,"string");return typeof r=="symbol"?r:r+""}function B1(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var tn=class{constructor(){L1(this,"id",j())}browserInfo(){var r,i,t=typeof(h===null||h===void 0?void 0:h.$agent)<"u",n=(h===null||h===void 0||(r=h.navigator)===null||r===void 0||(r=r.userAgent)===null||r===void 0?void 0:r.includes("Natively/iOS"))||!1,o=(h===null||h===void 0||(i=h.navigator)===null||i===void 0||(i=i.userAgent)===null||i===void 0?void 0:i.includes("Natively/Android"))||!1;return{isNativeApp:t,isIOSApp:n,isAndroidApp:o}}getAppInfo(r){h!==null&&h!==void 0&&h.natively&&(h===null||h===void 0||h.natively.trigger(this.id,0,r,"app_info"))}connectivity(r){h!==null&&h!==void 0&&h.natively&&(h===null||h===void 0||h.natively.trigger(void 0,0,r,"connectivity"))}app_state(r){h!==null&&h!==void 0&&h.natively&&(h===null||h===void 0||h.natively.trigger(void 0,19,r,"app_state"))}keyboard_visibility(r){h!==null&&h!==void 0&&h.natively&&(h===null||h===void 0||h.natively.trigger(void 0,34,r,"keyboard_visibility"))}};function U1(e,r,i){return(r=j1(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function j1(e){var r=z1(e,"string");return typeof r=="symbol"?r:r+""}function z1(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var rn=class{constructor(){U1(this,"id",j())}getOneSignalId(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"onesignal_playerid")}requestPermission(r,i){h===null||h===void 0||h.natively.trigger(this.id,0,i,"push_register",{fallbackToSettings:r})}getPermissionStatus(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"push_permission")}getExternalId(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"onesignal_externalid")}setExternalId(r,i){h===null||h===void 0||h.natively.trigger(this.id,0,i,"onesignal_setexternalid",r)}removeExternalId(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"onesignal_removeexternalid")}};function W1(e,r,i){return(r=V1(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function V1(e){var r=q1(e,"string");return typeof r=="symbol"?r:r+""}function q1(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var nn=class{constructor(){W1(this,"id",j())}getUserGeolocation(r,i){h===null||h===void 0||h.natively.trigger(this.id,0,i,"geolocation",{distance:r})}requestPermission(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"geo_register")}getPermissionStatus(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"geo_permission")}};function G1(e,r,i){return(r=H1(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function H1(e){var r=K1(e,"string");return typeof r=="symbol"?r:r+""}function K1(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var on=class{constructor(){G1(this,"id",j())}current(r,i,t,n){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;h===null||h===void 0||h.natively.trigger(this.id,12,n,"location_current",{minAccuracy:r,accuracyType:i,priority:t,fallbackToSettings:o})}permission(r){h===null||h===void 0||h.natively.trigger(this.id,6,r,"location_permission")}start(r,i,t,n,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;h===null||h===void 0||h.natively.trigger(this.id,12,o,"location_start",{minAccuracy:i,accuracyType:t,priority:n,fallbackToSettings:s,interval:r})}stop(){h===null||h===void 0||h.natively.trigger(this.id,3,void 0,"location_stop",{})}startBackground(r,i,t,n,o,s){var a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!0,u={identifier:o??"empty",interval:r??1e3*60,minAccuracy:i??50,accuracyType:t??"Best",priority:n??"BALANCED",fallbackToSettings:a};h===null||h===void 0||h.natively.trigger(this.id,12,s,"location_start_bg",u)}statusBackground(r){h===null||h===void 0||h.natively.trigger(this.id,20,r,"location_status_bg",{})}stopBackground(r){h===null||h===void 0||h.natively.trigger(this.id,4,r,"location_stop_bg",{})}};function Y1(e,r,i){return(r=J1(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function J1(e){var r=X1(e,"string");return typeof r=="symbol"?r:r+""}function X1(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var sn=class{constructor(){Y1(this,"id",j())}sendSMS(r,i,t){var n={body:r??"",recipient:i??""};h===null||h===void 0||h.natively.trigger(this.id,0,t,"send_sms",n)}sendEmail(r,i,t,n){var o={subject:r??"",body:i??"",recipient:t??""};h===null||h===void 0||h.natively.trigger(this.id,0,n,"send_email",o)}};function Z1(e,r,i){return(r=Q1(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function Q1(e){var r=ek(e,"string");return typeof r=="symbol"?r:r+""}function ek(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ir=class{constructor(){Z1(this,"id",j())}setStorageValue(r,i){h===null||h===void 0||h.natively.trigger(this.id,0,void 0,"set_storage_value",{key:r,value:i})}getStorageValue(r,i){h===null||h===void 0||h.natively.trigger(this.id,0,i,"get_storage_value",{key:r})}removeStorageValue(r){h===null||h===void 0||h.natively.trigger(this.id,0,void 0,"remove_storage_value",{key:r})}resetStorage(){h===null||h===void 0||h.natively.trigger(this.id,0,void 0,"reset_storage")}};function rm(e,r,i){return(r=tk(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function tk(e){var r=rk(e,"string");return typeof r=="symbol"?r:r+""}function rk(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var an=class{constructor(r){rm(this,"id",j()),rm(this,"allowPass",void 0),this.allowPass=r}checkBiometricsSupport(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"biometrics_support",{allowPass:this.allowPass})}checkCredentials(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"biometrics_has_credentials")}verifyUserIdentify(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"biometrics_verify",{allowPass:this.allowPass})}getUserCredentials(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"biometrics_auth",{allowPass:this.allowPass})}removeUserCredentials(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"biometrics_remove_credentials")}saveUserCredentials(r,i,t){h===null||h===void 0||h.natively.trigger(this.id,0,t,"biometrics_auth",{allowPass:this.allowPass,login:r,password:i})}};function ik(e,r,i){return(r=nk(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function nk(e){var r=ok(e,"string");return typeof r=="symbol"?r:r+""}function ok(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var un=class{constructor(){ik(this,"id",j())}showDatePicker(r,i,t,n,o){var s={type:t??"DATE",style:n??"LIGHT",title:r??"",description:i??""};h===null||h===void 0||h.natively.trigger(this.id,0,o,"datepicker",s)}};function sk(e,r,i){return(r=ak(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function ak(e){var r=uk(e,"string");return typeof r=="symbol"?r:r+""}function uk(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ln=class{constructor(){sk(this,"id",j())}showCamera(r,i,t,n){var o={type:r??"photo",quality:i??"high",camera:t??"BACK"};h===null||h===void 0||h.natively.trigger(this.id,2,n,"open_camera",o)}};function im(e,r){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,t)}return i}function zl(e){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?im(Object(i),!0).forEach(function(t){nm(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):im(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function nm(e,r,i){return(r=lk(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function lk(e){var r=ck(e,"string");return typeof r=="symbol"?r:r+""}function ck(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var cn=class{constructor(){nm(this,"id",j())}available(r){h===null||h===void 0||h.natively.trigger(this.id,10,r,"health_available",{})}requestAuthorization(r,i,t){h===null||h===void 0||h.natively.trigger(this.id,10,t,"health_register",{write_data_types:r,read_data_types:i})}permissionStatus(r,i){h===null||h===void 0||h.natively.trigger(this.id,10,i,"health_permission",{data_type:r})}getAllCharacteristics(r){h===null||h===void 0||h.natively.trigger(this.id,10,r,"health_get_all_characteristics",{})}getStatisticQuantity(r,i,t,n,o){var s={data_type:r,interval:i};t&&(s.start_date=t.getTime()),n&&(s.end_date=n.getTime()),h===null||h===void 0||h.natively.trigger(this.id,10,o,"health_get_statistic_quantity",s)}getDailySleepAnalysis(r,i,t,n){var o={limit:t||100};r&&(o.start_date=r.getTime()),i&&(o.end_date=i.getTime()),h===null||h===void 0||h.natively.trigger(this.id,10,n,"health_get_daily_sleep_analysis",o)}getWorkouts(r,i,t,n){var o={limit:t||100};r&&(o.start_date=r.getTime()),i&&(o.end_date=i.getTime()),h===null||h===void 0||h.natively.trigger(this.id,21,n,"health_get_workouts",o)}getHealthConnectStatus(r){h===null||h===void 0||h.natively.trigger(this.id,40,r,"health_connect_status",{})}installHealthConnect(r){h===null||h===void 0||h.natively.trigger(this.id,40,r,"health_connect_install",{})}writeWorkout(r,i){var t=zl({},r);r?.start_date instanceof Date&&(t.start_date=r.start_date.getTime()),r?.end_date instanceof Date&&(t.end_date=r.end_date.getTime()),h===null||h===void 0||h.natively.trigger(this.id,39,i,"health_write_workout",t)}writeNutrition(r,i){var t=zl({},r);r?.start_date instanceof Date&&(t.start_date=r.start_date.getTime()),r?.end_date instanceof Date&&(t.end_date=r.end_date.getTime()),Array.isArray(r?.items)&&(t.items=r.items.map(n=>{var o=zl({},n);return n?.start_date instanceof Date&&(o.start_date=n.start_date.getTime()),n?.end_date instanceof Date&&(o.end_date=n.end_date.getTime()),o})),h===null||h===void 0||h.natively.trigger(this.id,39,i,"health_write_nutrition",t)}getActivitySummary(r,i,t){var n={};r&&(n.start_date=r.getTime()),i&&(n.end_date=i.getTime()),h===null||h===void 0||h.natively.trigger(this.id,10,t,"health_get_activity_summary",n)}};function fk(e,r,i){return(r=dk(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function dk(e){var r=hk(e,"string");return typeof r=="symbol"?r:r+""}function hk(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var fn=class{constructor(){fk(this,"id",j())}showScanner(r){h===null||h===void 0||h.natively.trigger(this.id,2,r,"open_scanner",{})}showDocumentScanner(r,i,t,n,o,s,a,u,l,f,c,d,g){var v={};u&&(v.source=u),o&&(v.menuColor=o),f&&(v.pageMode=f),r!=null&&!isNaN(r)&&(v.jpegQuality=r),n&&(v.highlightColor=n),i&&(v.foregroundColor=i),t&&(v.backgroundColor=t),s&&(v.defaultFlashMode=s),a&&(v.defaultScanOrientation=a),c&&(v.defaultFilter=c),d&&(v.availableFilters=d),l&&(v.ocrConfiguration={languages:[l]}),h===null||h===void 0||h.natively.trigger(this.id,21,g,"open_document_scanner",v)}};function pk(e,r,i){return(r=vk(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function vk(e){var r=mk(e,"string");return typeof r=="symbol"?r:r+""}function mk(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var dn=class{constructor(){pk(this,"id",j())}login(r,i,t){var n=i??"";h===null||h===void 0||h.natively.trigger(this.id,3,t,"purchases_login",{login:r,email:n})}logout(r){h===null||h===void 0||h.natively.trigger(this.id,3,r,"purchases_logout",{})}customerId(r){h===null||h===void 0||h.natively.trigger(this.id,3,r,"purchases_customerid",{})}restore(r){h===null||h===void 0||h.natively.trigger(this.id,10,r,"purchases_restore",{})}showPaywall(r,i,t){var n={offeringId:i,shouldShowCloseButton:r};h===null||h===void 0||h.natively.trigger(this.id,38,t,"purchases_show_paywall",n)}showPaywallIfNeeded(r,i,t,n){var o={offeringName:t,entitlementId:r,shouldShowCloseButton:i};h===null||h===void 0||h.natively.trigger(this.id,38,n,"purchases_show_paywall_if_needed",o)}purchasePackage(r,i,t,n){h===null||h===void 0||h.natively.trigger(this.id,3,i,"purchases_package",{packageId:r,oldProductId:t??null,prorationMode:n??null})}packagePrice(r,i){h===null||h===void 0||h.natively.trigger(this.id,8,i,"purchases_price",{packageId:r})}};function gk(e,r,i){return(r=yk(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function yk(e){var r=_k(e,"string");return typeof r=="symbol"?r:r+""}function _k(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var hn=class{constructor(){gk(this,"id",j())}getAllContacts(r){h===null||h===void 0||h.natively.trigger(this.id,3,r,"contacts_all",{})}createContact(r,i,t,n,o){var s={firstName:r,lastName:i??"",email:t??"",phone:n??""};h===null||h===void 0||h.natively.trigger(this.id,3,o,"contacts_save",s)}};function bk(e,r,i){return(r=wk(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function wk(e){var r=Sk(e,"string");return typeof r=="symbol"?r:r+""}function Sk(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var pn=class{constructor(){bk(this,"id",j())}showMediaPicker(r){h===null||h===void 0||h.natively.trigger(this.id,8,r,"mediapicker",{})}};function xk(e,r,i){return(r=Ck(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function Ck(e){var r=kk(e,"string");return typeof r=="symbol"?r:r+""}function kk(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var vn=class{constructor(){xk(this,"id",j())}showRecorder(r,i){var t={max_duration:r??0};h===null||h===void 0||h.natively.trigger(this.id,13,i,"record_start",t)}};function om(e,r){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,t)}return i}function sm(e){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?om(Object(i),!0).forEach(function(t){am(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):om(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function am(e,r,i){return(r=Ik(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function Ik(e){var r=Ek(e,"string");return typeof r=="symbol"?r:r+""}function Ek(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var mn=class{constructor(){am(this,"id",j())}buildMetadata(r){var i={};return r&&(r.id!==void 0&&(i.id=r.id),r.title!==void 0&&(i.title=r.title),r.artist!==void 0&&(i.artist=r.artist),r.album!==void 0&&(i.album=r.album),r.genre!==void 0&&(i.genre=r.genre),r.artwork!==void 0&&(i.artwork=r.artwork),r.duration!=null&&(i.duration=r.duration),r.extras!==void 0&&(i.extras=r.extras)),i}play(r,i,t){var n,o,s=sm({source:r,is_stream:(n=i?.is_stream)!==null&&n!==void 0?n:!1,autoplay:(o=i?.autoplay)!==null&&o!==void 0?o:!0},this.buildMetadata(i));i?.headers!==void 0&&(s.headers=i.headers),i?.start_position!=null&&(s.start_position=i.start_position),i?.volume!=null&&(s.volume=i.volume),i?.speed!=null&&(s.speed=i.speed),h===null||h===void 0||h.natively.trigger(this.id,39,t,"audio_play",s)}pause(r){h===null||h===void 0||h.natively.trigger(this.id,39,r,"audio_pause",{})}stop(r){h===null||h===void 0||h.natively.trigger(this.id,39,r,"audio_stop",{})}seek(r,i){h===null||h===void 0||h.natively.trigger(this.id,39,i,"audio_seek",{position:r})}queueAdd(r,i,t){var n,o,s=sm({source:r,play_now:(n=i?.play_now)!==null&&n!==void 0?n:!1,is_stream:(o=i?.is_stream)!==null&&o!==void 0?o:!1},this.buildMetadata(i));i?.headers!==void 0&&(s.headers=i.headers),h===null||h===void 0||h.natively.trigger(this.id,39,t,"audio_queue_add",s)}queueGet(r){h===null||h===void 0||h.natively.trigger(this.id,39,r,"audio_queue_get",{})}queueRemove(r,i){h===null||h===void 0||h.natively.trigger(this.id,39,i,"audio_queue_remove",{index:r})}setMetadata(r,i){var t=this.buildMetadata(r);h===null||h===void 0||h.natively.trigger(this.id,39,i,"audio_set_metadata",t)}setVolume(r,i){h===null||h===void 0||h.natively.trigger(this.id,39,i,"audio_set_volume",{volume:r})}setSpeed(r,i){h===null||h===void 0||h.natively.trigger(this.id,39,i,"audio_set_speed",{speed:r})}};function Ok(e,r,i){return(r=Ak(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function Ak(e){var r=Nk(e,"string");return typeof r=="symbol"?r:r+""}function Nk(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var gn=class{constructor(r,i){var t,n,o,s,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=arguments.length>3?arguments[3]:void 0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,f=arguments.length>5?arguments[5]:void 0;Ok(this,"id",j());var c={};if(h!==null&&h!==void 0&&h.natively.isAndroidApp){var d;c.unitId=(d=r.androidUnitId)!==null&&d!==void 0?d:"ca-app-pub-3940256099942544/6300978111"}else if(h!==null&&h!==void 0&&h.natively.isIOSApp){var g;c.unitId=(g=r.iOSUnitId)!==null&&g!==void 0?g:"ca-app-pub-3940256099942544/2934735716"}c.position=(t=r.position)!==null&&t!==void 0?t:"BOTTOM",c.sizeType=(n=r.sizeType)!==null&&n!==void 0?n:"AUTO",c.width=(o=r.custom_width)!==null&&o!==void 0?o:320,c.height=(s=r.custom_height)!==null&&s!==void 0?s:50,h===null||h===void 0||h.natively.trigger(this.id,14,v=>{i?.(v),a&&(h===null||h===void 0||h.natively.trigger(this.id,14,_=>{u?.(_),l&&(h===null||h===void 0||h.natively.trigger(this.id,14,f,"bannerad_show",{}))},"bannerad_load",{}))},"bannerad_setup",c)}loadAd(r){h===null||h===void 0||h.natively.trigger(this.id,14,r,"bannerad_load",{})}showBanner(r){h===null||h===void 0||h.natively.trigger(this.id,14,r,"bannerad_show",{})}hideBanner(r){h===null||h===void 0||h.natively.trigger(this.id,14,r,"bannerad_hide",{})}bannerIsReady(r){h===null||h===void 0||h.natively.trigger(this.id,14,r,"bannerad_ready",{})}bannerIsVisible(r){h===null||h===void 0||h.natively.trigger(this.id,14,r,"bannerad_visible",{})}};function ks(e,r,i){return(r=Mk(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function Mk(e){var r=Pk(e,"string");return typeof r=="symbol"?r:r+""}function Pk(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var yn=class{constructor(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ca-app-pub-3940256099942544/4411468910",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ca-app-pub-3940256099942544/1033173712",t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=arguments.length>4?arguments[4]:void 0;ks(this,"id",j()),ks(this,"auto_ad_reload",void 0),ks(this,"auto_ad_reload_callback",void 0),ks(this,"unitId",void 0),h!==null&&h!==void 0&&h.natively.isAndroidApp?this.unitId=i:h!==null&&h!==void 0&&h.natively.isIOSApp&&(this.unitId=r),this.auto_ad_reload=n,this.auto_ad_reload_callback=o,this.loadAd(t)}loadAd(r){var i,t={unitId:(i=this.unitId)!==null&&i!==void 0?i:"ca-app-pub-3940256099942544/4411468910"};h===null||h===void 0||h.natively.trigger(this.id,14,r,"interstitialad_setup",t)}showInterstitialAd(r){h===null||h===void 0||h.natively.trigger(this.id,14,i=>{r(i),i.event==="DID_DISMISS_AD"&&this.auto_ad_reload&&setTimeout(()=>{this.loadAd(this.auto_ad_reload_callback)},500)},"interstitialad_show",{})}interstitialIsReady(r){h===null||h===void 0||h.natively.trigger(this.id,14,r,"interstitialad_ready",{})}};function _n(e,r,i){return(r=Tk(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function Tk(e){var r=Rk(e,"string");return typeof r=="symbol"?r:r+""}function Rk(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var bn=class{constructor(r,i,t,n){_n(this,"id",j()),_n(this,"readAlertMessage",void 0),_n(this,"writeAlertMessage",void 0),_n(this,"readDetectedMessage",void 0),_n(this,"writeDetectedMessage",void 0),this.readAlertMessage=r,this.writeAlertMessage=i,this.readDetectedMessage=t,this.writeDetectedMessage=n}read(r){var i,t,n={alertMessage:(i=this.readAlertMessage)!==null&&i!==void 0?i:"please set readAlertMessage",detectedMessage:(t=this.readDetectedMessage)!==null&&t!==void 0?t:"readDetectedMessage"};h===null||h===void 0||h.natively.trigger(this.id,15,r,"nfc_read",n)}write(r,i,t,n){var o,s,a={alertMessage:(o=this.writeAlertMessage)!==null&&o!==void 0?o:"please set writeAlertMessage",detectedMessage:(s=this.writeDetectedMessage)!==null&&s!==void 0?s:"please set writeDetectedMessage",recordData:i??"please set recordData",recordId:r??"please set recordId",recordDataType:t??"please set recordDataType"};h===null||h===void 0||h.natively.trigger(this.id,15,n,"nfc_write",a)}available(r){h===null||h===void 0||h.natively.trigger(this.id,15,r,"nfc_available",{})}};function $k(e,r,i){return(r=Dk(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function Dk(e){var r=Lk(e,"string");return typeof r=="symbol"?r:r+""}function Lk(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var wn=class{constructor(){$k(this,"id",j())}firebase_get_token(r){h===null||h===void 0||h.natively.trigger(this.id,31,r,"firebase_get_token")}firebase_get_apns_token(r){h===null||h===void 0||h.natively.trigger(this.id,31,r,"firebase_get_apns_token")}firebase_request_permission(r){h===null||h===void 0||h.natively.trigger(this.id,31,r,"firebase_request_permission")}firebase_has_permission(r){h===null||h===void 0||h.natively.trigger(this.id,31,r,"firebase_has_permission")}firebase_subscribe_to_topic(r,i){h===null||h===void 0||h.natively.trigger(this.id,31,i,"firebase_subscribe_to_topic",{topic:r})}firebase_unsubscribe_from_topic(r,i){h===null||h===void 0||h.natively.trigger(this.id,31,i,"firebase_unsubscribe_from_topic",{topic:r})}};function Fk(e,r,i){return(r=Bk(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function Bk(e){var r=Uk(e,"string");return typeof r=="symbol"?r:r+""}function Uk(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Sn=class{constructor(){Fk(this,"id",j())}setProfile(r,i){h===null||h===void 0||h.natively.trigger(this.id,32,i,"klaviyo_set_profile",r)}getExternalId(r){h===null||h===void 0||h.natively.trigger(this.id,32,r,"klaviyo_external_id")}resetProfile(r){h===null||h===void 0||h.natively.trigger(this.id,32,r,"klaviyo_reset_profile")}registerToken(r,i){h===null||h===void 0||h.natively.trigger(this.id,32,r,"klaviyo_register_token",{token:i})}pushPermission(r){h===null||h===void 0||h.natively.trigger(this.id,32,r,"klaviyo_push_permission")}pushRegister(r){h===null||h===void 0||h.natively.trigger(this.id,32,r,"klaviyo_push_register")}};function jk(e,r,i){return(r=zk(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function zk(e){var r=Wk(e,"string");return typeof r=="symbol"?r:r+""}function Wk(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var t=i.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var xn=class{constructor(){jk(this,"id",j())}createCalendarEvent(r,i,t,n,o,s,a){var u={title:r,timezone:n,calendarId:o,description:s,endDate:i?.toISOString(),startDate:t.toISOString()};h===null||h===void 0||h.natively.trigger(void 0,37,a,"calendar_event",u)}retrieveCalendars(r){h===null||h===void 0||h.natively.trigger(void 0,37,r,"retrieve_calendars",{})}};h&&(h.natively=new Zi,h.NativelyAdmobBanner=gn,h.NativelyAdmobInterstitial=yn,h.NativelyAppleSignInService=Qi,h.NativelyAudioRecorder=vn,h.NativelyAudioPlayer=mn,h.NativelyBiometrics=an,h.NativelyCamera=ln,h.NativelyClipboard=en,h.NativelyContacts=hn,h.NativelyDatePicker=un,h.NativelyGeolocation=nn,h.NativelyHealth=cn,h.NativelyInfo=tn,h.NativelyLocation=on,h.NativelyMediaPicker=pn,h.NativelyMessage=sn,h.NativelyNFCService=bn,h.NativelyNotifications=rn,h.NativelyPurchases=dn,h.NativelyScanner=fn,h.NativelyStorage=ir,h.NativelyCalendar=xn,h.NativelyFirebaseNotifications=wn,h.NativelyKlaviyoNotifications=Sn);h===null||h===void 0||h.natively.addObserver(()=>h===null||h===void 0?void 0:h.natively.trigger(void 0,0,e=>{h&&(h.natively.min_app_version=e.minSDKVersion,h.natively.app_version=e.sdkVersion)},"app_info",{}));var br=()=>{let e=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",r=typeof ir<"u"&&!e,i=Ot(()=>r?new ir:(e&&console.log("\u{1F527} Storage: localhost \u2192 localStorage only (instant)."),null),[]);return{setItem:(u,l)=>{localStorage.setItem(u,l),i&&i.setStorageValue(u,l)},getItem:u=>{let l=localStorage.getItem(u);if(i){let f=setTimeout(()=>{console.warn(`\u23F1\uFE0F [NativelyStorage] Background verify timeout for "${u}".`)},2e3);i.getStorageValue(u,c=>{clearTimeout(f);let d=c.value;d!=null&&d!==l&&(console.log(`\u{1F504} [NativelyStorage] Reconciled "${u}": native="${d}" wins over local="${l}".`),localStorage.setItem(u,d))})}return Promise.resolve(l)},removeItem:u=>{localStorage.removeItem(u),i&&i.removeStorageValue(u)},clear:()=>{localStorage.clear(),i&&i.resetStorage()},probeNative:()=>new Promise(u=>{if(!i){u("localStorage-only");return}let l="__natively_probe__";i.setStorageValue(l,"ok");let f=setTimeout(()=>{u("timeout (localStorage fallback)")},1500);i.getStorageValue(l,c=>{clearTimeout(f),i.removeStorageValue(l),u(c.value==="ok"?"native bridge active":`unexpected: ${c.value}`)})})}};var Vk={dark:{bg:"#1B1B2F",surface:"#252538",textPrimary:"#FFFFFF",textSecondary:"rgba(255,255,255,0.6)",textMuted:"rgba(255,255,255,0.3)",border:"rgba(255,255,255,0.1)",navInactive:"rgba(255,255,255,0.6)",lockedBg:"#3C3C4E",lockedShadow:"#2A2A3A",lockedIcon:"rgba(255,255,255,0.35)",labelCompleted:"rgba(255,255,255,0.5)",labelCurrent:"#FFFFFF",labelLocked:"rgba(255,255,255,0.25)",floatBg:"#2B2B3D",floatBorder:"#4A4A5E",menuActive:"rgba(255,255,255,0.1)",menuShadow:"0 8px 24px rgba(0,0,0,0.4)",backdrop:"rgba(0,0,0,0.4)",creditsText:"#D4D4D4",glassBg:"rgba(255,255,255,0.05)",glassBorder:"rgba(255,255,255,0.1)"},light:{bg:"#F0F0F5",surface:"#FFFFFF",textPrimary:"#1B1B2F",textSecondary:"rgba(0,0,0,0.55)",textMuted:"rgba(0,0,0,0.3)",border:"rgba(0,0,0,0.08)",navInactive:"rgba(0,0,0,0.45)",lockedBg:"#D0D0D8",lockedShadow:"#B0B0B8",lockedIcon:"rgba(0,0,0,0.25)",labelCompleted:"rgba(0,0,0,0.45)",labelCurrent:"#1B1B2F",labelLocked:"rgba(0,0,0,0.2)",floatBg:"#FFFFFF",floatBorder:"#D0D0D8",menuActive:"rgba(0,0,0,0.06)",menuShadow:"0 8px 24px rgba(0,0,0,0.12)",backdrop:"rgba(0,0,0,0.25)",creditsText:"#555555",glassBg:"rgba(255,255,255,0.6)",glassBorder:"rgba(0,0,0,0.06)"}},Wl=["system","on","off"],qk={system:"System",on:"On",off:"Off"},Gk=({theme:e,darkModePref:r,setDarkModePref:i})=>b.createElement("div",{className:"p-6"},b.createElement("h2",{className:"text-2xl font-bold mb-6",style:{color:e.textPrimary}},"Profile"),b.createElement("div",{className:"rounded-2xl p-4 border border-solid",style:{background:e.glassBg,borderColor:e.glassBorder,backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",transition:"background 0.3s ease"}},b.createElement("div",{className:"flex items-center justify-between"},b.createElement("div",{className:"flex items-center gap-3"},b.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:e.textSecondary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},b.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})),b.createElement("span",{className:"font-semibold text-[15px]",style:{color:e.textPrimary}},"Dark Mode")),b.createElement("div",{className:"flex rounded-xl overflow-hidden",style:{background:e.border}},Wl.map((t,n)=>{let o=r===t,s=r===Wl[n+1],a=n<Wl.length-1&&!o&&!s;return b.createElement("div",{key:t,className:"flex items-center"},b.createElement("button",{onClick:()=>i(t),className:"px-3 py-1.5 text-[12px] font-bold transition-all duration-200",style:{background:o?"#E44B8E":"transparent",color:o?"#fff":e.textSecondary}},qk[t]),a&&b.createElement("div",{style:{width:1,height:14,background:e.textMuted}}))}))))),Vl=({title:e,theme:r})=>b.createElement("div",{className:"p-8 text-center",style:{color:r.textPrimary}},b.createElement("h2",{className:"text-2xl font-bold mb-4"},e),b.createElement("p",{style:{opacity:.7}},"Coming Soon")),ql="bonds_dark_mode",Hk=()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",Kk=({userProps:e})=>{let r=br(),[i,t]=U(()=>localStorage.getItem(ql)||"system"),n=O=>{t(O),r.setItem(ql,O)};ze(()=>{r.getItem(ql).then(O=>{O&&O!==i&&t(O)})},[]);let[o,s]=U(Hk);ze(()=>{let O=window.matchMedia("(prefers-color-scheme: dark)"),T=M=>s(M.matches?"dark":"light");return O.addEventListener("change",T),()=>O.removeEventListener("change",T)},[]);let u=Vk[i==="on"?"dark":i==="off"?"light":o],[l,f]=U("journey"),[c,d]=U({journey:["journey"],simulator:["simulator"],fun:["fun"],profile:["profile"]}),[g,v]=U(null),_=(O,T={})=>{v("push"),d(M=>({...M,[l]:[...M[l],{id:O,...T}]}))},m=()=>{v("pop"),d(O=>{let T=O[l];return T.length<=1?O:{...O,[l]:T.slice(0,-1)}})},y=O=>{O!==l&&(v("tab"),f(O))},w=c[l],S=w[w.length-1],C=typeof S=="string"?S:S.id,x=typeof S=="object"?S:{},I=()=>{let O={...e,push:_,pop:m,theme:u,...x},T;switch(l){case"journey":T=b.createElement(Cs,{...O});break;case"simulator":T=b.createElement(Vl,{title:"Simulator",theme:u});break;case"fun":T=b.createElement(Vl,{title:"Fun",theme:u});break;case"profile":T=b.createElement(Gk,{theme:u,darkModePref:i,setDarkModePref:n});break;default:T=b.createElement(Vl,{title:"Not Found",theme:u})}let M=g==="push"?"animate-slide-in-right":g==="pop"?"animate-slide-in-left":g==="tab"?"animate-tab-switch":"";return b.createElement("div",{key:`${l}-${w.length}`,className:`w-full min-h-full ${M}`},T)},E=({id:O,label:T,icon:M})=>{let $=l===O;return b.createElement("button",{onClick:()=>y(O),className:`flex flex-col items-center justify-center gap-1 transition-[color,transform,opacity] duration-200 ease-out ${$?"font-bold scale-110 active-tab-shimmer":"font-medium scale-100"}`,style:{color:$?"#E44B8E":u.navInactive,opacity:$?1:.7}},M,b.createElement("span",{className:"font-jakarta text-[10px] tracking-wide"},T))},P={journey:b.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},b.createElement("circle",{cx:"12",cy:"12",r:"10"}),b.createElement("path",{d:"M16.24 7.76l-2.12 6.36-6.36 2.12 2.12-6.36 6.36-2.12z"})),simulator:b.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},b.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),b.createElement("path",{d:"M8 10h.01"}),b.createElement("path",{d:"M12 10h.01"}),b.createElement("path",{d:"M16 10h.01"})),fun:b.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},b.createElement("path",{d:"M20 12v10H4V12"}),b.createElement("path",{d:"M2 7h20v5H2z"}),b.createElement("path",{d:"M12 22V7"}),b.createElement("path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}),b.createElement("path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"})),profile:b.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},b.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),b.createElement("circle",{cx:"12",cy:"7",r:"4"}))};return b.createElement("div",{className:"w-full h-full font-poppins flex flex-col overflow-hidden",style:{background:u.bg,transition:"background 0.3s ease"}},b.createElement("div",{className:"flex-1 min-h-0 overflow-y-auto scrollbar-hide relative overflow-x-hidden"},w.length>1&&b.createElement("div",{className:"absolute top-4 left-4 z-50"},b.createElement("button",{onClick:m,className:"p-2 rounded-full border border-solid transition-colors",style:{background:u.glassBg,borderColor:u.glassBorder,color:u.textPrimary,backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"}},b.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},b.createElement("polyline",{points:"15 18 9 12 15 6"})))),I()),b.createElement("div",{className:"shrink-0 h-20 border-t border-solid",style:{background:u.glassBg,borderColor:u.glassBorder,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"background 0.3s ease, border-color 0.3s ease"}},b.createElement("div",{className:"flex items-center justify-around h-full max-w-[500px] mx-auto px-4"},b.createElement(E,{id:"journey",label:"Journey",icon:P.journey}),b.createElement(E,{id:"simulator",label:"Simulator",icon:P.simulator}),b.createElement(E,{id:"fun",label:"Fun",icon:P.fun}),b.createElement(E,{id:"profile",label:"Profile",icon:P.profile}))))},um=Kk;var Yk=({question:e,options:r=[],refreshable:i=!0,previousAnswer:t,onAnswer:n,onRefresh:o})=>{let[s,a]=U(t?.index??null),[u,l]=U(""),[f,c]=U(0),d=Ae(null),g=(m,y)=>{a(y);let w=typeof m=="string"?m:m.text,S=typeof m=="string"?"":m.variable||"";n&&n({answer:w,variable:S,index:y})},v=()=>{l("out"),d.current&&(d.current.classList.remove("refresh-spin"),d.current.offsetWidth,d.current.classList.add("refresh-spin")),setTimeout(()=>{a(null),o&&o(),c(m=>m+1),l("in"),setTimeout(()=>l(""),450)},300)};return b.createElement("div",{className:"flex flex-col h-full w-full"},b.createElement("div",{className:"flex-1 px-7 pt-8 pb-6 w-full overflow-hidden"},b.createElement("h1",{className:"font-bold text-[22px] text-white leading-[30px] tracking-[0.02em] mb-8"},e),b.createElement("div",{className:`space-y-4 ${u==="out"?"refresh-out":u==="in"?"refresh-in":""}`,key:f},r.map((m,y)=>{let w=typeof m=="string"?m:m.text;return b.createElement("button",{key:y,onClick:()=>g(m,y),className:`w-full text-left px-5 py-4 rounded-xl border border-solid transition-colors duration-200
                                    ${s===y?"bg-white/20 border-white/30 shadow-[inset_0_2px_8px_rgba(255,255,255,0.1)]":"bg-white/[0.07] border-white/10 hover:bg-white/10"}`},b.createElement("span",{className:"font-medium text-[14px] text-white leading-[22px] tracking-[0.02em]"},w))}))),i&&b.createElement("div",{className:"shrink-0 pb-10 w-full flex flex-col items-center gap-1"},b.createElement("span",{className:"font-medium text-[14px] text-white tracking-[0.5px]"},"Choose the most relevant option"),b.createElement("span",{className:"font-medium text-[10px] text-white tracking-[0.5px]"},"or"),b.createElement("button",{onClick:v,className:"flex items-center gap-2 mt-1 group",disabled:u!==""},b.createElement("svg",{ref:d,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",style:{willChange:"transform"}},b.createElement("path",{d:"M1.667 3.333v5h5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),b.createElement("path",{d:"M3.51 12.5a7.5 7.5 0 1 0 1.14-7.833L1.667 8.333",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),b.createElement("span",{className:"font-medium text-[14px] text-white tracking-[0.5px] underline decoration-solid"},"Refresh answers"))))},lm=Yk;var Jk=({question:e,stops:r=[],previousAnswer:i,onAnswer:t})=>{let[n,o]=U(i?.index??null),[s,a]=U(i?r.length:0),[u,l]=U(null),f=Ae(i?.index??null);ze(()=>{i||r.forEach((v,_)=>{setTimeout(()=>a(m=>Math.max(m,_+1)),120*(_+1))})},[]);let c=(v,_)=>{f.current=n,o(_),l(_),setTimeout(()=>l(null),600)},d=()=>{if(n===null)return;let v=r[n];t({answer:v.label,variable:v.variable,index:n})},g=()=>n===null||r.length<=1?0:n/(r.length-1)*100;return b.createElement("div",{className:"flex flex-col h-full w-full"},b.createElement("div",{className:"flex-1 px-7 pt-8 pb-6 w-full flex flex-col"},b.createElement("h1",{className:"font-bold text-[22px] text-white leading-[30px] tracking-[0.02em] mb-6"},e),b.createElement("div",{className:"flex-1 flex items-center"},b.createElement("div",{className:"relative w-full py-2"},r.map((v,_)=>{let m=n===_,y=n!==null&&_<=n,w=_<s,S=u===_;return b.createElement("div",{key:_,className:`stop-reveal flex items-center gap-4 py-[10px] ${w?"":"invisible"}`,style:{animationDelay:i?"0ms":`${120*_}ms`}},b.createElement("div",{className:"relative flex flex-col items-center shrink-0 w-6"},_>0&&b.createElement("div",{className:`absolute -top-[10px] w-[3px] h-[10px] rounded-full transition-[background-color] duration-300 ${y?"bg-[#FF2258]":"bg-white/15"}`}),b.createElement("button",{onClick:()=>c(v,_),className:`relative w-6 h-6 rounded-full border-2 border-solid transition-[background-color,border-color,box-shadow] duration-200 ${m?"bg-[#FF2258] border-[#FF2258] shadow-[0_0_16px_rgba(255,34,88,0.6)]":y?"bg-[#FF2258] border-[#FF2258]":"bg-white/10 border-white/30"} ${S?"dot-pop":""}`}),_<r.length-1&&b.createElement("div",{className:`absolute -bottom-[10px] w-[3px] h-[10px] rounded-full transition-[background-color] duration-300 ${y&&_<n?"bg-[#FF2258]":"bg-white/15"}`})),b.createElement("button",{onClick:()=>c(v,_),className:"flex items-center gap-3 flex-1 min-w-0"},b.createElement("span",{className:`text-2xl select-none ${S?"emoji-bounce":""}`,style:{display:"inline-block"}},v.emoji||""),b.createElement("span",{className:`text-[15px] leading-snug transition-colors duration-200 ${m?"text-white font-bold":y?"text-white/80 font-medium":"text-white/40 font-medium"}`},v.label)))})))),b.createElement("div",{className:"shrink-0 pb-10 px-7 w-full"},b.createElement("button",{onClick:d,disabled:n===null,className:`w-full h-[54px] rounded-[40px] flex items-center justify-center transition-[background-color,opacity,transform] duration-200 ${n!==null?"bg-gradient-to-l from-[#B900B0] to-[#D8003F] shadow-lg active:scale-95":"bg-white/10 border border-solid border-white/10"}`},b.createElement("span",{className:`font-semibold text-[16px] tracking-[2px] uppercase ${n!==null?"text-white":"text-white/30"}`},"Continue"))))},cm=Jk;var Xk=({question:e,options:r=[],maxSelections:i=3,previousAnswer:t,onAnswer:n})=>{let[o,s]=U(()=>t?.indices?new Set(t.indices):new Set),a=f=>{s(c=>{let d=new Set(c);return d.has(f)?d.delete(f):d.size<i&&d.add(f),d})},u=()=>{if(o.size!==i)return;let f=[...o].sort((g,v)=>g-v),c=f.map(g=>{let v=r[g];return typeof v=="string"?v:v.text}),d=f.map(g=>{let v=r[g];return typeof v=="string"?"":v.variable||""});n({answer:c.join(","),variable:d.join(","),indices:f})},l=o.size>=i;return b.createElement("div",{className:"flex flex-col h-full w-full"},b.createElement("div",{className:"flex-1 px-7 pt-8 pb-6 w-full overflow-y-auto"},b.createElement("h1",{className:"font-bold text-[22px] text-white leading-[30px] tracking-[0.02em] mb-2"},e),b.createElement("p",{className:"text-white/50 text-[13px] font-medium mb-6"},o.size," / ",i," selected"),b.createElement("div",{className:"flex flex-wrap gap-3"},r.map((f,c)=>{let d=typeof f=="string"?f:f.text,g=o.has(c);return b.createElement("button",{key:c,onClick:()=>a(c),className:`px-5 py-3 rounded-full border border-solid transition-colors duration-200 ${g?"bg-white/20 border-white/40 shadow-[inset_0_2px_8px_rgba(255,255,255,0.1)]":l&&!g?"bg-white/[0.02] border-white/[0.06] opacity-40":"bg-white/[0.07] border-white/10 hover:bg-white/10"}`},b.createElement("span",{className:`font-medium text-[14px] leading-[20px] tracking-[0.02em] ${g?"text-white":"text-white/70"}`},d))}))),b.createElement("div",{className:"shrink-0 pb-10 px-7 w-full"},b.createElement("button",{onClick:u,disabled:o.size!==i,className:`w-full h-[54px] rounded-[40px] flex items-center justify-center transition-[background-color,opacity] duration-200 ${o.size===i?"bg-gradient-to-l from-[#B900B0] to-[#D8003F] shadow-lg active:scale-95":"bg-white/10 border border-solid border-white/10"}`},b.createElement("span",{className:`font-semibold text-[16px] tracking-[2px] uppercase ${o.size===i?"text-white":"text-white/30"}`},"Continue"))))},fm=Xk;var Zk=({question:e,placeholder:r,charGuidance:i,previousAnswer:t,onAnswer:n})=>{let[o,s]=U(t?.answer||""),a=()=>{o.trim()&&n({answer:o.trim(),variable:""})};return b.createElement("div",{className:"flex flex-col h-full w-full"},b.createElement("div",{className:"flex-1 px-7 pt-8 pb-6 w-full flex flex-col"},b.createElement("h1",{className:"font-bold text-[22px] text-white leading-[30px] tracking-[0.02em] mb-6"},e),b.createElement("div",{className:"relative flex-1 max-h-[220px]"},b.createElement("textarea",{value:o,onChange:u=>s(u.target.value),placeholder:r||"Type your answer...",className:"w-full h-full resize-none rounded-2xl px-5 py-4 bg-white/[0.07] border border-solid border-white/10 text-white text-[15px] leading-[24px] font-medium placeholder:text-white/30 focus:outline-none focus:border-white/25 transition-colors"}),i&&b.createElement("span",{className:`absolute bottom-3 right-4 text-[11px] font-medium ${o.length>i?"text-[#FF2258]/70":"text-white/25"}`},o.length," / ",i))),b.createElement("div",{className:"shrink-0 pb-10 px-7 w-full"},b.createElement("button",{onClick:a,disabled:!o.trim(),className:`w-full h-[54px] rounded-[40px] flex items-center justify-center transition-[background-color,opacity] duration-200 ${o.trim()?"bg-gradient-to-l from-[#B900B0] to-[#D8003F] shadow-lg active:scale-95":"bg-white/10 border border-solid border-white/10"}`},b.createElement("span",{className:`font-semibold text-[16px] tracking-[2px] uppercase ${o.trim()?"text-white":"text-white/30"}`},"Continue"))))},dm=Zk;var Qk={"single-select":lm,slider:cm,"multi-select":fm,"open-question":dm},Gl="onboarding_state",eI=({steps:e=[],credits:r=0,initialStep:i=0,initialAnswers:t={},showCredits:n=!0,onComplete:o,onBack:s})=>{let[a,u]=U(i),[l,f]=U(r),[c,d]=U(t),[g,v]=U("forward"),[_,m]=U(!1),[y,w]=U(!1),[S,C]=U({}),[x,I]=U(!1),[E,P]=U(!1),O=Ae(null),T=Ae(!1),M=br();ze(()=>{let re=!1;return Promise.all([M.getItem(Gl),M.getItem("credits_intro_seen")]).then(([le,ce])=>{if(!re){if(ce==="true"&&P(!0),le)try{let Z=JSON.parse(le);Z.currentStep!=null&&u(Z.currentStep),Z.answers&&d(Z.answers),Z.credits!=null&&f(Z.credits),Z.rotationOffsets&&C(Z.rotationOffsets)}catch(Z){console.warn("Failed to restore onboarding state:",Z)}I(!0)}}),()=>{re=!0}},[]);let $=e[a],G=e.length,z=(a+1)/G*100,D=je((re,le)=>{if(re.optionPool&&re.visibleCount){let ce=re.optionPool,Z=re.visibleCount,Oe=S[le]||0,ot=[];for(let Je=0;Je<Z;Je++)ot.push(ce[(Oe+Je)%ce.length]);return ot}return re.options},[S]),Ce=je((re,le,ce,Z)=>{let Oe={currentStep:re,answers:le,credits:ce,rotationOffsets:Z};M.setItem(Gl,JSON.stringify(Oe))},[M]),Ue=je(()=>{_||a>=G-1||(v("forward"),m(!0),setTimeout(()=>{u(re=>re+1),m(!1),w(!1)},300))},[a,G,_]),he=je(()=>{_||a===0||(v("back"),m(!0),setTimeout(()=>{u(re=>re-1),m(!1),w(!1)},300))},[a,_]),Fe=je(re=>{if(y)return;w(!0);let le=!c[a],ce=le?l+1:l,Z={questionId:$?.questionId,type:$?.type,...re},Oe={...c,[a]:Z};d(Oe),le&&f(ce);let ot=a+1;Ce(ot,Oe,ce,S),Ct("bubble_fn_onboarding","step_complete",{step:a,answer:re.answer||"",variable:re.variable||""});let Je=()=>{a>=G-1?(M.removeItem(Gl),Ct("bubble_fn_onboarding","complete",{answers:JSON.stringify(Oe),credits:ce}),o&&o(Oe,ce)):setTimeout(()=>Ue(),600)};le&&l===0&&!E&&!T.current?setTimeout(()=>et().then(Je),500):(le&&ht(),Je())},[a,$,c,l,G,Ue,Ce,M,y,S,o,E]),qe=je(()=>{let re=e[a];!re||!re.optionPool||!re.visibleCount||(C(le=>{let ce=le[a]||0;return{...le,[a]:ce+re.visibleCount}}),Ct("bubble_fn_onboarding","refresh",{step:a}))},[a,e]),ht=()=>{n&&O.current&&(O.current.style.transition="transform 0.3s ease",O.current.style.transform="translateY(-50%) scale(1.2)",setTimeout(()=>{O.current&&(O.current.style.transform="translateY(-50%) scale(1)")},300))},et=()=>new Promise(re=>{if(!O.current||T.current){re();return}T.current=!0;let le=O.current.getBoundingClientRect(),ce=document.createElement("div");ce.className="dim-overlay",document.body.appendChild(ce),requestAnimationFrame(()=>ce.classList.add("active"));let Z=document.createElement("div");Z.id="credit-intro-circle",Z.style.cssText=`
                position: fixed;
                top: ${le.top}px;
                left: ${le.left}px;
                width: ${le.width}px;
                height: ${le.height}px;
                z-index: 10000;
                pointer-events: none;
                transition: top 0.7s cubic-bezier(0.16, 1, 0.3, 1),
                            left 0.7s cubic-bezier(0.16, 1, 0.3, 1),
                            width 0.7s cubic-bezier(0.16, 1, 0.3, 1),
                            height 0.7s cubic-bezier(0.16, 1, 0.3, 1);
            `,Z.innerHTML=`
                <div style="width:100%;height:100%;background:#FF2258;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 0 40px rgba(255,34,88,0.5);">
                    <span id="credit-intro-num" style="font-family:'Plus Jakarta Sans',sans-serif;font-weight:800;font-size:0.75rem;color:white;letter-spacing:0.05em;line-height:1;transition:font-size 0.7s cubic-bezier(0.16,1,0.3,1);">0</span>
                </div>
            `,document.body.appendChild(Z);let Oe=document.createElement("div");Oe.style.cssText=`
                position: fixed;
                inset: 0;
                z-index: 9999;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                pointer-events: none;
                opacity: 0;
                transition: opacity 0.5s ease;
            `,Oe.innerHTML=`
                <div style="width:96px;height:96px;margin-bottom:24px;"></div>
                <p style="font-family:'Plus Jakarta Sans',sans-serif;font-weight:700;font-size:18px;color:white;margin:0 0 8px 0;line-height:1.4;text-align:center;">
                    Meet your Credits! &#x1F389;
                </p>
                <p style="font-family:'Poppins',sans-serif;font-weight:400;font-size:14px;color:rgba(255,255,255,0.7);margin:0 0 24px 0;line-height:1.5;text-align:center;max-width:280px;padding:0 20px;">
                    Every answer earns you a credit.<br/>Use them to unlock experiences in Bonds.
                </p>
                <button id="credit-intro-cta" style="
                    pointer-events:auto;
                    font-family:'Plus Jakarta Sans',sans-serif;
                    font-weight:700;
                    font-size:16px;
                    color:#FF2258;
                    background:white;
                    border:none;
                    border-radius:40px;
                    padding:14px 48px;
                    cursor:pointer;
                    letter-spacing:0.5px;
                    box-shadow:0 4px 20px rgba(255,34,88,0.3);
                    transition:transform 0.15s ease, box-shadow 0.15s ease;
                ">OK, Cool!</button>
            `,document.body.appendChild(Oe);let ot=Oe.querySelector("div").getBoundingClientRect(),Je=!1,st=()=>{Je||(Je=!0,Oe.style.opacity="0",setTimeout(()=>{ce.classList.remove("active");let ke=O.current?.getBoundingClientRect();if(ke){Z.style.top=ke.top+"px",Z.style.left=ke.left+"px",Z.style.width=ke.width+"px",Z.style.height=ke.height+"px";let at=document.getElementById("credit-intro-num");at&&(at.style.fontSize="0.75rem")}},500),setTimeout(()=>{Z.remove(),Oe.remove(),ce.remove(),ht(),P(!0),M.setItem("credits_intro_seen","true"),T.current=!1,re()},1300))};requestAnimationFrame(()=>{requestAnimationFrame(()=>{Z.style.top=ot.top+"px",Z.style.left=ot.left+"px",Z.style.width="96px",Z.style.height="96px";let ke=document.getElementById("credit-intro-num");ke&&(ke.style.fontSize="2.5rem")})}),setTimeout(()=>{let ke=document.getElementById("credit-intro-num");ke&&(ke.innerText="1")},800),setTimeout(()=>{Oe.style.opacity="1";let ke=document.getElementById("credit-intro-cta");ke&&(ke.addEventListener("click",st),ke.addEventListener("touchend",at=>{at.preventDefault(),st()}))},1100)});if(!x)return b.createElement("div",{className:"w-full h-full",style:{background:"linear-gradient(160deg, #2E4695 0%, #652664 100%)"}});let kt=$?Qk[$.type]:null,Ge=()=>_?g==="forward"?"animate-slide-out-left":"animate-slide-out-right":"animate-fade-in",It=c[a]||null,ne=$?D($,a):[];return b.createElement("div",{className:"flex flex-col w-full h-full overflow-hidden font-jakarta",style:{background:"linear-gradient(160deg, #2E4695 0%, #652664 100%)"}},b.createElement("div",{className:"relative z-20 shrink-0 pt-[18px] pb-4 px-[18px]"},b.createElement("button",{onClick:a===0&&s?s:he,className:`w-8 h-8 rounded-full border border-solid border-white/40 flex items-center justify-center transition-opacity duration-200 ${a===0&&!s?"opacity-0 pointer-events-none":"hover:bg-white/10"}`},b.createElement("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none"},b.createElement("path",{d:"M6 1L1 6L6 11",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),b.createElement("div",{className:"absolute left-1/2 top-[18px] -translate-x-1/2 flex flex-col gap-1.5 items-center"},b.createElement("span",{className:"font-semibold text-[10px] text-white tracking-[0.5px]"},a+1,"/",G),b.createElement("div",{className:"h-[14px] w-[180px] rounded-[90px] border border-solid border-white/50 bg-white/[0.06] overflow-hidden"},b.createElement("div",{className:"h-full rounded-[90px] bg-white/30 transition-[width] duration-500 ease-out",style:{width:`${z}%`}}))),n&&b.createElement("div",{className:"absolute top-4 -right-[95px] z-10"},b.createElement("div",{className:"relative w-[180px] h-10 rounded-full flex items-center border border-solid border-white/50"},b.createElement("div",{ref:O,className:"absolute left-1 top-1/2 -translate-y-1/2 w-8 h-8 bg-[#FF2258] rounded-full flex items-center justify-center shadow-lg"},b.createElement("span",{className:"font-jakarta font-extrabold text-xs text-white tracking-wide leading-none"},l)),b.createElement("span",{className:"absolute left-[42px] top-1/2 translate-y-[6px] font-jakarta font-medium text-[10px] text-white tracking-wide leading-none"},"Credits")))),b.createElement("div",{className:"w-full h-px bg-white/15"}),b.createElement("div",{className:`flex-1 flex flex-col overflow-hidden ${Ge()}`,key:a},kt?b.createElement(kt,{...$,options:ne,previousAnswer:It,onAnswer:Fe,onRefresh:qe}):b.createElement("div",{className:"flex-1 flex items-center justify-center"},b.createElement("span",{className:"text-white/50 text-sm"},"Unknown step type: ",$?.type))))},Is=eI;var tI=({category:e,question:r,options:i,userName:t,credits:n,selectedAnswer:o})=>{let[s,a]=U(n||0),[u,l]=U(o),[f,c]=U(o!=null),[d,g]=U(f),v=Ae(null),_=Ae(null),m=(C,x)=>{f||(c(!0),l(x),setTimeout(()=>{g(!0)},800),Ct("bubble_fn_daily_question","vote",{answer:C,index:x}),setTimeout(()=>{y()},2e3))},y=()=>{let C=document.createElement("div");C.className="dim-overlay active",document.body.appendChild(C);let x=document.createElement("div");x.className="credit-overlay credit-center-animation",x.style.cssText=`
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
            pointer-events: none;
        `,x.innerHTML=`
            <div class="w-24 h-24 bg-[#FF2258] rounded-full flex items-center justify-center shadow-2xl">
                <span id="overlayCreditsNumber" class="font-jakarta font-extrabold text-4xl text-white tracking-wide leading-none">
                    ${s}
                </span>
            </div>
        `,document.body.appendChild(x),setTimeout(()=>{let I=document.getElementById("overlayCreditsNumber"),E=s,P=s+1,O=600,T=null;function M($){T||(T=$);let G=Math.min(($-T)/O,1),z=1-Math.pow(1-G,4),D=Math.round(E+(P-E)*z);I&&(I.innerText=D),G<1&&requestAnimationFrame(M)}requestAnimationFrame(M)},600),setTimeout(()=>{if(x.classList.remove("credit-center-animation"),x.classList.add("credit-move-animation"),C.classList.remove("active"),x.offsetHeight,v.current){let I=v.current.getBoundingClientRect();x.style.top=I.top+"px",x.style.left=I.left+"px",x.style.transform="scale(1)";let E=x.querySelector("div");E.style.transition="width 600ms cubic-bezier(0.4, 0, 0.2, 1), height 600ms cubic-bezier(0.4, 0, 0.2, 1)",E.style.width="32px",E.style.height="32px",E.querySelector("span").style.fontSize="0.75rem"}},1200),setTimeout(()=>{a(I=>I+1),v.current&&(v.current.style.transition="transform 0.3s ease",v.current.style.transform="translateY(-50%) scale(1.2)",setTimeout(()=>{v.current&&(v.current.style.transform="translateY(-50%) scale(1)")},300)),x.remove(),C.remove()},1800)},w=()=>{Ct("bubble_fn_daily_question","start_planning")};return b.createElement("div",{className:"relative w-full h-full overflow-x-hidden gradient-purple-orange font-poppins flex flex-col"},b.createElement("div",{className:"absolute top-0 left-0 w-full z-20 pointer-events-none"},b.createElement("button",{onClick:()=>{Ct("bubble_fn_daily_question","close")},className:"pointer-events-auto absolute top-[18px] left-[18px] w-8 h-8 flex items-center justify-center hover:opacity-80 transition-opacity z-20"},b.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},b.createElement("path",{d:"M13.6675 1.99162C14.1108 1.53601 14.1108 0.79732 13.6675 0.341709C13.2243 -0.113903 12.5056 -0.113903 12.0623 0.341709L7 5.54491L1.9377 0.341709C1.49442 -0.113903 0.775732 -0.113903 0.332457 0.341708C-0.110818 0.79732 -0.110818 1.53601 0.332457 1.99162L5.20521 7L0.332456 12.0084C-0.110819 12.464 -0.110819 13.2027 0.332456 13.6583C0.77573 14.1139 1.49442 14.1139 1.93769 13.6583L7 8.45509L12.0623 13.6583C12.5056 14.1139 13.2243 14.1139 13.6675 13.6583C14.1108 13.2027 14.1108 12.464 13.6675 12.0084L8.79479 7L13.6675 1.99162Z",fill:"white"}))),b.createElement("div",{className:"absolute top-4 -right-[95px] z-10"},b.createElement("div",{className:"relative w-[180px] h-10 rounded-full flex items-center border border-solid border-white/50"},b.createElement("div",{ref:v,id:"creditsCircle",className:"absolute left-1 top-1/2 -translate-y-1/2 w-8 h-8 bg-[#FF2258] rounded-full flex items-center justify-center shadow-lg"},b.createElement("span",{className:"font-jakarta font-extrabold text-xs text-white tracking-wide leading-none"},s)),b.createElement("span",{className:"absolute left-[42px] top-1/2 translate-y-[6px] font-jakarta font-medium text-[10px] text-white tracking-wide leading-none"},"Credits")))),b.createElement("div",{className:"flex flex-col flex-1 min-h-0 px-9 pt-[78px] pb-8 max-w-[375px] mx-auto relative z-10 overflow-y-auto"},b.createElement("div",{className:"font-jakarta font-medium text-lg text-white mb-8"},e||"Time Together"),b.createElement("div",{className:"font-poppins font-semibold text-xl text-white leading-[30px] tracking-[0.02em] mb-8 max-w-[303px]"},r),b.createElement("div",{className:"space-y-4"},i.map((C,x)=>{let I=C.index!==void 0?C.index:x+1,E=f&&u===I;return b.createElement("div",{key:I,className:`daily-question-option relative w-full max-w-[315px] h-9 bg-white/[0.07] border border-solid border-white/10 rounded-lg cursor-pointer overflow-hidden transition-[background-color] duration-200 hover:bg-white/10 ${f?"voted pointer-events-none":""} ${E?"selected-option":""}`,onClick:()=>m(C.text,I)},b.createElement("div",{className:"option-bar absolute left-0 top-0 h-full bg-[#6D6987]/70 rounded-lg",style:{width:f?`${C.percent}%`:"0%"}}),b.createElement("div",{className:"relative flex items-center justify-between h-full px-[42px] z-10"},b.createElement("span",{className:"font-poppins font-bold text-sm text-[#F8F8F8] tracking-[0.02em]"},C.text),b.createElement("span",{className:`percentage font-poppins text-xs text-[#F8F8F8] tracking-[0.02em] ${f?"opacity-100":"opacity-0"}`,style:{fontWeight:E?"bold":"normal"}},C.percent,"%")))})),b.createElement("div",{className:"flex-1"}),b.createElement("div",{className:"flex flex-col items-center justify-center py-4"},d?b.createElement(b.Fragment,null,b.createElement("div",{className:"font-poppins text-base text-white text-center leading-6 tracking-[0.02em] max-w-[309px] mb-6 animate-fade-in"},t,", We would love to answer any follow up question you might have about ",e),b.createElement("button",{onClick:w,className:"px-10 py-3 bg-white rounded-[64px] btn-pressed animate-fade-in pointer-events-auto"},b.createElement("span",{className:"font-jakarta font-semibold text-[17px] text-[#E76B0C] tracking-[0.7px] pointer-events-none"},"Start"))):b.createElement("div",{className:"font-poppins text-base text-white text-center leading-6 tracking-[0.02em] max-w-[295px]"},"Vote and see the live results and also gain 1 credits"))))},Es=tI;var rI=[{type:"single-select",questionId:"gender",question:"What's your gender?",refreshable:!1,options:[{text:"Male",variable:"male"},{text:"Female",variable:"female"},{text:"Non-binary",variable:"non_binary"},{text:"Prefer not to say",variable:"prefer_not_to_say"}]},{type:"slider",questionId:"relationship_duration",question:"How long have you been together?",stops:[{label:"Less than 6 months",variable:"lt_6mo",emoji:"\u{1F970}"},{label:"6 months \u2013 1 year",variable:"6mo_1yr",emoji:"\u{1F48C}"},{label:"1 \u2013 3 years",variable:"1_3yr",emoji:"\u{1F91D}"},{label:"3 \u2013 5 years",variable:"3_5yr",emoji:"\u{1F525}"},{label:"5 \u2013 10 years",variable:"5_10yr",emoji:"\u{1F48E}"},{label:"10+ years",variable:"10plus_yr",emoji:"\u{1F3C6}"}]},{type:"multi-select",questionId:"strengthen_areas",question:"Choose 3 Areas to Strengthen Your Bond",maxSelections:3,options:[{text:"Communication",variable:"communication"},{text:"Trust",variable:"trust"},{text:"Intimacy",variable:"intimacy"},{text:"Quality Time",variable:"quality_time"},{text:"Conflict Resolution",variable:"conflict_resolution"},{text:"Emotional Support",variable:"emotional_support"},{text:"Shared Goals",variable:"shared_goals"},{text:"Fun & Adventure",variable:"fun_adventure"}]},{type:"single-select",questionId:"last_argument",question:"Think about your last argument... what was it about?",refreshable:!0,visibleCount:4,optionPool:[{text:"Household chores",variable:"chores"},{text:"Money or finances",variable:"finances"},{text:"Quality time together",variable:"quality_time"},{text:"Parenting decisions",variable:"parenting"},{text:"Communication style",variable:"communication"},{text:"Social plans or friends",variable:"social"},{text:"Work-life balance",variable:"work_life"},{text:"Personal habits",variable:"habits"}]},{type:"single-select",questionId:"partner_do_more",question:"What do you wish your partner would do more of?",refreshable:!0,visibleCount:4,optionPool:[{text:"Listen without fixing",variable:"listen"},{text:"Plan surprise dates",variable:"surprise_dates"},{text:"Help around the house",variable:"house_help"},{text:'Say "I love you" more',variable:"say_love"},{text:"Give compliments",variable:"compliments"},{text:"Initiate physical affection",variable:"affection"},{text:"Ask about my day",variable:"ask_day"},{text:"Put the phone down",variable:"phone_down"},{text:"Share their feelings",variable:"share_feelings"}]},{type:"single-select",questionId:"partner_matters",question:"What do you think matters most to your partner?",refreshable:!0,visibleCount:4,optionPool:[{text:"Feeling respected",variable:"respected"},{text:"Quality time together",variable:"quality_time"},{text:"Physical affection",variable:"physical_affection"},{text:"Words of encouragement",variable:"encouragement"},{text:"Financial security",variable:"financial"},{text:"Acts of service",variable:"service"},{text:"Having fun together",variable:"fun"},{text:"Being listened to",variable:"listened"},{text:"Personal space",variable:"space"},{text:"Shared goals and dreams",variable:"shared_goals"}]},{type:"single-select",questionId:"loving_gesture",question:"Which would feel most loving from your partner?",refreshable:!0,visibleCount:4,optionPool:[{text:"A handwritten note",variable:"note"},{text:"A long hug after a tough day",variable:"hug"},{text:"Cooking my favorite meal",variable:"cooking"},{text:"Planning a weekend getaway",variable:"getaway"},{text:"Saying they're proud of me",variable:"proud"},{text:"Taking over my responsibilities",variable:"responsibilities"},{text:"A thoughtful gift",variable:"gift"},{text:"An undistracted evening together",variable:"evening"}]},{type:"single-select",questionId:"instant_smile",question:"Which would instantly make you smile?",refreshable:!0,visibleCount:4,optionPool:[{text:'A random "thinking of you" text',variable:"text_msg"},{text:"Flowers for no reason",variable:"flowers"},{text:"My favorite snack waiting at home",variable:"snack"},{text:"A playlist made just for me",variable:"playlist"},{text:"A spontaneous dance in the kitchen",variable:"dance"},{text:"A compliment in front of friends",variable:"public_compliment"},{text:"Breakfast in bed",variable:"breakfast"},{text:"A silly inside joke callback",variable:"inside_joke"}]},{type:"open-question",questionId:"truly_loved",question:"What makes you feel truly loved?",placeholder:"Take your time, there's no wrong answer...",charGuidance:150},{type:"open-question",questionId:"communication_change",question:"If you could change one thing about how you and your partner communicate, what would it be?",placeholder:"Be as honest as you'd like...",charGuidance:200}],Os=rI;var iI={welcome:{onboarding:{exit:"phase-zoom-out",enter:"phase-slide-up",exitDuration:450},main:{exit:"phase-zoom-out",enter:"phase-scale-in",exitDuration:450}},onboarding:{main:{exit:"phase-complete-out",enter:"phase-scale-in",exitDuration:600},welcome:{exit:"phase-slide-down",enter:"phase-zoom-in",exitDuration:400}},main:{welcome:{exit:"phase-fade-out",enter:"phase-fade-in",exitDuration:300},onboarding:{exit:"phase-fade-out",enter:"phase-slide-up",exitDuration:300}}},nI={exit:"phase-fade-out",enter:"phase-fade-in",exitDuration:300},oI=()=>{let[e,r]=U("loading"),[i,t]=U("loading"),[n,o]=U(""),[s,a]=U(!1),[u,l]=U(null),[f,c]=U("..."),d=Ae(!1),g=Ae("loading"),v=Ae(0),_=Ae(null),{getItem:m,setItem:y,removeItem:w,probeNative:S}=br(),C="bonds_session_active",x="bonds_device_id",I="onboarding_complete",E=je(z=>{if(d.current)return;let D=g.current;if(D===z)return;if(D==="loading"){g.current=z,t(z),r(z),o("phase-fade-in");return}let Ce=iI[D]?.[z]||nI;d.current=!0,o(Ce.exit),setTimeout(()=>{g.current=z,t(z),r(z),o(Ce.enter),d.current=!1},Ce.exitDuration)},[]);ze(()=>{P(),window.appUI=window.appUI||{},window.appUI.setLoginState=z=>{console.log(`\u{1F511} Bubble Setting Login State: ${z}`),z?(y(C,"true"),m(I).then(D=>{E(D==="true"?"main":"onboarding")})):(w(C),E("welcome"))},O()},[]);let P=async()=>{try{let z=window.APP_CONFIG?.MIXPANEL_TOKEN;if(z){Xi.init(z,{debug:!0,track_pageview:!1,persistence:"localStorage"}),console.log("\u{1F4CA} Mixpanel Initialized");let D=await m(x);if(D)D.startsWith("$device:")&&(console.log("\u{1F9F9} Cleaning polluted Device ID:",D),D=D.replace(/^\$device:/,""),await y(x,D)),console.log("\u{1F4C2} Loaded Existing Device ID:",D),Xi.identify(D);else{let Ce=Xi.get_distinct_id();D=Ce.replace(/^\$device:/,""),console.log("\u{1F195} Generated New Device ID:",D,"(Raw:",Ce,")"),await y(x,D),Xi.identify(D)}l(D)}else console.warn("\u26A0\uFE0F Mixpanel Token NOT found in window.APP_CONFIG. Analytics disabled.")}catch(z){console.error("\u274C Analytics Init Failed:",z)}},O=async()=>{try{console.log("\u{1F504} App: Starting session check...");let z=await m(C);if(console.log(`\u{1F4BE} App: Session check result: ${z}`),z==="true"){let D=await m(I);E(D==="true"?"main":"onboarding")}else await m("onboarding_state")?(console.log("\u{1F4CB} App: Found saved onboarding progress, resuming."),y(C,"true"),E("onboarding")):E("welcome")}catch(z){console.error("\u274C App: Failed to check session:",z),E("welcome")}finally{console.log("\u2705 App: Loading finished. Rendering UI.")}},T=z=>{z==="go"?(y(C,"true"),E("onboarding")):z==="signin"&&(y(C,"true"),y(I,"true"),E("main"))},M=()=>{y(I,"true"),E("main")},$=()=>{if(v.current+=1,clearTimeout(_.current),_.current=setTimeout(()=>{v.current=0},600),v.current>=3){v.current=0;let z=!s;a(z),z&&S().then(c)}};if(i==="loading")return b.createElement("div",{className:"absolute inset-0 bg-black flex flex-col items-center justify-center font-jakarta"},b.createElement("div",{className:"animate-pulse flex flex-col items-center"},b.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",className:"mb-4"},b.createElement("circle",{cx:"32",cy:"32",r:"32",fill:"white",opacity:"0.2"}),b.createElement("rect",{x:"24",y:"24",width:"16",height:"16",fill:"#FF2258",className:"animate-spin-slow"})),b.createElement("span",{className:"text-white/40 text-xs tracking-widest uppercase"},"Loading Bonds...")));let G={userName:"Jonathan",userAvatar:"https://i.pravatar.cc/150?img=12",credits:23};return b.createElement("div",{className:"absolute inset-0",onClick:$},b.createElement("div",{className:`w-full h-full ${n}`},i==="welcome"&&b.createElement(Ss,{deviceId:u,onAction:T}),i==="onboarding"&&b.createElement(Is,{steps:Os,credits:0,showCredits:!0,onComplete:M,onBack:()=>E("welcome")}),i==="main"&&b.createElement(um,{userProps:G}),i==="daily-question"&&b.createElement(Es,{credits:13,category:"Time Together",question:"How much intentional one-on-one time do you have in a typical week?",userName:"Danny",options:[{text:"Less than 1 hour",percent:10,index:1},{text:"1-3 hours",percent:45,index:2},{text:"4-7 hours",percent:30,index:3},{text:"More than 7 hours",percent:15,index:4}]})),s&&b.createElement("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 scale-75 origin-top-right"},b.createElement("div",{className:"bg-black/80 text-white p-2 text-[10px] font-mono rounded border border-white/20"},b.createElement("p",null,"Phase: ",e.toUpperCase()),b.createElement("p",null,"Device ID: ",u||"N/A (no Mixpanel token)"),b.createElement("p",null,"Mixpanel: ",window.APP_CONFIG?.MIXPANEL_TOKEN?"configured":"NO TOKEN"),b.createElement("p",null,"Storage: ",f)),b.createElement("button",{onClick:()=>E("welcome"),className:"bg-blue-600 text-white text-[10px] px-2 py-1 rounded shadow-lg font-mono opacity-80 hover:opacity-100"},"\u2192 Welcome"),b.createElement("button",{onClick:()=>E("onboarding"),className:"bg-purple-600 text-white text-[10px] px-2 py-1 rounded shadow-lg font-mono opacity-80 hover:opacity-100"},"\u2192 Onboarding"),b.createElement("button",{onClick:()=>E("main"),className:"bg-green-600 text-white text-[10px] px-2 py-1 rounded shadow-lg font-mono opacity-80 hover:opacity-100"},"\u2192 Main"),b.createElement("button",{onClick:()=>E("daily-question"),className:"bg-orange-600 text-white text-[10px] px-2 py-1 rounded shadow-lg font-mono opacity-80 hover:opacity-100"},"\u2192 Daily Q"),b.createElement("button",{onClick:()=>{w(C),w(x),w(I),w("onboarding_state"),w("credits_intro_seen"),window.location.reload()},className:"bg-red-600 text-white text-[10px] px-2 py-1 rounded shadow-lg font-mono opacity-80 hover:opacity-100"},"Reset All Storage")))},hm=oI;window.appUI=window.appUI||{};var sI=()=>{["https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap"].forEach(r=>{if(!document.querySelector(`link[href="${r}"]`)){let i=document.createElement("link");i.href=r,i.rel="stylesheet",document.head.appendChild(i)}}),window.BubbleBridge={send:(r,i)=>{window[r]&&window[r](i)}},console.log("\u{1F30D} Globals Initialized")};sI();window.appUI.mountMainApp=e=>{let r=Er(e);return r.render(b.createElement(hm,null)),r};window.appUI.mountWelcome=(e,r={})=>{let i=Er(e);return i.render(b.createElement(Ss,{...r})),i};window.appUI.mountDailyQuestion=(e,r={})=>{let i=Er(e);return i.render(b.createElement(Es,{...r})),i};window.appUI.mountOnboarding=(e,r={})=>{let i={steps:Os,credits:0,showCredits:!0},t=Er(e);return t.render(b.createElement(Is,{...i,...r})),t};window.appUI.mountJourney=(e,r={})=>{let i={credits:5},t=Er(e);return t.render(b.createElement(Cs,{...i,...r})),t};var pm=document.getElementById("app-content-area");pm?(window.appUI.mountMainApp(pm),console.log("\u{1F680} Main App Auto-Mounted into #app-content-area")):document.getElementById("component-selector")?console.log("\u{1F6E0}\uFE0F Preview Mode detected: Waiting for manual mount."):console.log("\u{1F4E6} UI Kit loaded. Mount functions ready on window.appUI");})();
