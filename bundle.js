(()=>{var Tn,X,Wc,Hg,Sr,Bc,zc,Vc,qc,wa,ga,ya,Hc,On={},Gc=[],Gg=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Nn=Array.isArray;function wt(e,r){for(var n in r)e[n]=r[n];return e}function Sa(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function mt(e,r,n){var t,i,o,s={};for(o in r)o=="key"?t=r[o]:o=="ref"?i=r[o]:s[o]=r[o];if(arguments.length>2&&(s.children=arguments.length>3?Tn.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]===void 0&&(s[o]=e.defaultProps[o]);return An(e,s,t,i,null)}function An(e,r,n,t,i){var o={type:e,props:r,key:n,ref:t,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Wc,__i:-1,__u:0};return i==null&&X.vnode!=null&&X.vnode(o),o}function xa(){return{current:null}}function vt(e){return e.children}function ct(e,r){this.props=e,this.context=r}function Br(e,r){if(r==null)return e.__?Br(e.__,e.__i+1):null;for(var n;r<e.__k.length;r++)if((n=e.__k[r])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Br(e):null}function Kc(e){var r,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,r=0;r<e.__k.length;r++)if((n=e.__k[r])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Kc(e)}}function _a(e){(!e.__d&&(e.__d=!0)&&Sr.push(e)&&!eo.__r++||Bc!=X.debounceRendering)&&((Bc=X.debounceRendering)||zc)(eo)}function eo(){for(var e,r,n,t,i,o,s,a=1;Sr.length;)Sr.length>a&&Sr.sort(Vc),e=Sr.shift(),a=Sr.length,e.__d&&(n=void 0,t=void 0,i=(t=(r=e).__v).__e,o=[],s=[],r.__P&&((n=wt({},t)).__v=t.__v+1,X.vnode&&X.vnode(n),Ca(r.__P,n,t,r.__n,r.__P.namespaceURI,32&t.__u?[i]:null,o,i??Br(t),!!(32&t.__u),s),n.__v=t.__v,n.__.__k[n.__i]=n,Qc(o,n,s),t.__e=t.__=null,n.__e!=i&&Kc(n)));eo.__r=0}function Yc(e,r,n,t,i,o,s,a,l,u,f){var c,d,p,v,b,g,_,w=t&&t.__k||Gc,S=r.length;for(l=Kg(n,r,w,l,S),c=0;c<S;c++)(p=n.__k[c])!=null&&(d=p.__i==-1?On:w[p.__i]||On,p.__i=c,g=Ca(e,p,d,i,o,s,a,l,u,f),v=p.__e,p.ref&&d.ref!=p.ref&&(d.ref&&ka(d.ref,null,p),f.push(p.ref,p.__c||v,p)),b==null&&v!=null&&(b=v),(_=!!(4&p.__u))||d.__k===p.__k?l=Jc(p,l,e,_):typeof p.type=="function"&&g!==void 0?l=g:v&&(l=v.nextSibling),p.__u&=-7);return n.__e=b,l}function Kg(e,r,n,t,i){var o,s,a,l,u,f=n.length,c=f,d=0;for(e.__k=new Array(i),o=0;o<i;o++)(s=r[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?s=e.__k[o]=An(null,s,null,null,null):Nn(s)?s=e.__k[o]=An(vt,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?s=e.__k[o]=An(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):e.__k[o]=s,l=o+d,s.__=e,s.__b=e.__b+1,a=null,(u=s.__i=Yg(s,n,l,c))!=-1&&(c--,(a=n[u])&&(a.__u|=2)),a==null||a.__v==null?(u==-1&&(i>f?d--:i<f&&d++),typeof s.type!="function"&&(s.__u|=4)):u!=l&&(u==l-1?d--:u==l+1?d++:(u>l?d--:d++,s.__u|=4))):e.__k[o]=null;if(c)for(o=0;o<f;o++)(a=n[o])!=null&&(2&a.__u)==0&&(a.__e==t&&(t=Br(a)),Zc(a,a));return t}function Jc(e,r,n,t){var i,o;if(typeof e.type=="function"){for(i=e.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=e,r=Jc(i[o],r,n,t));return r}e.__e!=r&&(t&&(r&&e.type&&!r.parentNode&&(r=Br(e)),n.insertBefore(e.__e,r||null)),r=e.__e);do r=r&&r.nextSibling;while(r!=null&&r.nodeType==8);return r}function St(e,r){return r=r||[],e==null||typeof e=="boolean"||(Nn(e)?e.some(function(n){St(n,r)}):r.push(e)),r}function Yg(e,r,n,t){var i,o,s,a=e.key,l=e.type,u=r[n],f=u!=null&&(2&u.__u)==0;if(u===null&&a==null||f&&a==u.key&&l==u.type)return n;if(t>(f?1:0)){for(i=n-1,o=n+1;i>=0||o<r.length;)if((u=r[s=i>=0?i--:o++])!=null&&(2&u.__u)==0&&a==u.key&&l==u.type)return s}return-1}function Uc(e,r,n){r[0]=="-"?e.setProperty(r,n??""):e[r]=n==null?"":typeof n!="number"||Gg.test(r)?n:n+"px"}function Zi(e,r,n,t,i){var o,s;e:if(r=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof t=="string"&&(e.style.cssText=t=""),t)for(r in t)n&&r in n||Uc(e.style,r,"");if(n)for(r in n)t&&n[r]==t[r]||Uc(e.style,r,n[r])}else if(r[0]=="o"&&r[1]=="n")o=r!=(r=r.replace(qc,"$1")),s=r.toLowerCase(),r=s in e||r=="onFocusOut"||r=="onFocusIn"?s.slice(2):r.slice(2),e.l||(e.l={}),e.l[r+o]=n,n?t?n.u=t.u:(n.u=wa,e.addEventListener(r,o?ya:ga,o)):e.removeEventListener(r,o?ya:ga,o);else{if(i=="http://www.w3.org/2000/svg")r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(r!="width"&&r!="height"&&r!="href"&&r!="list"&&r!="form"&&r!="tabIndex"&&r!="download"&&r!="rowSpan"&&r!="colSpan"&&r!="role"&&r!="popover"&&r in e)try{e[r]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&r[4]!="-"?e.removeAttribute(r):e.setAttribute(r,r=="popover"&&n==1?"":n))}}function jc(e){return function(r){if(this.l){var n=this.l[r.type+e];if(r.t==null)r.t=wa++;else if(r.t<n.u)return;return n(X.event?X.event(r):r)}}}function Ca(e,r,n,t,i,o,s,a,l,u){var f,c,d,p,v,b,g,_,w,S,x,C,T,I,O,N,P,E=r.type;if(r.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),o=[a=r.__e=n.__e]),(f=X.__b)&&f(r);e:if(typeof E=="function")try{if(_=r.props,w="prototype"in E&&E.prototype.render,S=(f=E.contextType)&&t[f.__c],x=f?S?S.props.value:f.__:t,n.__c?g=(c=r.__c=n.__c).__=c.__E:(w?r.__c=c=new E(_,x):(r.__c=c=new ct(_,x),c.constructor=E,c.render=Qg),S&&S.sub(c),c.state||(c.state={}),c.__n=t,d=c.__d=!0,c.__h=[],c._sb=[]),w&&c.__s==null&&(c.__s=c.state),w&&E.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=wt({},c.__s)),wt(c.__s,E.getDerivedStateFromProps(_,c.__s))),p=c.props,v=c.state,c.__v=r,d)w&&E.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),w&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(w&&E.getDerivedStateFromProps==null&&_!==p&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(_,x),r.__v==n.__v||!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(_,c.__s,x)===!1){for(r.__v!=n.__v&&(c.props=_,c.state=c.__s,c.__d=!1),r.__e=n.__e,r.__k=n.__k,r.__k.some(function(A){A&&(A.__=r)}),C=0;C<c._sb.length;C++)c.__h.push(c._sb[C]);c._sb=[],c.__h.length&&s.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(_,c.__s,x),w&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(p,v,b)})}if(c.context=x,c.props=_,c.__P=e,c.__e=!1,T=X.__r,I=0,w){for(c.state=c.__s,c.__d=!1,T&&T(r),f=c.render(c.props,c.state,c.context),O=0;O<c._sb.length;O++)c.__h.push(c._sb[O]);c._sb=[]}else do c.__d=!1,T&&T(r),f=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++I<25);c.state=c.__s,c.getChildContext!=null&&(t=wt(wt({},t),c.getChildContext())),w&&!d&&c.getSnapshotBeforeUpdate!=null&&(b=c.getSnapshotBeforeUpdate(p,v)),N=f,f!=null&&f.type===vt&&f.key==null&&(N=Xc(f.props.children)),a=Yc(e,Nn(N)?N:[N],r,n,t,i,o,s,a,l,u),c.base=r.__e,r.__u&=-161,c.__h.length&&s.push(c),g&&(c.__E=c.__=null)}catch(A){if(r.__v=null,l||o!=null)if(A.then){for(r.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,r.__e=a}else{for(P=o.length;P--;)Sa(o[P]);ba(r)}else r.__e=n.__e,r.__k=n.__k,A.then||ba(r);X.__e(A,r,n)}else o==null&&r.__v==n.__v?(r.__k=n.__k,r.__e=n.__e):a=r.__e=Jg(n.__e,r,n,t,i,o,s,l,u);return(f=X.diffed)&&f(r),128&r.__u?void 0:a}function ba(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(ba)}function Qc(e,r,n){for(var t=0;t<n.length;t++)ka(n[t],n[++t],n[++t]);X.__c&&X.__c(r,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){X.__e(o,i.__v)}})}function Xc(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Nn(e)?e.map(Xc):wt({},e)}function Jg(e,r,n,t,i,o,s,a,l){var u,f,c,d,p,v,b,g=n.props||On,_=r.props,w=r.type;if(w=="svg"?i="http://www.w3.org/2000/svg":w=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!w&&(w?p.localName==w:p.nodeType==3)){e=p,o[u]=null;break}}if(e==null){if(w==null)return document.createTextNode(_);e=document.createElementNS(i,w,_.is&&_),a&&(X.__m&&X.__m(r,o),a=!1),o=null}if(w==null)g===_||a&&e.data==_||(e.data=_);else{if(o=o&&Tn.call(e.childNodes),!a&&o!=null)for(g={},u=0;u<e.attributes.length;u++)g[(p=e.attributes[u]).name]=p.value;for(u in g)if(p=g[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=p;else if(!(u in _)){if(u=="value"&&"defaultValue"in _||u=="checked"&&"defaultChecked"in _)continue;Zi(e,u,null,p,i)}}for(u in _)p=_[u],u=="children"?d=p:u=="dangerouslySetInnerHTML"?f=p:u=="value"?v=p:u=="checked"?b=p:a&&typeof p!="function"||g[u]===p||Zi(e,u,p,g[u],i);if(f)a||c&&(f.__html==c.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),r.__k=[];else if(c&&(e.innerHTML=""),Yc(r.type=="template"?e.content:e,Nn(d)?d:[d],r,n,t,w=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,s,o?o[0]:n.__k&&Br(n,0),a,l),o!=null)for(u=o.length;u--;)Sa(o[u]);a||(u="value",w=="progress"&&v==null?e.removeAttribute("value"):v!=null&&(v!==e[u]||w=="progress"&&!v||w=="option"&&v!=g[u])&&Zi(e,u,v,g[u],i),u="checked",b!=null&&b!=e[u]&&Zi(e,u,b,g[u],i))}return e}function ka(e,r,n){try{if(typeof e=="function"){var t=typeof e.__u=="function";t&&e.__u(),t&&r==null||(e.__u=e(r))}else e.current=r}catch(i){X.__e(i,n)}}function Zc(e,r,n){var t,i;if(X.unmount&&X.unmount(e),(t=e.ref)&&(t.current&&t.current!=e.__e||ka(t,null,r)),(t=e.__c)!=null){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(o){X.__e(o,r)}t.base=t.__P=null}if(t=e.__k)for(i=0;i<t.length;i++)t[i]&&Zc(t[i],r,n||typeof e.type!="function");n||Sa(e.__e),e.__c=e.__=e.__e=void 0}function Qg(e,r,n){return this.constructor(e,n)}function Ur(e,r,n){var t,i,o,s;r==document&&(r=document.documentElement),X.__&&X.__(e,r),i=(t=typeof n=="function")?null:n&&n.__k||r.__k,o=[],s=[],Ca(r,e=(!t&&n||r).__k=mt(vt,null,[e]),i||On,On,r.namespaceURI,!t&&n?[n]:i?null:r.firstChild?Tn.call(r.childNodes):null,o,!t&&n?n:i?i.__e:r.firstChild,t,s),Qc(o,e,s)}function Ea(e,r){Ur(e,r,Ea)}function ef(e,r,n){var t,i,o,s,a=wt({},e.props);for(o in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),r)o=="key"?t=r[o]:o=="ref"?i=r[o]:a[o]=r[o]===void 0&&s!=null?s[o]:r[o];return arguments.length>2&&(a.children=arguments.length>3?Tn.call(arguments,2):n),An(e.type,a,t||e.key,i||e.ref,null)}function xr(e){function r(n){var t,i;return this.getChildContext||(t=new Set,(i={})[r.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){t=null},this.shouldComponentUpdate=function(o){this.props.value!=o.value&&t.forEach(function(s){s.__e=!0,_a(s)})},this.sub=function(o){t.add(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){t&&t.delete(o),s&&s.call(o)}}),n.children}return r.__c="__cC"+Hc++,r.__=e,r.Provider=r.__l=(r.Consumer=function(n,t){return n.children(t)}).contextType=r,r}Tn=Gc.slice,X={__e:function(e,r,n,t){for(var i,o,s;r=r.__;)if((i=r.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,t||{}),s=i.__d),s)return i.__E=i}catch(a){e=a}throw e}},Wc=0,Hg=function(e){return e!=null&&e.constructor===void 0},ct.prototype.setState=function(e,r){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=wt({},this.state),typeof e=="function"&&(e=e(wt({},n),this.props)),e&&wt(n,e),e!=null&&this.__v&&(r&&this._sb.push(r),_a(this))},ct.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_a(this))},ct.prototype.render=vt,Sr=[],zc=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Vc=function(e,r){return e.__v.__b-r.__v.__b},eo.__r=0,qc=/(PointerCapture)$|Capture$/i,wa=0,ga=jc(!1),ya=jc(!0),Hc=0;var er,Se,Ia,tf,jr=0,cf=[],Re=X,rf=Re.__b,nf=Re.__r,of=Re.diffed,sf=Re.__c,af=Re.unmount,lf=Re.__;function Wr(e,r){Re.__h&&Re.__h(Se,e,jr||r),jr=0;var n=Se.__H||(Se.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function $(e){return jr=1,zr(ff,e)}function zr(e,r,n){var t=Wr(er++,2);if(t.t=e,!t.__c&&(t.__=[n?n(r):ff(void 0,r),function(a){var l=t.__N?t.__N[0]:t.__[0],u=t.t(l,a);l!==u&&(t.__N=[u,t.__[1]],t.__c.setState({}))}],t.__c=Se,!Se.__f)){var i=function(a,l,u){if(!t.__c.__H)return!0;var f=t.__c.__H.__.filter(function(d){return!!d.__c});if(f.every(function(d){return!d.__N}))return!o||o.call(this,a,l,u);var c=t.__c.props!==a;return f.forEach(function(d){if(d.__N){var p=d.__[0];d.__=d.__N,d.__N=void 0,p!==d.__[0]&&(c=!0)}}),o&&o.call(this,a,l,u)||c};Se.__f=!0;var o=Se.shouldComponentUpdate,s=Se.componentWillUpdate;Se.componentWillUpdate=function(a,l,u){if(this.__e){var f=o;o=void 0,i(a,l,u),o=f}s&&s.call(this,a,l,u)},Se.shouldComponentUpdate=i}return t.__N||t.__}function G(e,r){var n=Wr(er++,3);!Re.__s&&Pa(n.__H,r)&&(n.__=e,n.u=r,Se.__H.__h.push(n))}function tr(e,r){var n=Wr(er++,4);!Re.__s&&Pa(n.__H,r)&&(n.__=e,n.u=r,Se.__h.push(n))}function te(e){return jr=5,xt(function(){return{current:e}},[])}function Oa(e,r,n){jr=6,tr(function(){if(typeof e=="function"){var t=e(r());return function(){e(null),t&&typeof t=="function"&&t()}}if(e)return e.current=r(),function(){return e.current=null}},n==null?n:n.concat(e))}function xt(e,r){var n=Wr(er++,7);return Pa(n.__H,r)&&(n.__=e(),n.__H=r,n.__h=e),n.__}function j(e,r){return jr=8,xt(function(){return e},r)}function Cr(e){var r=Se.context[e.__c],n=Wr(er++,9);return n.c=e,r?(n.__==null&&(n.__=!0,r.sub(Se)),r.props.value):e.__}function Ta(e,r){Re.useDebugValue&&Re.useDebugValue(r?r(e):e)}function Na(){var e=Wr(er++,11);if(!e.__){for(var r=Se.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;var n=r.__m||(r.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Xg(){for(var e;e=cf.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(to),e.__H.__h.forEach(Aa),e.__H.__h=[]}catch(r){e.__H.__h=[],Re.__e(r,e.__v)}}Re.__b=function(e){Se=null,rf&&rf(e)},Re.__=function(e,r){e&&r.__k&&r.__k.__m&&(e.__m=r.__k.__m),lf&&lf(e,r)},Re.__r=function(e){nf&&nf(e),er=0;var r=(Se=e.__c).__H;r&&(Ia===Se?(r.__h=[],Se.__h=[],r.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(r.__h.forEach(to),r.__h.forEach(Aa),r.__h=[],er=0)),Ia=Se},Re.diffed=function(e){of&&of(e);var r=e.__c;r&&r.__H&&(r.__H.__h.length&&(cf.push(r)!==1&&tf===Re.requestAnimationFrame||((tf=Re.requestAnimationFrame)||Zg)(Xg)),r.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Ia=Se=null},Re.__c=function(e,r){r.some(function(n){try{n.__h.forEach(to),n.__h=n.__h.filter(function(t){return!t.__||Aa(t)})}catch(t){r.some(function(i){i.__h&&(i.__h=[])}),r=[],Re.__e(t,n.__v)}}),sf&&sf(e,r)},Re.unmount=function(e){af&&af(e);var r,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(t){try{to(t)}catch(i){r=i}}),n.__H=void 0,r&&Re.__e(r,n.__v))};var uf=typeof requestAnimationFrame=="function";function Zg(e){var r,n=function(){clearTimeout(t),uf&&cancelAnimationFrame(r),setTimeout(e)},t=setTimeout(n,35);uf&&(r=requestAnimationFrame(n))}function to(e){var r=Se,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Se=r}function Aa(e){var r=Se;e.__c=e.__(),Se=r}function Pa(e,r){return!e||e.length!==r.length||r.some(function(n,t){return n!==e[t]})}function ff(e,r){return typeof r=="function"?r(e):r}function bf(e,r){for(var n in r)e[n]=r[n];return e}function Da(e,r){for(var n in e)if(n!=="__source"&&!(n in r))return!0;for(var t in r)if(t!=="__source"&&e[t]!==r[t])return!0;return!1}function wf(e,r){var n=r(),t=$({t:{__:n,u:r}}),i=t[0].t,o=t[1];return tr(function(){i.__=n,i.u=r,Ma(i)&&o({t:i})},[e,n,r]),G(function(){return Ma(i)&&o({t:i}),e(function(){Ma(i)&&o({t:i})})},[e]),n}function Ma(e){var r,n,t=e.u,i=e.__;try{var o=t();return!((r=i)===(n=o)&&(r!==0||1/r==1/n)||r!=r&&n!=n)}catch{return!0}}function Sf(e){e()}function xf(e){return e}function Cf(){return[!1,Sf]}var kf=tr;function La(e,r){this.props=e,this.context=r}function Ra(e,r){function n(i){var o=this.props.ref,s=o==i.ref;return!s&&o&&(o.call?o(null):o.current=null),r?!r(this.props,i)||!s:Da(this.props,i)}function t(i){return this.shouldComponentUpdate=n,mt(e,i)}return t.displayName="Memo("+(e.displayName||e.name)+")",t.prototype.isReactComponent=!0,t.__f=!0,t.type=e,t}(La.prototype=new ct).isPureReactComponent=!0,La.prototype.shouldComponentUpdate=function(e,r){return Da(this.props,e)||Da(this.state,r)};var df=X.__b;X.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),df&&df(e)};var ey=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Fa(e){function r(n){var t=bf({},n);return delete t.ref,e(t,n.ref||null)}return r.$$typeof=ey,r.render=e,r.prototype.isReactComponent=r.__f=!0,r.displayName="ForwardRef("+(e.displayName||e.name)+")",r}var hf=function(e,r){return e==null?null:St(St(e).map(r))},ty={map:hf,forEach:hf,count:function(e){return e?St(e).length:0},only:function(e){var r=St(e);if(r.length!==1)throw"Children.only";return r[0]},toArray:St},ry=X.__e;X.__e=function(e,r,n,t){if(e.then){for(var i,o=r;o=o.__;)if((i=o.__c)&&i.__c)return r.__e==null&&(r.__e=n.__e,r.__k=n.__k),i.__c(e,r)}ry(e,r,n,t)};var pf=X.unmount;function Ef(e,r,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(t){typeof t.__c=="function"&&t.__c()}),e.__c.__H=null),(e=bf({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=r),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(t){return Ef(t,r,n)})),e}function If(e,r,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(t){return If(t,r,n)}),e.__c&&e.__c.__P===r&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function ro(){this.__u=0,this.o=null,this.__b=null}function Af(e){if(!e.__)return null;var r=e.__.__c;return r&&r.__a&&r.__a(e)}function ny(e){var r,n,t,i=null;function o(s){if(r||(r=e()).then(function(a){a&&(i=a.default||a),t=!0},function(a){n=a,t=!0}),n)throw n;if(!t)throw r;return i?mt(i,s):null}return o.displayName="Lazy",o.__f=!0,o}function Pn(){this.i=null,this.l=null}X.unmount=function(e){var r=e.__c;r&&(r.__z=!0),r&&r.__R&&r.__R(),r&&32&e.__u&&(e.type=null),pf&&pf(e)},(ro.prototype=new ct).__c=function(e,r){var n=r.__c,t=this;t.o==null&&(t.o=[]),t.o.push(n);var i=Af(t.__v),o=!1,s=function(){o||t.__z||(o=!0,n.__R=null,i?i(l):l())};n.__R=s;var a=n.__P;n.__P=null;var l=function(){if(!--t.__u){if(t.state.__a){var u=t.state.__a;t.__v.__k[0]=If(u,u.__c.__P,u.__c.__O)}var f;for(t.setState({__a:t.__b=null});f=t.o.pop();)f.__P=a,f.forceUpdate()}};t.__u++||32&r.__u||t.setState({__a:t.__b=t.__v.__k[0]}),e.then(s,s)},ro.prototype.componentWillUnmount=function(){this.o=[]},ro.prototype.render=function(e,r){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),t=this.__v.__k[0].__c;this.__v.__k[0]=Ef(this.__b,n,t.__O=t.__P)}this.__b=null}var i=r.__a&&mt(vt,null,e.fallback);return i&&(i.__u&=-33),[mt(vt,null,r.__a?null:e.children),i]};var mf=function(e,r,n){if(++n[1]===n[0]&&e.l.delete(r),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function iy(e){return this.getChildContext=function(){return e.context},e.children}function oy(e){var r=this,n=e.h;if(r.componentWillUnmount=function(){Ur(null,r.v),r.v=null,r.h=null},r.h&&r.h!==n&&r.componentWillUnmount(),!r.v){for(var t=r.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;r.h=n,r.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:t.__m},contains:function(){return!0},namespaceURI:n.namespaceURI,insertBefore:function(i,o){this.childNodes.push(i),r.h.insertBefore(i,o)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),r.h.removeChild(i)}}}Ur(mt(iy,{context:r.context},e.__v),r.v)}function sy(e,r){var n=mt(oy,{__v:e,h:r});return n.containerInfo=r,n}(Pn.prototype=new ct).__a=function(e){var r=this,n=Af(r.__v),t=r.l.get(e);return t[0]++,function(i){var o=function(){r.props.revealOrder?(t.push(i),mf(r,e,t)):i()};n?n(o):o()}},Pn.prototype.render=function(e){this.i=null,this.l=new Map;var r=St(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&r.reverse();for(var n=r.length;n--;)this.l.set(r[n],this.i=[1,0,this.i]);return e.children},Pn.prototype.componentDidUpdate=Pn.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(r,n){mf(e,n,r)})};var Of=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ay=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ly=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,uy=/[A-Z0-9]/g,cy=typeof document<"u",fy=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function $a(e,r,n){return r.__k==null&&(r.textContent=""),Ur(e,r),typeof n=="function"&&n(),e?e.__c:null}function Tf(e,r,n){return Ea(e,r),typeof n=="function"&&n(),e?e.__c:null}ct.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ct.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(r){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:r})}})});var vf=X.event;function dy(){}function hy(){return this.cancelBubble}function py(){return this.defaultPrevented}X.event=function(e){return vf&&(e=vf(e)),e.persist=dy,e.isPropagationStopped=hy,e.isDefaultPrevented=py,e.nativeEvent=e};var Ba,my={enumerable:!1,configurable:!0,get:function(){return this.class}},gf=X.vnode;X.vnode=function(e){typeof e.type=="string"&&(function(r){var n=r.props,t=r.type,i={},o=t.indexOf("-")===-1;for(var s in n){var a=n[s];if(!(s==="value"&&"defaultValue"in n&&a==null||cy&&s==="children"&&t==="noscript"||s==="class"||s==="className")){var l=s.toLowerCase();s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&a===!0?a="":l==="translate"&&a==="no"?a=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?s="ondblclick":l!=="onchange"||t!=="input"&&t!=="textarea"||fy(n.type)?l==="onfocus"?s="onfocusin":l==="onblur"?s="onfocusout":ly.test(s)&&(s=l):l=s="oninput":o&&ay.test(s)?s=s.replace(uy,"-$&").toLowerCase():a===null&&(a=void 0),l==="oninput"&&i[s=l]&&(s="oninputCapture"),i[s]=a}}t=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=St(n.children).forEach(function(u){u.props.selected=i.value.indexOf(u.props.value)!=-1})),t=="select"&&i.defaultValue!=null&&(i.value=St(n.children).forEach(function(u){u.props.selected=i.multiple?i.defaultValue.indexOf(u.props.value)!=-1:i.defaultValue==u.props.value})),n.class&&!n.className?(i.class=n.class,Object.defineProperty(i,"className",my)):(n.className&&!n.class||n.class&&n.className)&&(i.class=i.className=n.className),r.props=i})(e),e.$$typeof=Of,gf&&gf(e)};var yf=X.__r;X.__r=function(e){yf&&yf(e),Ba=e.__c};var _f=X.diffed;X.diffed=function(e){_f&&_f(e);var r=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in r&&r.value!==n.value&&(n.value=r.value==null?"":r.value),Ba=null};var vy={ReactCurrentDispatcher:{current:{readContext:function(e){return Ba.__n[e.__c].props.value},useCallback:j,useContext:Cr,useDebugValue:Ta,useDeferredValue:xf,useEffect:G,useId:Na,useImperativeHandle:Oa,useInsertionEffect:kf,useLayoutEffect:tr,useMemo:xt,useReducer:zr,useRef:te,useState:$,useSyncExternalStore:wf,useTransition:Cf}}};function gy(e){return mt.bind(null,e)}function no(e){return!!e&&e.$$typeof===Of}function yy(e){return no(e)&&e.type===vt}function _y(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function by(e){return no(e)?ef.apply(null,arguments):e}function Ua(e){return!!e.__k&&(Ur(null,e),!0)}function wy(e){return e&&(e.base||e.nodeType===1&&e)||null}var Sy=function(e,r){return e(r)},ja=function(e,r){return e(r)},xy=vt,Cy=no,m={useState:$,useId:Na,useReducer:zr,useEffect:G,useLayoutEffect:tr,useInsertionEffect:kf,useTransition:Cf,useDeferredValue:xf,useSyncExternalStore:wf,startTransition:Sf,useRef:te,useImperativeHandle:Oa,useMemo:xt,useCallback:j,useContext:Cr,useDebugValue:Ta,version:"18.3.1",Children:ty,render:$a,hydrate:Tf,unmountComponentAtNode:Ua,createPortal:sy,createElement:mt,createContext:xr,createFactory:gy,cloneElement:by,createRef:xa,Fragment:vt,isValidElement:no,isElement:Cy,isFragment:yy,isMemo:_y,findDOMNode:wy,Component:ct,PureComponent:La,memo:Ra,forwardRef:Fa,flushSync:ja,unstable_batchedUpdates:Sy,StrictMode:xy,Suspense:ro,SuspenseList:Pn,lazy:ny,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:vy};function Vr(e){return{render:function(r){$a(r,e)},unmount:function(){Ua(e)}}}function Ey(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null}var Iy=Ey(),h=Iy;function Nf(e,r,n,t,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?r(l):Promise.resolve(l).then(t,i)}function Ay(e){return function(){var r=this,n=arguments;return new Promise(function(t,i){var o=e.apply(r,n);function s(l){Nf(o,t,i,s,a,"next",l)}function a(l){Nf(o,t,i,s,a,"throw",l)}s(void 0)})}}function jt(e,r,n){return(r=Oy(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Oy(e){var r=Ty(e,"string");return typeof r=="symbol"?r:r+""}function Ty(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Mn=class{constructor(){var r,n;jt(this,"isDebug",!1),jt(this,"min_app_version",0),jt(this,"app_version",0),jt(this,"injected",!1),jt(this,"observers",[]),jt(this,"onNativeError",null),jt(this,"onTabChanged",null),jt(this,"isIOSApp",(h===null||h===void 0||(r=h.navigator)===null||r===void 0||(r=r.userAgent)===null||r===void 0?void 0:r.includes("Natively/iOS"))||!1),jt(this,"isAndroidApp",(h===null||h===void 0||(n=h.navigator)===null||n===void 0||(n=n.userAgent)===null||n===void 0?void 0:n.includes("Natively/Android"))||!1)}setDebug(r){h&&(h.natively.isDebug=r)}notify(r,n){h&&(h.natively.injected=!0,r&&(h.natively.min_app_version=r),n&&(h.natively.app_version=n));var t=h===null||h===void 0?void 0:h.natively.observers;for(h!==null&&h!==void 0&&h.natively.isDebug&&console.log("[INFO] Notify observers: ",t.length);t.length>0;){var i=t.shift();i?.()}}addObserver(r){h!==null&&h!==void 0&&h.natively.injected?r():(h!==null&&h!==void 0&&h.natively.isDebug&&console.log("[DEBUG] addObserver: ".concat(r)),h===null||h===void 0||h.natively.observers.push(r))}trigger(r,n,t,i,o){var s=h===null||h===void 0?void 0:h.natively.isDebug;if(!(h!==null&&h!==void 0&&h.natively.injected)){h===null||h===void 0||h.natively.addObserver(()=>{h===null||h===void 0||h.natively.trigger(r,n,t,i,o)});return}if(n>(h===null||h===void 0?void 0:h.natively.app_version)){s&&alert("[ERROR] Please rebuild the app to use this functionality. App Version: ".concat(h===null||h===void 0?void 0:h.natively.app_version,", feature version: ").concat(n));return}if(t){var a;r?a=i+"_response_"+r:a=i+"_response",h&&(h[a]=function(l,u){if(h===null||h===void 0||h.$agent.response(),u.message&&s){alert("[ERROR] Error message: ".concat(u.message));return}s&&console.log("[DEBUG] Callback method: ".concat(a,", body: ").concat(JSON.stringify(l),", respId: ").concat(r)),t(l)}),o?o.response_id=r:o={response_id:r}}s&&console.log("[DEBUG] Trigger method: ".concat(i,", body: ").concat(JSON.stringify(o))),h===null||h===void 0||h.$agent.trigger(i,o)}setTabChangedHandler(r){if(typeof r!="function"){console.warn("[Natively] Tab changed handler must be a function");return}this.onTabChanged=r}removeTabChangedHandler(){this.onTabChanged=null}setErrorHandler(r){typeof r=="function"&&(this.onNativeError=r)}removeErrorHandler(){this.onNativeError=null}setErrorScreen(r){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"error_screen",{show_error:r})}openLogger(){h===null||h===void 0||h.$agent.natively_logger()}openConsole(){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"app_console")}closeApp(){h===null||h===void 0||h.natively.trigger(void 0,11,void 0,"app_close")}showProgress(r){h===null||h===void 0||h.natively.trigger(void 0,11,void 0,"app_show_progress",{toggle:r})}shareImage(r){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"share_image",{url:r})}shareText(r){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"share_text",{text:r})}shareTextAndImage(r,n){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"share_text_and_image",{url:n,text:r})}shareFile(r){h===null||h===void 0||h.natively.trigger(void 0,2,void 0,"share_file",{url:r})}openExternalURL(r,n){var t={url:typeof r>"u"?"https://buildnatively.com":r,view:typeof n<"u"&&n?"external":"web"};h===null||h===void 0||h.natively.trigger(void 0,18,void 0,"open_link",t)}openExternalApp(r){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"open_app",{url:r})}showAppToast(r,n){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"show_toast",{text:n||"",type:r||"DEFAULT"})}showAppBanner(r,n,t){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"show_banner",{type:r||"INFO",title:n||"",description:t||""})}analyticsTrackEvent(r,n){var t={name:r};n&&(t.data=n),h===null||h===void 0||h.natively.trigger(void 0,37,void 0,"analytics_log_event",t)}requestAppReview(){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"request_review")}getInsets(r){h===null||h===void 0||h.natively.trigger(void 0,36,r,"get_insets")}getLocales(r){h===null||h===void 0||h.natively.trigger(void 0,40,r,"get_locales")}setLocale(r,n){h===null||h===void 0||h.natively.trigger(void 0,40,n,"set_locale",{locale:r})}setAppBackgroundColor(r){h===null||h===void 0||h.natively.trigger(void 0,1,void 0,"app_background",{color:r})}setAppProgressColor(r){h===null||h===void 0||h.natively.trigger(void 0,1,void 0,"app_progress",{color:r})}setAppSwipeNavigation(r){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"app_navigation",{toggle:r})}setAppPullToRefresh(r){h===null||h===void 0||h.natively.trigger(void 0,1,void 0,"app_pull",{toggle:r})}setAppOrientation(r){h===null||h===void 0||h.natively.trigger(void 0,3,void 0,"app_orientation",{orientation:r})}setAppStatusBarStyle(r){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"status_bar_style",{style:r})}hideLoadingScreen(){h===null||h===void 0||h.natively.trigger(void 0,17,void 0,"loading_screen",{show_loader:!1,auto_hide:!0})}showLoadingScreen(r){h===null||h===void 0||h.natively.trigger(void 0,17,void 0,"loading_screen",{show_loader:!0,auto_hide:r||!1})}openAppSettings(){h===null||h===void 0||h.natively.trigger(void 0,0,void 0,"open_appsettings")}showTabBar(){h===null||h===void 0||h.natively.trigger(void 0,33,void 0,"show_tab_bar")}enableWakelock(){h===null||h===void 0||h.natively.trigger(void 0,34,void 0,"wakelock_enable")}disableWakelock(){h===null||h===void 0||h.natively.trigger(void 0,34,void 0,"wakelock_disable")}hideTabBar(){h===null||h===void 0||h.natively.trigger(void 0,33,void 0,"hide_tab_bar")}reloadWebview(){h===null||h===void 0||h.natively.trigger(void 0,35,void 0,"reset_webview")}hapticPattern(r,n){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"haptic_pattern",{pattern:r,delay:n})}openPDF(r,n){var t={url:r.url||"",base64:r.base64||"",fileName:r.fileName||"pdf-".concat(new Date().getTime(),".pdf"),download:r.download===!0};h===null||h===void 0||h.natively.trigger(void 0,38,n,"open_pdf",t)}hapticImpact(r){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"haptic_impact",{type:r})}hapticNotification(r){h===null||h===void 0||h.natively.trigger(void 0,22,void 0,"haptic_notification",{type:r})}sendPushNotification(r,n,t,i){return Ay(function*(){var o=t.filter(u=>u.length>0),s=[...new Set(o)],a={app_id:i?"be83022a-1d08-45d0-a07a-0c3655666e17":r,include_player_ids:s};n.template_id?a.template_id=n.template_id:(a.headings={en:n.title||"Empty Title"},a.contents={en:n.message||"Empty Message"},n.subtitle&&(a.subtitle={en:n.subtitle}),n.redirect_url&&(a.url=n.redirect_url));var l={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(a)};return yield fetch("https://onesignal.com/api/v1/notifications",l)})()}};var q=()=>Date.now().toString(36)+Math.random().toString(36).substring(2);function Ny(e,r,n){return(r=Py(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Py(e){var r=My(e,"string");return typeof r=="symbol"?r:r+""}function My(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Dn=class{constructor(){Ny(this,"id",q())}signin(r){h===null||h===void 0||h.natively.trigger(this.id,16,r,"apple_signin",{})}};function Dy(e,r,n){return(r=Ly(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ly(e){var r=Ry(e,"string");return typeof r=="symbol"?r:r+""}function Ry(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Ln=class{constructor(){Dy(this,"id",q())}copy(r){h===null||h===void 0||h.natively.trigger(void 0,11,void 0,"clipboard_copy",{text:r})}paste(r){h===null||h===void 0||h.natively.trigger(this.id,11,r,"clipboard_paste")}};function Fy(e,r,n){return(r=$y(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function $y(e){var r=By(e,"string");return typeof r=="symbol"?r:r+""}function By(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Rn=class{constructor(){Fy(this,"id",q())}browserInfo(){var r,n,t=typeof(h===null||h===void 0?void 0:h.$agent)<"u",i=(h===null||h===void 0||(r=h.navigator)===null||r===void 0||(r=r.userAgent)===null||r===void 0?void 0:r.includes("Natively/iOS"))||!1,o=(h===null||h===void 0||(n=h.navigator)===null||n===void 0||(n=n.userAgent)===null||n===void 0?void 0:n.includes("Natively/Android"))||!1;return{isNativeApp:t,isIOSApp:i,isAndroidApp:o}}getAppInfo(r){h!==null&&h!==void 0&&h.natively&&(h===null||h===void 0||h.natively.trigger(this.id,0,r,"app_info"))}connectivity(r){h!==null&&h!==void 0&&h.natively&&(h===null||h===void 0||h.natively.trigger(void 0,0,r,"connectivity"))}app_state(r){h!==null&&h!==void 0&&h.natively&&(h===null||h===void 0||h.natively.trigger(void 0,19,r,"app_state"))}keyboard_visibility(r){h!==null&&h!==void 0&&h.natively&&(h===null||h===void 0||h.natively.trigger(void 0,34,r,"keyboard_visibility"))}};function Uy(e,r,n){return(r=jy(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function jy(e){var r=Wy(e,"string");return typeof r=="symbol"?r:r+""}function Wy(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Fn=class{constructor(){Uy(this,"id",q())}getOneSignalId(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"onesignal_playerid")}requestPermission(r,n){h===null||h===void 0||h.natively.trigger(this.id,0,n,"push_register",{fallbackToSettings:r})}getPermissionStatus(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"push_permission")}getExternalId(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"onesignal_externalid")}setExternalId(r,n){h===null||h===void 0||h.natively.trigger(this.id,0,n,"onesignal_setexternalid",r)}removeExternalId(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"onesignal_removeexternalid")}};function zy(e,r,n){return(r=Vy(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Vy(e){var r=qy(e,"string");return typeof r=="symbol"?r:r+""}function qy(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var $n=class{constructor(){zy(this,"id",q())}getUserGeolocation(r,n){h===null||h===void 0||h.natively.trigger(this.id,0,n,"geolocation",{distance:r})}requestPermission(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"geo_register")}getPermissionStatus(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"geo_permission")}};function Hy(e,r,n){return(r=Gy(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Gy(e){var r=Ky(e,"string");return typeof r=="symbol"?r:r+""}function Ky(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Bn=class{constructor(){Hy(this,"id",q())}current(r,n,t,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;h===null||h===void 0||h.natively.trigger(this.id,12,i,"location_current",{minAccuracy:r,accuracyType:n,priority:t,fallbackToSettings:o})}permission(r){h===null||h===void 0||h.natively.trigger(this.id,6,r,"location_permission")}start(r,n,t,i,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;h===null||h===void 0||h.natively.trigger(this.id,12,o,"location_start",{minAccuracy:n,accuracyType:t,priority:i,fallbackToSettings:s,interval:r})}stop(){h===null||h===void 0||h.natively.trigger(this.id,3,void 0,"location_stop",{})}startBackground(r,n,t,i,o,s){var a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!0,l={identifier:o??"empty",interval:r??1e3*60,minAccuracy:n??50,accuracyType:t??"Best",priority:i??"BALANCED",fallbackToSettings:a};h===null||h===void 0||h.natively.trigger(this.id,12,s,"location_start_bg",l)}statusBackground(r){h===null||h===void 0||h.natively.trigger(this.id,20,r,"location_status_bg",{})}stopBackground(r){h===null||h===void 0||h.natively.trigger(this.id,4,r,"location_stop_bg",{})}};function Yy(e,r,n){return(r=Jy(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Jy(e){var r=Qy(e,"string");return typeof r=="symbol"?r:r+""}function Qy(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Un=class{constructor(){Yy(this,"id",q())}sendSMS(r,n,t){var i={body:r??"",recipient:n??""};h===null||h===void 0||h.natively.trigger(this.id,0,t,"send_sms",i)}sendEmail(r,n,t,i){var o={subject:r??"",body:n??"",recipient:t??""};h===null||h===void 0||h.natively.trigger(this.id,0,i,"send_email",o)}};function Xy(e,r,n){return(r=Zy(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Zy(e){var r=e_(e,"string");return typeof r=="symbol"?r:r+""}function e_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Wt=class{constructor(){Xy(this,"id",q())}setStorageValue(r,n){h===null||h===void 0||h.natively.trigger(this.id,0,void 0,"set_storage_value",{key:r,value:n})}getStorageValue(r,n){h===null||h===void 0||h.natively.trigger(this.id,0,n,"get_storage_value",{key:r})}removeStorageValue(r){h===null||h===void 0||h.natively.trigger(this.id,0,void 0,"remove_storage_value",{key:r})}resetStorage(){h===null||h===void 0||h.natively.trigger(this.id,0,void 0,"reset_storage")}};function Pf(e,r,n){return(r=t_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function t_(e){var r=r_(e,"string");return typeof r=="symbol"?r:r+""}function r_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var jn=class{constructor(r){Pf(this,"id",q()),Pf(this,"allowPass",void 0),this.allowPass=r}checkBiometricsSupport(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"biometrics_support",{allowPass:this.allowPass})}checkCredentials(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"biometrics_has_credentials")}verifyUserIdentify(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"biometrics_verify",{allowPass:this.allowPass})}getUserCredentials(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"biometrics_auth",{allowPass:this.allowPass})}removeUserCredentials(r){h===null||h===void 0||h.natively.trigger(this.id,0,r,"biometrics_remove_credentials")}saveUserCredentials(r,n,t){h===null||h===void 0||h.natively.trigger(this.id,0,t,"biometrics_auth",{allowPass:this.allowPass,login:r,password:n})}};function n_(e,r,n){return(r=i_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function i_(e){var r=o_(e,"string");return typeof r=="symbol"?r:r+""}function o_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Wn=class{constructor(){n_(this,"id",q())}showDatePicker(r,n,t,i,o){var s={type:t??"DATE",style:i??"LIGHT",title:r??"",description:n??""};h===null||h===void 0||h.natively.trigger(this.id,0,o,"datepicker",s)}};function s_(e,r,n){return(r=a_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a_(e){var r=l_(e,"string");return typeof r=="symbol"?r:r+""}function l_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var zn=class{constructor(){s_(this,"id",q())}showCamera(r,n,t,i){var o={type:r??"photo",quality:n??"high",camera:t??"BACK"};h===null||h===void 0||h.natively.trigger(this.id,2,i,"open_camera",o)}};function Mf(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,t)}return n}function Wa(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Mf(Object(n),!0).forEach(function(t){Df(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Df(e,r,n){return(r=u_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function u_(e){var r=c_(e,"string");return typeof r=="symbol"?r:r+""}function c_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Vn=class{constructor(){Df(this,"id",q())}available(r){h===null||h===void 0||h.natively.trigger(this.id,10,r,"health_available",{})}requestAuthorization(r,n,t){h===null||h===void 0||h.natively.trigger(this.id,10,t,"health_register",{write_data_types:r,read_data_types:n})}permissionStatus(r,n){h===null||h===void 0||h.natively.trigger(this.id,10,n,"health_permission",{data_type:r})}getAllCharacteristics(r){h===null||h===void 0||h.natively.trigger(this.id,10,r,"health_get_all_characteristics",{})}getStatisticQuantity(r,n,t,i,o){var s={data_type:r,interval:n};t&&(s.start_date=t.getTime()),i&&(s.end_date=i.getTime()),h===null||h===void 0||h.natively.trigger(this.id,10,o,"health_get_statistic_quantity",s)}getDailySleepAnalysis(r,n,t,i){var o={limit:t||100};r&&(o.start_date=r.getTime()),n&&(o.end_date=n.getTime()),h===null||h===void 0||h.natively.trigger(this.id,10,i,"health_get_daily_sleep_analysis",o)}getWorkouts(r,n,t,i){var o={limit:t||100};r&&(o.start_date=r.getTime()),n&&(o.end_date=n.getTime()),h===null||h===void 0||h.natively.trigger(this.id,21,i,"health_get_workouts",o)}getHealthConnectStatus(r){h===null||h===void 0||h.natively.trigger(this.id,40,r,"health_connect_status",{})}installHealthConnect(r){h===null||h===void 0||h.natively.trigger(this.id,40,r,"health_connect_install",{})}writeWorkout(r,n){var t=Wa({},r);r?.start_date instanceof Date&&(t.start_date=r.start_date.getTime()),r?.end_date instanceof Date&&(t.end_date=r.end_date.getTime()),h===null||h===void 0||h.natively.trigger(this.id,39,n,"health_write_workout",t)}writeNutrition(r,n){var t=Wa({},r);r?.start_date instanceof Date&&(t.start_date=r.start_date.getTime()),r?.end_date instanceof Date&&(t.end_date=r.end_date.getTime()),Array.isArray(r?.items)&&(t.items=r.items.map(i=>{var o=Wa({},i);return i?.start_date instanceof Date&&(o.start_date=i.start_date.getTime()),i?.end_date instanceof Date&&(o.end_date=i.end_date.getTime()),o})),h===null||h===void 0||h.natively.trigger(this.id,39,n,"health_write_nutrition",t)}getActivitySummary(r,n,t){var i={};r&&(i.start_date=r.getTime()),n&&(i.end_date=n.getTime()),h===null||h===void 0||h.natively.trigger(this.id,10,t,"health_get_activity_summary",i)}};function f_(e,r,n){return(r=d_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function d_(e){var r=h_(e,"string");return typeof r=="symbol"?r:r+""}function h_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var qn=class{constructor(){f_(this,"id",q())}showScanner(r){h===null||h===void 0||h.natively.trigger(this.id,2,r,"open_scanner",{})}showDocumentScanner(r,n,t,i,o,s,a,l,u,f,c,d,p){var v={};l&&(v.source=l),o&&(v.menuColor=o),f&&(v.pageMode=f),r!=null&&!isNaN(r)&&(v.jpegQuality=r),i&&(v.highlightColor=i),n&&(v.foregroundColor=n),t&&(v.backgroundColor=t),s&&(v.defaultFlashMode=s),a&&(v.defaultScanOrientation=a),c&&(v.defaultFilter=c),d&&(v.availableFilters=d),u&&(v.ocrConfiguration={languages:[u]}),h===null||h===void 0||h.natively.trigger(this.id,21,p,"open_document_scanner",v)}};function p_(e,r,n){return(r=m_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function m_(e){var r=v_(e,"string");return typeof r=="symbol"?r:r+""}function v_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Hn=class{constructor(){p_(this,"id",q())}login(r,n,t){var i=n??"";h===null||h===void 0||h.natively.trigger(this.id,3,t,"purchases_login",{login:r,email:i})}logout(r){h===null||h===void 0||h.natively.trigger(this.id,3,r,"purchases_logout",{})}customerId(r){h===null||h===void 0||h.natively.trigger(this.id,3,r,"purchases_customerid",{})}restore(r){h===null||h===void 0||h.natively.trigger(this.id,10,r,"purchases_restore",{})}showPaywall(r,n,t){var i={offeringId:n,shouldShowCloseButton:r};h===null||h===void 0||h.natively.trigger(this.id,38,t,"purchases_show_paywall",i)}showPaywallIfNeeded(r,n,t,i){var o={offeringName:t,entitlementId:r,shouldShowCloseButton:n};h===null||h===void 0||h.natively.trigger(this.id,38,i,"purchases_show_paywall_if_needed",o)}purchasePackage(r,n,t,i){h===null||h===void 0||h.natively.trigger(this.id,3,n,"purchases_package",{packageId:r,oldProductId:t??null,prorationMode:i??null})}packagePrice(r,n){h===null||h===void 0||h.natively.trigger(this.id,8,n,"purchases_price",{packageId:r})}};function g_(e,r,n){return(r=y_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function y_(e){var r=__(e,"string");return typeof r=="symbol"?r:r+""}function __(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Gn=class{constructor(){g_(this,"id",q())}getAllContacts(r){h===null||h===void 0||h.natively.trigger(this.id,3,r,"contacts_all",{})}createContact(r,n,t,i,o){var s={firstName:r,lastName:n??"",email:t??"",phone:i??""};h===null||h===void 0||h.natively.trigger(this.id,3,o,"contacts_save",s)}};function b_(e,r,n){return(r=w_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function w_(e){var r=S_(e,"string");return typeof r=="symbol"?r:r+""}function S_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Kn=class{constructor(){b_(this,"id",q())}showMediaPicker(r){h===null||h===void 0||h.natively.trigger(this.id,8,r,"mediapicker",{})}};function x_(e,r,n){return(r=C_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function C_(e){var r=k_(e,"string");return typeof r=="symbol"?r:r+""}function k_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Yn=class{constructor(){x_(this,"id",q())}showRecorder(r,n){var t={max_duration:r??0};h===null||h===void 0||h.natively.trigger(this.id,13,n,"record_start",t)}};function Lf(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,t)}return n}function Rf(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Lf(Object(n),!0).forEach(function(t){Ff(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ff(e,r,n){return(r=E_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function E_(e){var r=I_(e,"string");return typeof r=="symbol"?r:r+""}function I_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Jn=class{constructor(){Ff(this,"id",q())}buildMetadata(r){var n={};return r&&(r.id!==void 0&&(n.id=r.id),r.title!==void 0&&(n.title=r.title),r.artist!==void 0&&(n.artist=r.artist),r.album!==void 0&&(n.album=r.album),r.genre!==void 0&&(n.genre=r.genre),r.artwork!==void 0&&(n.artwork=r.artwork),r.duration!=null&&(n.duration=r.duration),r.extras!==void 0&&(n.extras=r.extras)),n}play(r,n,t){var i,o,s=Rf({source:r,is_stream:(i=n?.is_stream)!==null&&i!==void 0?i:!1,autoplay:(o=n?.autoplay)!==null&&o!==void 0?o:!0},this.buildMetadata(n));n?.headers!==void 0&&(s.headers=n.headers),n?.start_position!=null&&(s.start_position=n.start_position),n?.volume!=null&&(s.volume=n.volume),n?.speed!=null&&(s.speed=n.speed),h===null||h===void 0||h.natively.trigger(this.id,39,t,"audio_play",s)}pause(r){h===null||h===void 0||h.natively.trigger(this.id,39,r,"audio_pause",{})}stop(r){h===null||h===void 0||h.natively.trigger(this.id,39,r,"audio_stop",{})}seek(r,n){h===null||h===void 0||h.natively.trigger(this.id,39,n,"audio_seek",{position:r})}queueAdd(r,n,t){var i,o,s=Rf({source:r,play_now:(i=n?.play_now)!==null&&i!==void 0?i:!1,is_stream:(o=n?.is_stream)!==null&&o!==void 0?o:!1},this.buildMetadata(n));n?.headers!==void 0&&(s.headers=n.headers),h===null||h===void 0||h.natively.trigger(this.id,39,t,"audio_queue_add",s)}queueGet(r){h===null||h===void 0||h.natively.trigger(this.id,39,r,"audio_queue_get",{})}queueRemove(r,n){h===null||h===void 0||h.natively.trigger(this.id,39,n,"audio_queue_remove",{index:r})}setMetadata(r,n){var t=this.buildMetadata(r);h===null||h===void 0||h.natively.trigger(this.id,39,n,"audio_set_metadata",t)}setVolume(r,n){h===null||h===void 0||h.natively.trigger(this.id,39,n,"audio_set_volume",{volume:r})}setSpeed(r,n){h===null||h===void 0||h.natively.trigger(this.id,39,n,"audio_set_speed",{speed:r})}};function A_(e,r,n){return(r=O_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function O_(e){var r=T_(e,"string");return typeof r=="symbol"?r:r+""}function T_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Qn=class{constructor(r,n){var t,i,o,s,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=arguments.length>3?arguments[3]:void 0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,f=arguments.length>5?arguments[5]:void 0;A_(this,"id",q());var c={};if(h!==null&&h!==void 0&&h.natively.isAndroidApp){var d;c.unitId=(d=r.androidUnitId)!==null&&d!==void 0?d:"ca-app-pub-3940256099942544/6300978111"}else if(h!==null&&h!==void 0&&h.natively.isIOSApp){var p;c.unitId=(p=r.iOSUnitId)!==null&&p!==void 0?p:"ca-app-pub-3940256099942544/2934735716"}c.position=(t=r.position)!==null&&t!==void 0?t:"BOTTOM",c.sizeType=(i=r.sizeType)!==null&&i!==void 0?i:"AUTO",c.width=(o=r.custom_width)!==null&&o!==void 0?o:320,c.height=(s=r.custom_height)!==null&&s!==void 0?s:50,h===null||h===void 0||h.natively.trigger(this.id,14,v=>{n?.(v),a&&(h===null||h===void 0||h.natively.trigger(this.id,14,b=>{l?.(b),u&&(h===null||h===void 0||h.natively.trigger(this.id,14,f,"bannerad_show",{}))},"bannerad_load",{}))},"bannerad_setup",c)}loadAd(r){h===null||h===void 0||h.natively.trigger(this.id,14,r,"bannerad_load",{})}showBanner(r){h===null||h===void 0||h.natively.trigger(this.id,14,r,"bannerad_show",{})}hideBanner(r){h===null||h===void 0||h.natively.trigger(this.id,14,r,"bannerad_hide",{})}bannerIsReady(r){h===null||h===void 0||h.natively.trigger(this.id,14,r,"bannerad_ready",{})}bannerIsVisible(r){h===null||h===void 0||h.natively.trigger(this.id,14,r,"bannerad_visible",{})}};function io(e,r,n){return(r=N_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function N_(e){var r=P_(e,"string");return typeof r=="symbol"?r:r+""}function P_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Xn=class{constructor(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ca-app-pub-3940256099942544/4411468910",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ca-app-pub-3940256099942544/1033173712",t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=arguments.length>4?arguments[4]:void 0;io(this,"id",q()),io(this,"auto_ad_reload",void 0),io(this,"auto_ad_reload_callback",void 0),io(this,"unitId",void 0),h!==null&&h!==void 0&&h.natively.isAndroidApp?this.unitId=n:h!==null&&h!==void 0&&h.natively.isIOSApp&&(this.unitId=r),this.auto_ad_reload=i,this.auto_ad_reload_callback=o,this.loadAd(t)}loadAd(r){var n,t={unitId:(n=this.unitId)!==null&&n!==void 0?n:"ca-app-pub-3940256099942544/4411468910"};h===null||h===void 0||h.natively.trigger(this.id,14,r,"interstitialad_setup",t)}showInterstitialAd(r){h===null||h===void 0||h.natively.trigger(this.id,14,n=>{r(n),n.event==="DID_DISMISS_AD"&&this.auto_ad_reload&&setTimeout(()=>{this.loadAd(this.auto_ad_reload_callback)},500)},"interstitialad_show",{})}interstitialIsReady(r){h===null||h===void 0||h.natively.trigger(this.id,14,r,"interstitialad_ready",{})}};function Zn(e,r,n){return(r=M_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function M_(e){var r=D_(e,"string");return typeof r=="symbol"?r:r+""}function D_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ei=class{constructor(r,n,t,i){Zn(this,"id",q()),Zn(this,"readAlertMessage",void 0),Zn(this,"writeAlertMessage",void 0),Zn(this,"readDetectedMessage",void 0),Zn(this,"writeDetectedMessage",void 0),this.readAlertMessage=r,this.writeAlertMessage=n,this.readDetectedMessage=t,this.writeDetectedMessage=i}read(r){var n,t,i={alertMessage:(n=this.readAlertMessage)!==null&&n!==void 0?n:"please set readAlertMessage",detectedMessage:(t=this.readDetectedMessage)!==null&&t!==void 0?t:"readDetectedMessage"};h===null||h===void 0||h.natively.trigger(this.id,15,r,"nfc_read",i)}write(r,n,t,i){var o,s,a={alertMessage:(o=this.writeAlertMessage)!==null&&o!==void 0?o:"please set writeAlertMessage",detectedMessage:(s=this.writeDetectedMessage)!==null&&s!==void 0?s:"please set writeDetectedMessage",recordData:n??"please set recordData",recordId:r??"please set recordId",recordDataType:t??"please set recordDataType"};h===null||h===void 0||h.natively.trigger(this.id,15,i,"nfc_write",a)}available(r){h===null||h===void 0||h.natively.trigger(this.id,15,r,"nfc_available",{})}};function L_(e,r,n){return(r=R_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function R_(e){var r=F_(e,"string");return typeof r=="symbol"?r:r+""}function F_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ti=class{constructor(){L_(this,"id",q())}firebase_get_token(r){h===null||h===void 0||h.natively.trigger(this.id,31,r,"firebase_get_token")}firebase_get_apns_token(r){h===null||h===void 0||h.natively.trigger(this.id,31,r,"firebase_get_apns_token")}firebase_request_permission(r){h===null||h===void 0||h.natively.trigger(this.id,31,r,"firebase_request_permission")}firebase_has_permission(r){h===null||h===void 0||h.natively.trigger(this.id,31,r,"firebase_has_permission")}firebase_subscribe_to_topic(r,n){h===null||h===void 0||h.natively.trigger(this.id,31,n,"firebase_subscribe_to_topic",{topic:r})}firebase_unsubscribe_from_topic(r,n){h===null||h===void 0||h.natively.trigger(this.id,31,n,"firebase_unsubscribe_from_topic",{topic:r})}};function $_(e,r,n){return(r=B_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function B_(e){var r=U_(e,"string");return typeof r=="symbol"?r:r+""}function U_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ri=class{constructor(){$_(this,"id",q())}setProfile(r,n){h===null||h===void 0||h.natively.trigger(this.id,32,n,"klaviyo_set_profile",r)}getExternalId(r){h===null||h===void 0||h.natively.trigger(this.id,32,r,"klaviyo_external_id")}resetProfile(r){h===null||h===void 0||h.natively.trigger(this.id,32,r,"klaviyo_reset_profile")}registerToken(r,n){h===null||h===void 0||h.natively.trigger(this.id,32,r,"klaviyo_register_token",{token:n})}pushPermission(r){h===null||h===void 0||h.natively.trigger(this.id,32,r,"klaviyo_push_permission")}pushRegister(r){h===null||h===void 0||h.natively.trigger(this.id,32,r,"klaviyo_push_register")}};function j_(e,r,n){return(r=W_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function W_(e){var r=z_(e,"string");return typeof r=="symbol"?r:r+""}function z_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ni=class{constructor(){j_(this,"id",q())}createCalendarEvent(r,n,t,i,o,s,a){var l={title:r,timezone:i,calendarId:o,description:s,endDate:n?.toISOString(),startDate:t.toISOString()};h===null||h===void 0||h.natively.trigger(void 0,37,a,"calendar_event",l)}retrieveCalendars(r){h===null||h===void 0||h.natively.trigger(void 0,37,r,"retrieve_calendars",{})}};h&&(h.natively=new Mn,h.NativelyAdmobBanner=Qn,h.NativelyAdmobInterstitial=Xn,h.NativelyAppleSignInService=Dn,h.NativelyAudioRecorder=Yn,h.NativelyAudioPlayer=Jn,h.NativelyBiometrics=jn,h.NativelyCamera=zn,h.NativelyClipboard=Ln,h.NativelyContacts=Gn,h.NativelyDatePicker=Wn,h.NativelyGeolocation=$n,h.NativelyHealth=Vn,h.NativelyInfo=Rn,h.NativelyLocation=Bn,h.NativelyMediaPicker=Kn,h.NativelyMessage=Un,h.NativelyNFCService=ei,h.NativelyNotifications=Fn,h.NativelyPurchases=Hn,h.NativelyScanner=qn,h.NativelyStorage=Wt,h.NativelyCalendar=ni,h.NativelyFirebaseNotifications=ti,h.NativelyKlaviyoNotifications=ri);h===null||h===void 0||h.natively.addObserver(()=>h===null||h===void 0?void 0:h.natively.trigger(void 0,0,e=>{h&&(h.natively.min_app_version=e.minSDKVersion,h.natively.app_version=e.sdkVersion)},"app_info",{}));var M;typeof window>"u"?(za={hostname:""},M={crypto:{randomUUID:function(){throw Error("unsupported")}},navigator:{userAgent:"",onLine:!0},document:{createElement:function(){return{}},location:za,referrer:""},screen:{width:0,height:0},location:za,addEventListener:function(){},removeEventListener:function(){},dispatchEvent:function(){},CustomEvent:function(){}}):M=window;var za;function $f(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function Bf(e,r,n,t,i,o,s){try{var a=e[o](s),l=a.value}catch(u){n(u);return}a.done?r(l):Promise.resolve(l).then(t,i)}function As(e){return function(){var r=this,n=arguments;return new Promise(function(t,i){var o=e.apply(r,n);function s(l){Bf(o,t,i,s,a,"next",l)}function a(l){Bf(o,t,i,s,a,"throw",l)}s(void 0)})}}function Wo(e,r,n){return Eh()?Wo=Reflect.construct:Wo=function(i,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(i,a),u=new l;return s&&_i(u,s.prototype),u},Wo.apply(null,arguments)}function V_(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function Ie(e,r,n){return r&&V_(e.prototype,r),e}function re(){return re=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},re.apply(this,arguments)}function yl(e){return yl=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yl(e)}function Ne(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_i(e,r)}function W(e,r){return r!=null&&typeof Symbol<"u"&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](e):e instanceof r}function q_(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Er(e,r){if(e==null)return{};var n={},t=Object.keys(e),i,o;for(o=0;o<t.length;o++)i=t[o],!(r.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _i(e,r){return _i=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},_i(e,r)}function z(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}function H_(e,r){if(e){if(typeof e=="string")return $f(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $f(e,r)}}function bi(e){var r=typeof Map=="function"?new Map:void 0;return bi=function(t){if(t===null||!q_(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(t))return r.get(t);r.set(t,i)}function i(){return Wo(t,arguments,yl(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),_i(i,t)},bi(e)}function Eh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eh=function(){return!!e})()}function D(e,r){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=H_(e))||r){n&&(e=n);var t=0;return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ir(e,r){var n,t,i,o,s={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return l([u,f])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,t&&(i=u[0]&2?t.return:u[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,u[1])).done)return i;switch(t=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,t=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){s=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(u[0]===6&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=r.call(e,s)}catch(f){u=[6,f],t=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Tu(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],t=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var G_=Object.defineProperty,K_=function(e,r,n){return r in e?G_(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n},F=function(e,r,n){return K_(e,(typeof r>"u"?"undefined":z(r))!=="symbol"?r+"":r,n)},Uf,Y_=Object.defineProperty,J_=function(e,r,n){return r in e?Y_(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n},jf=function(e,r,n){return J_(e,(typeof r>"u"?"undefined":z(r))!=="symbol"?r+"":r,n)},Ge=(function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e})(Ge||{}),Wf={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},zf={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},oo={},Q_=function(){return!!globalThis.Zone};function Nu(e){if(oo[e])return oo[e];var r=globalThis[e],n=r.prototype,t=e in Wf?Wf[e]:void 0,i=!!(t&&t.every(function(f){var c,d;return!!((d=(c=Object.getOwnPropertyDescriptor(n,f))==null?void 0:c.get)!=null&&d.toString().includes("[native code]"))})),o=e in zf?zf[e]:void 0,s=!!(o&&o.every(function(f){var c;return typeof n[f]=="function"&&((c=n[f])==null?void 0:c.toString().includes("[native code]"))}));if(i&&s&&!Q_())return oo[e]=r.prototype,r.prototype;try{var a=document.createElement("iframe");document.body.appendChild(a);var l=a.contentWindow;if(!l)return r.prototype;var u=l[e].prototype;return document.body.removeChild(a),u?oo[e]=u:n}catch{return n}}var Va={};function lr(e,r,n){var t,i=e+"."+String(n);if(Va[i])return Va[i].call(r);var o=Nu(e),s=(t=Object.getOwnPropertyDescriptor(o,n))==null?void 0:t.get;return s?(Va[i]=s,s.call(r)):r[n]}var qa={};function Ih(e,r,n){var t=e+"."+String(n);if(qa[t])return qa[t].bind(r);var i=Nu(e),o=i[n];return typeof o!="function"?r[n]:(qa[t]=o,o.bind(r))}function X_(e){return lr("Node",e,"childNodes")}function Z_(e){return lr("Node",e,"parentNode")}function eb(e){return lr("Node",e,"parentElement")}function tb(e){return lr("Node",e,"textContent")}function rb(e,r){return Ih("Node",e,"contains")(r)}function nb(e){return Ih("Node",e,"getRootNode")()}function ib(e){return!e||!("host"in e)?null:lr("ShadowRoot",e,"host")}function ob(e){return e.styleSheets}function sb(e){return!e||!("shadowRoot"in e)?null:lr("Element",e,"shadowRoot")}function ab(e,r){return lr("Element",e,"querySelector")(r)}function lb(e,r){return lr("Element",e,"querySelectorAll")(r)}function ub(){return Nu("MutationObserver").constructor}function cb(e,r,n){try{if(!(r in e))return function(){};var t=e[r],i=n(t);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:t}})),e[r]=i,function(){e[r]=t}}catch{return function(){}}}var Xe={childNodes:X_,parentNode:Z_,parentElement:eb,textContent:tb,contains:rb,getRootNode:nb,host:ib,styleSheets:ob,shadowRoot:sb,querySelector:ab,querySelectorAll:lb,mutationObserver:ub,patch:cb};function Ah(e){return e.nodeType===e.ELEMENT_NODE}function di(e){var r=e&&"host"in e&&"mode"in e&&Xe.host(e)||null;return!!(r&&"shadowRoot"in r&&Xe.shadowRoot(r)===e)}function hi(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function fb(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function db(e){var r=e.cssText;if(r.split('"').length<3)return r;var n=["@import","url("+JSON.stringify(e.href)+")"];return e.layerName===""?n.push("layer"):e.layerName&&n.push("layer("+e.layerName+")"),e.supportsText&&n.push("supports("+e.supportsText+")"),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function _l(e){try{var r=e.rules||e.cssRules;if(!r)return null;var n=e.href;!n&&e.ownerNode&&e.ownerNode.ownerDocument&&(n=e.ownerNode.ownerDocument.location.href);var t=Array.from(r,function(i){return Oh(i,n)}).join("");return fb(t)}catch{return null}}function Oh(e,r){if(pb(e)){var n;try{n=_l(e.styleSheet)||db(e)}catch{n=e.cssText}return e.styleSheet.href?Zo(n,e.styleSheet.href):n}else{var t=e.cssText;return mb(e)&&e.selectorText.includes(":")&&(t=hb(t)),r?Zo(t,r):t}}function hb(e){var r=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(r,"$1\\$2")}function pb(e){return"styleSheet"in e}function mb(e){return"selectorText"in e}var Th=(function(){function e(){jf(this,"idNodeMap",new Map),jf(this,"nodeMetaMap",new WeakMap)}var r=e.prototype;return r.getId=function(t){var i;if(!t)return-1;var o=(i=this.getMeta(t))==null?void 0:i.id;return o??-1},r.getNode=function(t){return this.idNodeMap.get(t)||null},r.getIds=function(){return Array.from(this.idNodeMap.keys())},r.getMeta=function(t){return this.nodeMetaMap.get(t)||null},r.removeNodeFromMap=function(t){var i=this,o=this.getId(t);this.idNodeMap.delete(o),t.childNodes&&t.childNodes.forEach(function(s){return i.removeNodeFromMap(s)})},r.has=function(t){return this.idNodeMap.has(t)},r.hasNode=function(t){return this.nodeMetaMap.has(t)},r.add=function(t,i){var o=i.id;this.idNodeMap.set(o,t),this.nodeMetaMap.set(t,i)},r.replace=function(t,i){var o=this.getNode(t);if(o){var s=this.nodeMetaMap.get(o);s&&this.nodeMetaMap.set(i,s)}this.idNodeMap.set(t,i)},r.reset=function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap},e})();function vb(){return new Th}function Qo(e){var r=e.element,n=e.maskInputOptions,t=e.tagName,i=e.type,o=e.value,s=e.maskInputFn,a=o||"",l=i&&Ar(i);return(n[t.toLowerCase()]||l&&n[l])&&(s?a=s(a,r):a="*".repeat(a.length)),a}function Ar(e){return e.toLowerCase()}var Vf="__rrweb_original__";function gb(e){var r=e.getContext("2d");if(!r)return!0;for(var n=50,t=0;t<e.width;t+=n)for(var i=0;i<e.height;i+=n){var o=r.getImageData,s=Vf in o?o[Vf]:o,a=new Uint32Array(s.call(r,t,i,Math.min(n,e.width-t),Math.min(n,e.height-i)).data.buffer);if(a.some(function(l){return l!==0}))return!1}return!0}function Xo(e){var r=e.type;return e.hasAttribute("data-rr-is-password")?"password":r?Ar(r):null}function Nh(e,r){var n;try{n=new URL(e,r??window.location.href)}catch{return null}var t=/\.([0-9a-z]+)(?:$)/i,i=n.pathname.match(t),o;return(o=i?.[1])!=null?o:null}function yb(e){var r="";return e.indexOf("//")>-1?r=e.split("/").slice(0,3).join("/"):r=e.split("/")[0],r=r.split("?")[0],r}var _b=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,bb=/^(?:[a-z+]+:)?\/\//i,wb=/^www\..*/i,Sb=/^(data:)([^,]*),(.*)/i;function Zo(e,r){return(e||"").replace(_b,function(n,t,i,o,s,a){var l=i||s||a,u=t||o||"";if(!l)return n;if(bb.test(l)||wb.test(l)||Sb.test(l))return"url("+u+l+u+")";if(l[0]==="/")return"url("+u+(yb(r)+l)+u+")";var f=r.split("/"),c=l.split("/");f.pop();for(var d=D(c),p;!(p=d()).done;){var v=p.value;v!=="."&&(v===".."?f.pop():f.push(v))}return"url("+u+f.join("/")+u+")"})}function so(e,r){return r===void 0&&(r=!1),r?e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,""):e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"").replace(/0px/g,"0")}function xb(e,r,n){n===void 0&&(n=!1);var t=Array.from(r.childNodes),i=[],o=0;if(t.length>1&&e&&typeof e=="string"){for(var s=so(e,n),a=s.length/e.length,l=1;l<t.length;l++)if(t[l].textContent&&typeof t[l].textContent=="string"){for(var u=so(t[l].textContent,n),f=100,c=3;c<u.length&&(u[c].match(/[a-zA-Z0-9]/)||u.indexOf(u.substring(0,c),1)!==-1);c++);for(;c<u.length;c++){var d=u.substring(0,c),p=s.split(d),v=-1;if(p.length===2)v=p[0].length;else if(p.length>2&&p[0]===""&&t[l-1].textContent!=="")v=s.indexOf(d,1);else if(p.length===1){if(d=d.substring(0,d.length-1),p=s.split(d),p.length<=1)return i.push(e),i;c=f+1}else c===u.length-1&&(v=s.indexOf(d));if(p.length>=2&&c>f){var b=t[l-1].textContent;if(b&&typeof b=="string"){var g=so(b).length;v=s.indexOf(d,g)}v===-1&&(v=p[0].length)}if(v!==-1){for(var _=Math.floor(v/a);_>0&&_<e.length;){if(o+=1,o>50*t.length)return i.push(e),i;var w=so(e.substring(0,_),n);if(w.length===v){i.push(e.substring(0,_)),e=e.substring(_),s=s.substring(v);break}else w.length<v?_+=Math.max(1,Math.floor((v-w.length)/a)):_-=Math.max(1,Math.floor((w.length-v)*a))}break}}}}return i.push(e),i}function Cb(e,r){return xb(e,r).join("/* rr_split */")}var kb=1,Eb=new RegExp("[^a-z0-9-_:]"),wi=-2;function Ph(){return kb++}function Ib(e){if(W(e,HTMLFormElement))return"form";var r=Ar(e.tagName);return Eb.test(r)?"div":r}var qr,qf,Ab=/^[^ \t\n\r\u000c]+/,Ob=/^[, \t\n\r\u000c]+/;function Tb(e,r){if(r.trim()==="")return r;var n=0;function t(u){var f,c=u.exec(r.substring(n));return c?(f=c[0],n+=f.length,f):""}for(var i=[];t(Ob),!(n>=r.length);){var o=t(Ab);if(o.slice(-1)===",")o=Jr(e,o.substring(0,o.length-1)),i.push(o);else{var s="";o=Jr(e,o);for(var a=!1;;){var l=r.charAt(n);if(l===""){i.push((o+s).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,i.push((o+s).trim());break}else l==="("&&(a=!0);s+=l,n+=1}}}return i.join(", ")}var Hf=new WeakMap;function Jr(e,r){return!r||r.trim()===""?r:Pu(e,r)}function Nb(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Pu(e,r){var n=Hf.get(e);if(n||(n=e.createElement("a"),Hf.set(e,n)),!r)r="";else if(r.startsWith("blob:")||r.startsWith("data:"))return r;return n.setAttribute("href",r),n.href}function Mh(e,r,n,t){return t&&(n==="src"||n==="href"&&!(r==="use"&&t[0]==="#")||n==="xlink:href"&&t[0]!=="#"||n==="background"&&(r==="table"||r==="td"||r==="th")?Jr(e,t):n==="srcset"?Tb(e,t):n==="style"?Zo(t,Pu(e)):r==="object"&&n==="data"?Jr(e,t):t)}function Dh(e,r,n){return(e==="video"||e==="audio")&&r==="autoplay"}function Pb(e,r,n){try{if(typeof r=="string"){if(e.classList.contains(r))return!0}else for(var t=e.classList.length;t--;){var i=e.classList[t];if(r.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function es(e,r,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return n?es(Xe.parentNode(e),r,n):!1;for(var t=e.classList.length;t--;){var i=e.classList[t];if(r.test(i))return!0}return n?es(Xe.parentNode(e),r,n):!1}function Lh(e,r,n,t){var i;if(Ah(e)){if(i=e,!Xe.childNodes(i).length)return!1}else{if(Xe.parentElement(e)===null)return!1;i=Xe.parentElement(e)}try{if(typeof r=="string"){if(t){if(i.closest("."+r))return!0}else if(i.classList.contains(r))return!0}else if(es(i,r,t))return!0;if(n){if(t){if(i.closest(n))return!0}else if(i.matches(n))return!0}}catch{}return!1}function Mb(e,r,n){var t=e.contentWindow;if(t){var i=!1,o;try{o=t.document.readyState}catch{return}if(o!=="complete"){var s=setTimeout(function(){i||(r(),i=!0)},n);e.addEventListener("load",function(){clearTimeout(s),i=!0,r()});return}var a="about:blank";if(t.location.href!==a||e.src===a||e.src==="")return setTimeout(r,0),e.addEventListener("load",r);e.addEventListener("load",r)}}function Db(e,r,n){var t=!1,i;try{i=e.sheet}catch{return}if(!i){var o=setTimeout(function(){t||(r(),t=!0)},n);e.addEventListener("load",function(){clearTimeout(o),t=!0,r()})}}function Lb(e,r){var n=r.doc,t=r.mirror,i=r.blockClass,o=r.blockSelector,s=r.needsMask,a=r.inlineStylesheet,l=r.maskInputOptions,u=l===void 0?{}:l,f=r.maskTextFn,c=r.maskInputFn,d=r.dataURLOptions,p=d===void 0?{}:d,v=r.inlineImages,b=r.recordCanvas,g=r.keepIframeSrcFn,_=r.newlyAddedElement,w=_===void 0?!1:_,S=r.cssCaptured,x=S===void 0?!1:S,C=Rb(n,t);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Ge.Document,childNodes:[],compatMode:e.compatMode}:{type:Ge.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Ge.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:C};case e.ELEMENT_NODE:return $b(e,{doc:n,blockClass:i,blockSelector:o,inlineStylesheet:a,maskInputOptions:u,maskInputFn:c,dataURLOptions:p,inlineImages:v,recordCanvas:b,keepIframeSrcFn:g,newlyAddedElement:w,rootId:C});case e.TEXT_NODE:return Fb(e,{doc:n,needsMask:s,maskTextFn:f,rootId:C,cssCaptured:x});case e.CDATA_SECTION_NODE:return{type:Ge.CDATA,textContent:"",rootId:C};case e.COMMENT_NODE:return{type:Ge.Comment,textContent:Xe.textContent(e)||"",rootId:C};default:return!1}}function Rb(e,r){if(r.hasNode(e)){var n=r.getId(e);return n===1?void 0:n}}function Fb(e,r){var n=r.needsMask,t=r.maskTextFn,i=r.rootId,o=r.cssCaptured,s=Xe.parentNode(e),a=s&&s.tagName,l="",u=a==="STYLE"?!0:void 0,f=a==="SCRIPT"?!0:void 0;return f?l="SCRIPT_PLACEHOLDER":o||(l=Xe.textContent(e),u&&l&&(l=Zo(l,Pu(r.doc)))),!u&&!f&&l&&n&&(l=t?t(l,Xe.parentElement(e)):l.replace(/[\S]/g,"*")),{type:Ge.Text,textContent:l||"",rootId:i}}function $b(e,r){for(var n=r.doc,t=r.blockClass,i=r.blockSelector,o=r.inlineStylesheet,s=r.maskInputOptions,a=s===void 0?{}:s,l=r.maskInputFn,u=r.dataURLOptions,f=u===void 0?{}:u,c=r.inlineImages,d=r.recordCanvas,p=r.keepIframeSrcFn,v=r.newlyAddedElement,b=v===void 0?!1:v,g=r.rootId,_=Pb(e,t,i),w=Ib(e),S={},x=e.attributes.length,C=0;C<x;C++){var T=e.attributes[C];Dh(w,T.name,T.value)||(S[T.name]=Mh(n,w,Ar(T.name),T.value))}if(w==="link"&&o){var I=Array.from(n.styleSheets).find(function(Ze){return Ze.href===e.href}),O=null;I&&(O=_l(I)),O&&(delete S.rel,delete S.href,S._cssText=O)}if(w==="style"&&e.sheet){var N=_l(e.sheet);N&&(e.childNodes.length>1&&(N=Cb(N,e)),S._cssText=N)}if(w==="input"||w==="textarea"||w==="select"){var P=e.value,E=e.checked;S.type!=="radio"&&S.type!=="checkbox"&&S.type!=="submit"&&S.type!=="button"&&P?S.value=Qo({element:e,type:Xo(e),tagName:w,value:P,maskInputOptions:a,maskInputFn:l}):E&&(S.checked=E)}if(w==="option"&&(e.selected&&!a.select?S.selected=!0:delete S.selected),w==="dialog"&&e.open&&(S.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal"),w==="canvas"&&d){if(e.__context==="2d")gb(e)||(S.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){var A=e.toDataURL(f.type,f.quality),R=n.createElement("canvas");R.width=e.width,R.height=e.height;var B=R.toDataURL(f.type,f.quality);A!==B&&(S.rr_dataURL=A)}}if(w==="img"&&c){qr||(qr=n.createElement("canvas"),qf=qr.getContext("2d"));var U=e,ee=U.currentSrc||U.getAttribute("src")||"<unknown-src>",K=U.crossOrigin,H=function(){U.removeEventListener("load",H);try{qr.width=U.naturalWidth,qr.height=U.naturalHeight,qf.drawImage(U,0,0),S.rr_dataURL=qr.toDataURL(f.type,f.quality)}catch(Ze){if(U.crossOrigin!=="anonymous"){U.crossOrigin="anonymous",U.complete&&U.naturalWidth!==0?H():U.addEventListener("load",H);return}else console.warn("Cannot inline img src="+ee+"! Error: "+Ze)}U.crossOrigin==="anonymous"&&(K?S.crossOrigin=K:U.removeAttribute("crossorigin"))};U.complete&&U.naturalWidth!==0?H():U.addEventListener("load",H)}if(w==="audio"||w==="video"){var ne=S;ne.rr_mediaState=e.paused?"paused":"played",ne.rr_mediaCurrentTime=e.currentTime,ne.rr_mediaPlaybackRate=e.playbackRate,ne.rr_mediaMuted=e.muted,ne.rr_mediaLoop=e.loop,ne.rr_mediaVolume=e.volume}if(b||(e.scrollLeft&&(S.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(S.rr_scrollTop=e.scrollTop)),_){var He=e.getBoundingClientRect(),at=He.width,Ye=He.height;S={class:S.class,rr_width:""+at+"px",rr_height:""+Ye+"px"}}w==="iframe"&&!p(S.src)&&(e.contentDocument||(S.rr_src=S.src),delete S.src);var Lt;try{customElements.get(w)&&(Lt=!0)}catch{}return{type:Ge.Element,tagName:w,attributes:S,childNodes:[],isSVG:Nb(e)||void 0,needBlock:_,rootId:g,isCustom:Lt}}function be(e){return e==null?"":e.toLowerCase()}function Bb(e,r){if(r.comment&&e.type===Ge.Comment)return!0;if(e.type===Ge.Element){if(r.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"&&e.attributes.as==="script"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Nh(e.attributes.href)==="js"))return!0;if(r.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(be(e.attributes.name).match(/^msapplication-tile(image|color)$/)||be(e.attributes.name)==="application-name"||be(e.attributes.rel)==="icon"||be(e.attributes.rel)==="apple-touch-icon"||be(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(r.headMetaDescKeywords&&be(e.attributes.name).match(/^description|keywords$/))return!0;if(r.headMetaSocial&&(be(e.attributes.property).match(/^(og|twitter|fb):/)||be(e.attributes.name).match(/^(og|twitter):/)||be(e.attributes.name)==="pinterest"))return!0;if(r.headMetaRobots&&(be(e.attributes.name)==="robots"||be(e.attributes.name)==="googlebot"||be(e.attributes.name)==="bingbot"))return!0;if(r.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(r.headMetaAuthorship&&(be(e.attributes.name)==="author"||be(e.attributes.name)==="generator"||be(e.attributes.name)==="framework"||be(e.attributes.name)==="publisher"||be(e.attributes.name)==="progid"||be(e.attributes.property).match(/^article:/)||be(e.attributes.property).match(/^product:/)))return!0;if(r.headMetaVerification&&(be(e.attributes.name)==="google-site-verification"||be(e.attributes.name)==="yandex-verification"||be(e.attributes.name)==="csrf-token"||be(e.attributes.name)==="p:domain_verify"||be(e.attributes.name)==="verify-v1"||be(e.attributes.name)==="verification"||be(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Qr(e,r){var n=r.doc,t=r.mirror,i=r.blockClass,o=r.blockSelector,s=r.maskTextClass,a=r.maskTextSelector,l=r.skipChild,u=l===void 0?!1:l,f=r.inlineStylesheet,c=f===void 0?!0:f,d=r.maskInputOptions,p=d===void 0?{}:d,v=r.maskTextFn,b=r.maskInputFn,g=r.slimDOMOptions,_=r.dataURLOptions,w=_===void 0?{}:_,S=r.inlineImages,x=S===void 0?!1:S,C=r.recordCanvas,T=C===void 0?!1:C,I=r.onSerialize,O=r.onIframeLoad,N=r.iframeLoadTimeout,P=N===void 0?5e3:N,E=r.onStylesheetLoad,A=r.stylesheetLoadTimeout,R=A===void 0?5e3:A,B=r.keepIframeSrcFn,U=B===void 0?function(){return!1}:B,ee=r.newlyAddedElement,K=ee===void 0?!1:ee,H=r.cssCaptured,ne=H===void 0?!1:H,He=r.needsMask,at=r.preserveWhiteSpace,Ye=at===void 0?!0:at;if(!He){var Lt=He===void 0;He=Lh(e,s,a,Lt)}var Ze=Lb(e,{doc:n,mirror:t,blockClass:i,blockSelector:o,needsMask:He,inlineStylesheet:c,maskInputOptions:p,maskTextFn:v,maskInputFn:b,dataURLOptions:w,inlineImages:x,recordCanvas:T,keepIframeSrcFn:U,newlyAddedElement:K,cssCaptured:ne});if(!Ze)return console.warn(e,"not serialized"),null;var bt;t.hasNode(e)?bt=t.getId(e):Bb(Ze,g)||!Ye&&Ze.type===Ge.Text&&!Ze.textContent.replace(/^\s+|\s+$/gm,"").length?bt=wi:bt=Ph();var fe=Object.assign(Ze,{id:bt});if(t.add(e,fe),bt===wi)return null;I&&I(e);var Rt=!u;if(fe.type===Ge.Element){Rt=Rt&&!fe.needBlock,delete fe.needBlock;var Ft=Xe.shadowRoot(e);Ft&&hi(Ft)&&(fe.isShadowHost=!0)}if((fe.type===Ge.Document||fe.type===Ge.Element)&&Rt){g.headWhitespace&&fe.type===Ge.Element&&fe.tagName==="head"&&(Ye=!1);var $t={doc:n,mirror:t,blockClass:i,blockSelector:o,needsMask:He,maskTextClass:s,maskTextSelector:a,skipChild:u,inlineStylesheet:c,maskInputOptions:p,maskTextFn:v,maskInputFn:b,slimDOMOptions:g,dataURLOptions:w,inlineImages:x,recordCanvas:T,preserveWhiteSpace:Ye,onSerialize:I,onIframeLoad:O,iframeLoadTimeout:P,onStylesheetLoad:E,stylesheetLoadTimeout:R,keepIframeSrcFn:U,cssCaptured:!1};if(!(fe.type===Ge.Element&&fe.tagName==="textarea"&&fe.attributes.value!==void 0)){fe.type===Ge.Element&&fe.attributes._cssText!==void 0&&typeof fe.attributes._cssText=="string"&&($t.cssCaptured=!0);for(var _r=D(Array.from(Xe.childNodes(e))),br;!(br=_r()).done;){var En=br.value,se=Qr(En,$t);se&&fe.childNodes.push(se)}}var pe=null;if(Ah(e)&&(pe=Xe.shadowRoot(e)))for(var me=D(Array.from(Xe.childNodes(pe))),ae;!(ae=me()).done;){var de=ae.value,Te=Qr(de,$t);Te&&(hi(pe)&&(Te.isShadow=!0),fe.childNodes.push(Te))}}var Je=Xe.parentNode(e);return Je&&di(Je)&&hi(Je)&&(fe.isShadow=!0),fe.type===Ge.Element&&fe.tagName==="iframe"&&Mb(e,function(){var Ke=e.contentDocument;if(Ke&&O){var pt=Qr(Ke,{doc:Ke,mirror:t,blockClass:i,blockSelector:o,needsMask:He,maskTextClass:s,maskTextSelector:a,skipChild:!1,inlineStylesheet:c,maskInputOptions:p,maskTextFn:v,maskInputFn:b,slimDOMOptions:g,dataURLOptions:w,inlineImages:x,recordCanvas:T,preserveWhiteSpace:Ye,onSerialize:I,onIframeLoad:O,iframeLoadTimeout:P,onStylesheetLoad:E,stylesheetLoadTimeout:R,keepIframeSrcFn:U});pt&&O(e,pt)}},P),fe.type===Ge.Element&&fe.tagName==="link"&&typeof fe.attributes.rel=="string"&&(fe.attributes.rel==="stylesheet"||fe.attributes.rel==="preload"&&typeof fe.attributes.href=="string"&&Nh(fe.attributes.href)==="css")&&Db(e,function(){if(E){var Ke=Qr(e,{doc:n,mirror:t,blockClass:i,blockSelector:o,needsMask:He,maskTextClass:s,maskTextSelector:a,skipChild:!1,inlineStylesheet:c,maskInputOptions:p,maskTextFn:v,maskInputFn:b,slimDOMOptions:g,dataURLOptions:w,inlineImages:x,recordCanvas:T,preserveWhiteSpace:Ye,onSerialize:I,onIframeLoad:O,iframeLoadTimeout:P,onStylesheetLoad:E,stylesheetLoadTimeout:R,keepIframeSrcFn:U});Ke&&E(e,Ke)}},R),fe}function Ub(e,r){var n=r||{},t=n.mirror,i=t===void 0?new Th:t,o=n.blockClass,s=o===void 0?"rr-block":o,a=n.blockSelector,l=a===void 0?null:a,u=n.maskTextClass,f=u===void 0?"rr-mask":u,c=n.maskTextSelector,d=c===void 0?null:c,p=n.inlineStylesheet,v=p===void 0?!0:p,b=n.inlineImages,g=b===void 0?!1:b,_=n.recordCanvas,w=_===void 0?!1:_,S=n.maskAllInputs,x=S===void 0?!1:S,C=n.maskTextFn,T=n.maskInputFn,I=n.slimDOM,O=I===void 0?!1:I,N=n.dataURLOptions,P=n.preserveWhiteSpace,E=n.onSerialize,A=n.onIframeLoad,R=n.iframeLoadTimeout,B=n.onStylesheetLoad,U=n.stylesheetLoadTimeout,ee=n.keepIframeSrcFn,K=ee===void 0?function(){return!1}:ee,H=x===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0,hidden:!0}:x===!1?{password:!0}:x,ne=O===!0||O==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:O==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:O===!1?{}:O;return Qr(e,{doc:e,mirror:i,blockClass:s,blockSelector:l,maskTextClass:f,maskTextSelector:d,skipChild:!1,inlineStylesheet:v,maskInputOptions:H,maskTextFn:C,maskInputFn:T,slimDOMOptions:ne,dataURLOptions:N,inlineImages:g,recordCanvas:w,preserveWhiteSpace:P,onSerialize:E,onIframeLoad:A,iframeLoadTimeout:R,onStylesheetLoad:B,stylesheetLoadTimeout:U,keepIframeSrcFn:K,newlyAddedElement:!1})}function jb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wb(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var n=function t(){return W(this,t)?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),n}var Mu={exports:{}},xe=String,Rh=function(){return{isColorSupported:!1,reset:xe,bold:xe,dim:xe,italic:xe,underline:xe,inverse:xe,hidden:xe,strikethrough:xe,black:xe,red:xe,green:xe,yellow:xe,blue:xe,magenta:xe,cyan:xe,white:xe,gray:xe,bgBlack:xe,bgRed:xe,bgGreen:xe,bgYellow:xe,bgBlue:xe,bgMagenta:xe,bgCyan:xe,bgWhite:xe}};Mu.exports=Rh();Mu.exports.createColors=Rh;var zb=Mu.exports,Vb={},qb=Object.freeze(Object.defineProperty({__proto__:null,default:Vb},Symbol.toStringTag,{value:"Module"})),Be=Wb(qb),Gf=zb,Kf=Be,bl=(function(e){Ne(r,e);function r(t,i,o,s,a,l){var u;return u=e.call(this,t)||this,u.name="CssSyntaxError",u.reason=t,a&&(u.file=a),s&&(u.source=s),l&&(u.plugin=l),typeof i<"u"&&typeof o<"u"&&(typeof i=="number"?(u.line=i,u.column=o):(u.line=i.line,u.column=i.column,u.endLine=o.line,u.endColumn=o.column)),u.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(u,r),u}var n=r.prototype;return n.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},n.showSourceCode=function(i){var o=this;if(!this.source)return"";var s=this.source;i==null&&(i=Gf.isColorSupported),Kf&&i&&(s=Kf(s));var a=s.split(/\r?\n/),l=Math.max(this.line-3,0),u=Math.min(this.line+2,a.length),f=String(u).length,c,d;if(i){var p=Gf.createColors(!0),v=p.bold,b=p.gray,g=p.red;c=function(_){return v(g(_))},d=function(_){return b(_)}}else c=d=function(_){return _};return a.slice(l,u).map(function(_,w){var S=l+1+w,x=" "+(" "+S).slice(-f)+" | ";if(S===o.line){var C=d(x.replace(/\d/g," "))+_.slice(0,o.column-1).replace(/[^\t]/g," ");return c(">")+d(x)+_+`
 `+C+c("^")}return" "+d(x)+_}).join(`
`)},n.toString=function(){var i=this.showSourceCode();return i&&(i=`

`+i+`
`),this.name+": "+this.message+i},r})(bi(Error)),Du=bl;bl.default=bl;var ur={};ur.isClean=Symbol("isClean");ur.my=Symbol("my");var Yf={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function Hb(e){return e[0].toUpperCase()+e.slice(1)}var wl=(function(){function e(n){this.builder=n}var r=e.prototype;return r.atrule=function(t,i){var o="@"+t.name,s=t.params?this.rawValue(t,"params"):"";if(typeof t.raws.afterName<"u"?o+=t.raws.afterName:s&&(o+=" "),t.nodes)this.block(t,o+s);else{var a=(t.raws.between||"")+(i?";":"");this.builder(o+s+a,t)}},r.beforeAfter=function(t,i){var o;t.type==="decl"?o=this.raw(t,null,"beforeDecl"):t.type==="comment"?o=this.raw(t,null,"beforeComment"):i==="before"?o=this.raw(t,null,"beforeRule"):o=this.raw(t,null,"beforeClose");for(var s=t.parent,a=0;s&&s.type!=="root";)a+=1,s=s.parent;if(o.includes(`
`)){var l=this.raw(t,null,"indent");if(l.length)for(var u=0;u<a;u++)o+=l}return o},r.block=function(t,i){var o=this.raw(t,"between","beforeOpen");this.builder(i+o+"{",t,"start");var s;t.nodes&&t.nodes.length?(this.body(t),s=this.raw(t,"after")):s=this.raw(t,"after","emptyBody"),s&&this.builder(s),this.builder("}",t,"end")},r.body=function(t){for(var i=t.nodes.length-1;i>0&&t.nodes[i].type==="comment";)i-=1;for(var o=this.raw(t,"semicolon"),s=0;s<t.nodes.length;s++){var a=t.nodes[s],l=this.raw(a,"before");l&&this.builder(l),this.stringify(a,i!==s||o)}},r.comment=function(t){var i=this.raw(t,"left","commentLeft"),o=this.raw(t,"right","commentRight");this.builder("/*"+i+t.text+o+"*/",t)},r.decl=function(t,i){var o=this.raw(t,"between","colon"),s=t.prop+o+this.rawValue(t,"value");t.important&&(s+=t.raws.important||" !important"),i&&(s+=";"),this.builder(s,t)},r.document=function(t){this.body(t)},r.raw=function(t,i,o){var s;if(o||(o=i),i&&(s=t.raws[i],typeof s<"u"))return s;var a=t.parent;if(o==="before"&&(!a||a.type==="root"&&a.first===t||a&&a.type==="document"))return"";if(!a)return Yf[o];var l=t.root();if(l.rawCache||(l.rawCache={}),typeof l.rawCache[o]<"u")return l.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(t,o);var u="raw"+Hb(o);return this[u]?s=this[u](l,t):l.walk(function(f){if(s=f.raws[i],typeof s<"u")return!1}),typeof s>"u"&&(s=Yf[o]),l.rawCache[o]=s,s},r.rawBeforeClose=function(t){var i;return t.walk(function(o){if(o.nodes&&o.nodes.length>0&&typeof o.raws.after<"u")return i=o.raws.after,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),i&&(i=i.replace(/\S/g,"")),i},r.rawBeforeComment=function(t,i){var o;return t.walkComments(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(i,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o},r.rawBeforeDecl=function(t,i){var o;return t.walkDecls(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(i,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o},r.rawBeforeOpen=function(t){var i;return t.walk(function(o){if(o.type!=="decl"&&(i=o.raws.between,typeof i<"u"))return!1}),i},r.rawBeforeRule=function(t){var i;return t.walk(function(o){if(o.nodes&&(o.parent!==t||t.first!==o)&&typeof o.raws.before<"u")return i=o.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),i&&(i=i.replace(/\S/g,"")),i},r.rawColon=function(t){var i;return t.walkDecls(function(o){if(typeof o.raws.between<"u")return i=o.raws.between.replace(/[^\s:]/g,""),!1}),i},r.rawEmptyBody=function(t){var i;return t.walk(function(o){if(o.nodes&&o.nodes.length===0&&(i=o.raws.after,typeof i<"u"))return!1}),i},r.rawIndent=function(t){if(t.raws.indent)return t.raws.indent;var i;return t.walk(function(o){var s=o.parent;if(s&&s!==t&&s.parent&&s.parent===t&&typeof o.raws.before<"u"){var a=o.raws.before.split(`
`);return i=a[a.length-1],i=i.replace(/\S/g,""),!1}}),i},r.rawSemicolon=function(t){var i;return t.walk(function(o){if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(i=o.raws.semicolon,typeof i<"u"))return!1}),i},r.rawValue=function(t,i){var o=t[i],s=t.raws[i];return s&&s.value===o?s.raw:o},r.root=function(t){this.body(t),t.raws.after&&this.builder(t.raws.after)},r.rule=function(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")},r.stringify=function(t,i){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,i)},e})(),Fh=wl;wl.default=wl;var Gb=Fh;function Sl(e,r){var n=new Gb(r);n.stringify(e)}var Os=Sl;Sl.default=Sl;var ao=ur.isClean,Kb=ur.my,Yb=Du,Jb=Fh,Qb=Os;function xl(e,r){var n=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&t!=="proxyCache"){var i=e[t],o=typeof i>"u"?"undefined":z(i);t==="parent"&&o==="object"?r&&(n[t]=r):t==="source"?n[t]=i:Array.isArray(i)?n[t]=i.map(function(s){return xl(s,n)}):(o==="object"&&i!==null&&(i=xl(i)),n[t]=i)}return n}var Cl=(function(){function e(n){n===void 0&&(n={}),this.raws={},this[ao]=!1,this[Kb]=!0;for(var t in n)if(t==="nodes"){this.nodes=[];for(var i=D(n[t]),o;!(o=i()).done;){var s=o.value;typeof s.clone=="function"?this.append(s.clone()):this.append(s)}}else this[t]=n[t]}var r=e.prototype;return r.addToError=function(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){var i=this.source;t.stack=t.stack.replace(/\n\s{4}at /,"$&"+i.input.from+":"+i.start.line+":"+i.start.column+"$&")}return t},r.after=function(t){return this.parent.insertAfter(this,t),this},r.assign=function(t){t===void 0&&(t={});for(var i in t)this[i]=t[i];return this},r.before=function(t){return this.parent.insertBefore(this,t),this},r.cleanRaws=function(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between},r.clone=function(t){t===void 0&&(t={});var i=xl(this);for(var o in t)i[o]=t[o];return i},r.cloneAfter=function(t){t===void 0&&(t={});var i=this.clone(t);return this.parent.insertAfter(this,i),i},r.cloneBefore=function(t){t===void 0&&(t={});var i=this.clone(t);return this.parent.insertBefore(this,i),i},r.error=function(t,i){if(i===void 0&&(i={}),this.source){var o=this.rangeBy(i),s=o.end,a=o.start;return this.source.input.error(t,{column:a.column,line:a.line},{column:s.column,line:s.line},i)}return new Yb(t)},r.getProxyProcessor=function(){return{get:function(i,o){return o==="proxyOf"?i:o==="root"?function(){return i.root().toProxy()}:i[o]},set:function(i,o,s){return i[o]===s||(i[o]=s,(o==="prop"||o==="value"||o==="name"||o==="params"||o==="important"||o==="text")&&i.markDirty()),!0}}},r.markDirty=function(){if(this[ao]){this[ao]=!1;for(var t=this;t=t.parent;)t[ao]=!1}},r.next=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t+1]}},r.positionBy=function(t,i){var o=this.source.start;if(t.index)o=this.positionInside(t.index,i);else if(t.word){i=this.toString();var s=i.indexOf(t.word);s!==-1&&(o=this.positionInside(s,i))}return o},r.positionInside=function(t,i){for(var o=i||this.toString(),s=this.source.start.column,a=this.source.start.line,l=0;l<t;l++)o[l]===`
`?(s=1,a+=1):s+=1;return{column:s,line:a}},r.prev=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t-1]}},r.rangeBy=function(t){var i={column:this.source.start.column,line:this.source.start.line},o=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:i.column+1,line:i.line};if(t.word){var s=this.toString(),a=s.indexOf(t.word);a!==-1&&(i=this.positionInside(a,s),o=this.positionInside(a+t.word.length,s))}else t.start?i={column:t.start.column,line:t.start.line}:t.index&&(i=this.positionInside(t.index)),t.end?o={column:t.end.column,line:t.end.line}:typeof t.endIndex=="number"?o=this.positionInside(t.endIndex):t.index&&(o=this.positionInside(t.index+1));return(o.line<i.line||o.line===i.line&&o.column<=i.column)&&(o={column:i.column+1,line:i.line}),{end:o,start:i}},r.raw=function(t,i){var o=new Jb;return o.raw(this,t,i)},r.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},r.replaceWith=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];if(this.parent){for(var s=this,a=!1,l=D(i),u;!(u=l()).done;){var f=u.value;f===this?a=!0:a?(this.parent.insertAfter(s,f),s=f):this.parent.insertBefore(s,f)}a||this.remove()}return this},r.root=function(){for(var t=this;t.parent&&t.parent.type!=="document";)t=t.parent;return t},r.toJSON=function(t,i){var o={},s=i==null;i=i||new Map;var a=0;for(var l in this)if(Object.prototype.hasOwnProperty.call(this,l)&&!(l==="parent"||l==="proxyCache")){var u=this[l];if(Array.isArray(u))o[l]=u.map(function(c){return(typeof c>"u"?"undefined":z(c))==="object"&&c.toJSON?c.toJSON(null,i):c});else if((typeof u>"u"?"undefined":z(u))==="object"&&u.toJSON)o[l]=u.toJSON(null,i);else if(l==="source"){var f=i.get(u.input);f==null&&(f=a,i.set(u.input,a),a++),o[l]={end:u.end,inputId:f,start:u.start}}else o[l]=u}return s&&(o.inputs=[].concat(i.keys()).map(function(c){return c.toJSON()})),o},r.toProxy=function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache},r.toString=function(t){t===void 0&&(t=Qb),t.stringify&&(t=t.stringify);var i="";return t(this,function(o){i+=o}),i},r.warn=function(t,i,o){var s={node:this};for(var a in o)s[a]=o[a];return t.warn(i,s)},Ie(e,[{key:"proxyOf",get:function(){return this}}]),e})(),Ts=Cl;Cl.default=Cl;var Xb=Ts,kl=(function(e){Ne(r,e);function r(n){var t;return n&&typeof n.value<"u"&&typeof n.value!="string"&&(n=re({},n,{value:String(n.value)})),t=e.call(this,n)||this,t.type="decl",t}return Ie(r,[{key:"variable",get:function(){return this.prop.startsWith("--")||this.prop[0]==="$"}}]),r})(Xb),Ns=kl;kl.default=kl;var Zb="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",e0=function(e){e===void 0&&(e=21);for(var r="",n=e;n--;)r+=Zb[Math.random()*64|0];return r},t0={nanoid:e0},Jf=Be.SourceMapConsumer,Qf=Be.SourceMapGenerator,r0=Be.existsSync,n0=Be.readFileSync,Ha=Be.dirname,i0=Be.join;function o0(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}var El=(function(){function e(n,t){if(t.map!==!1){this.loadAnnotation(n),this.inline=this.startWith(this.annotation,"data:");var i=t.map?t.map.prev:void 0,o=this.loadMap(t.from,i);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Ha(this.mapFile)),o&&(this.text=o)}}var r=e.prototype;return r.consumer=function(){return this.consumerCache||(this.consumerCache=new Jf(this.text)),this.consumerCache},r.decodeInline=function(t){var i=/^data:application\/json;charset=utf-?8;base64,/,o=/^data:application\/json;base64,/,s=/^data:application\/json;charset=utf-?8,/,a=/^data:application\/json,/;if(s.test(t)||a.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(i.test(t)||o.test(t))return o0(t.substr(RegExp.lastMatch.length));var l=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+l)},r.getAnnotationURL=function(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()},r.isMap=function(t){return(typeof t>"u"?"undefined":z(t))!=="object"?!1:typeof t.mappings=="string"||typeof t._mappings=="string"||Array.isArray(t.sections)},r.loadAnnotation=function(t){var i=t.match(/\/\*\s*# sourceMappingURL=/gm);if(i){var o=t.lastIndexOf(i.pop()),s=t.indexOf("*/",o);o>-1&&s>-1&&(this.annotation=this.getAnnotationURL(t.substring(o,s)))}},r.loadFile=function(t){if(this.root=Ha(t),r0(t))return this.mapFile=t,n0(t,"utf-8").toString().trim()},r.loadMap=function(t,i){if(i===!1)return!1;if(i){if(typeof i=="string")return i;if(typeof i=="function"){var o=i(t);if(o){var s=this.loadFile(o);if(!s)throw new Error("Unable to load previous source map: "+o.toString());return s}}else{if(W(i,Jf))return Qf.fromSourceMap(i).toString();if(W(i,Qf))return i.toString();if(this.isMap(i))return JSON.stringify(i);throw new Error("Unsupported previous source map format: "+i.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var a=this.annotation;return t&&(a=i0(Ha(t),a)),this.loadFile(a)}}},r.startWith=function(t,i){return t?t.substr(0,i.length)===i:!1},r.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e})(),$h=El;El.default=El;var s0=Be.SourceMapConsumer,a0=Be.SourceMapGenerator,Xf=Be.fileURLToPath,lo=Be.pathToFileURL,Il=Be.isAbsolute,Al=Be.resolve,l0=t0.nanoid,Ga=Be,Zf=Du,u0=$h,Ka=Symbol("fromOffsetCache"),c0=!!(s0&&a0),ed=!!(Al&&Il),ts=(function(){function e(n,t){if(t===void 0&&(t={}),n===null||typeof n>"u"||(typeof n>"u"?"undefined":z(n))==="object"&&!n.toString)throw new Error("PostCSS received "+n+" instead of CSS string");if(this.css=n.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!ed||/^\w+:\/\//.test(t.from)||Il(t.from)?this.file=t.from:this.file=Al(t.from)),ed&&c0){var i=new u0(this.css,t);if(i.text){this.map=i;var o=i.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+l0(6)+">"),this.map&&(this.map.file=this.from)}var r=e.prototype;return r.error=function(t,i,o,s){s===void 0&&(s={});var a,l,u;if(i&&(typeof i>"u"?"undefined":z(i))==="object"){var f=i,c=o;if(typeof f.offset=="number"){var d=this.fromOffset(f.offset);i=d.line,o=d.col}else i=f.line,o=f.column;if(typeof c.offset=="number"){var p=this.fromOffset(c.offset);l=p.line,u=p.col}else l=c.line,u=c.column}else if(!o){var v=this.fromOffset(i);i=v.line,o=v.col}var b=this.origin(i,o,l,u);return b?a=new Zf(t,b.endLine===void 0?b.line:{column:b.column,line:b.line},b.endLine===void 0?b.column:{column:b.endColumn,line:b.endLine},b.source,b.file,s.plugin):a=new Zf(t,l===void 0?i:{column:o,line:i},l===void 0?o:{column:u,line:l},this.css,this.file,s.plugin),a.input={column:o,endColumn:u,endLine:l,line:i,source:this.css},this.file&&(lo&&(a.input.url=lo(this.file).toString()),a.input.file=this.file),a},r.fromOffset=function(t){var i,o;if(this[Ka])o=this[Ka];else{var s=this.css.split(`
`);o=new Array(s.length);for(var a=0,l=0,u=s.length;l<u;l++)o[l]=a,a+=s[l].length+1;this[Ka]=o}i=o[o.length-1];var f=0;if(t>=i)f=o.length-1;else for(var c=o.length-2,d;f<c;)if(d=f+(c-f>>1),t<o[d])c=d-1;else if(t>=o[d+1])f=d+1;else{f=d;break}return{col:t-o[f]+1,line:f+1}},r.mapResolve=function(t){return/^\w+:\/\//.test(t)?t:Al(this.map.consumer().sourceRoot||this.map.root||".",t)},r.origin=function(t,i,o,s){if(!this.map)return!1;var a=this.map.consumer(),l=a.originalPositionFor({column:i,line:t});if(!l.source)return!1;var u;typeof o=="number"&&(u=a.originalPositionFor({column:s,line:o}));var f;Il(l.source)?f=lo(l.source):f=new URL(l.source,this.map.consumer().sourceRoot||lo(this.map.mapFile));var c={column:l.column,endColumn:u&&u.column,endLine:u&&u.line,line:l.line,url:f.toString()};if(f.protocol==="file:")if(Xf)c.file=Xf(f);else throw new Error("file: protocol is not available in this PostCSS build");var d=a.sourceContentFor(l.source);return d&&(c.source=d),c},r.toJSON=function(){for(var t={},i=0,o=["hasBOM","css","file","id"];i<o.length;i++){var s=o[i];this[s]!=null&&(t[s]=this[s])}return this.map&&(t.map=re({},this.map),t.map.consumerCache&&(t.map.consumerCache=void 0)),t},Ie(e,[{key:"from",get:function(){return this.file||this.id}}]),e})(),Ps=ts;ts.default=ts;Ga&&Ga.registerInput&&Ga.registerInput(ts);var Bh=Be.SourceMapConsumer,zo=Be.SourceMapGenerator,Vo=Be.dirname,Uh=Be.relative,jh=Be.resolve,Wh=Be.sep,td=Be.pathToFileURL,f0=Ps,d0=!!(Bh&&zo),h0=!!(Vo&&jh&&Uh&&Wh),p0=(function(){function e(n,t,i,o){this.stringify=n,this.mapOpts=i.map||{},this.root=t,this.opts=i,this.css=o,this.originalCSS=o,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}var r=e.prototype;return r.addAnnotation=function(){var t;this.isInline()?t="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?t=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?t=this.mapOpts.annotation(this.opts.to,this.root):t=this.outputFile()+".map";var i=`
`;this.css.includes(`\r
`)&&(i=`\r
`),this.css+=i+"/*# sourceMappingURL="+t+" */"},r.applyPrevMaps=function(){for(var t=D(this.previous()),i;!(i=t()).done;){var o=i.value,s=this.toUrl(this.path(o.file)),a=o.root||Vo(o.file),l=void 0;this.mapOpts.sourcesContent===!1?(l=new Bh(o.text),l.sourcesContent&&(l.sourcesContent=null)):l=o.consumer(),this.map.applySourceMap(l,s,this.toUrl(this.path(a)))}},r.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)if(this.root)for(var t,i=this.root.nodes.length-1;i>=0;i--)t=this.root.nodes[i],t.type==="comment"&&t.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(i);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))},r.generate=function(){if(this.clearAnnotation(),h0&&d0&&this.isMap())return this.generateMap();var t="";return this.stringify(this.root,function(i){t+=i}),[t]},r.generateMap=function(){if(this.root)this.generateString();else if(this.previous().length===1){var t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=zo.fromSourceMap(t,{ignoreInvalidMapping:!0})}else this.map=new zo({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},r.generateString=function(){var t=this;this.css="",this.map=new zo({file:this.outputFile(),ignoreInvalidMapping:!0});var i=1,o=1,s="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""},l,u;this.stringify(this.root,function(f,c,d){if(t.css+=f,c&&d!=="end"&&(a.generated.line=i,a.generated.column=o-1,c.source&&c.source.start?(a.source=t.sourcePath(c),a.original.line=c.source.start.line,a.original.column=c.source.start.column-1,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,t.map.addMapping(a))),l=f.match(/\n/g),l?(i+=l.length,u=f.lastIndexOf(`
`),o=f.length-u):o+=f.length,c&&d!=="start"){var p=c.parent||{raws:{}},v=c.type==="decl"||c.type==="atrule"&&!c.nodes;(!v||c!==p.last||p.raws.semicolon)&&(c.source&&c.source.end?(a.source=t.sourcePath(c),a.original.line=c.source.end.line,a.original.column=c.source.end.column-1,a.generated.line=i,a.generated.column=o-2,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,a.generated.line=i,a.generated.column=o-1,t.map.addMapping(a)))}})},r.isAnnotation=function(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(function(t){return t.annotation}):!0},r.isInline=function(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;var t=this.mapOpts.annotation;return typeof t<"u"&&t!==!0?!1:this.previous().length?this.previous().some(function(i){return i.inline}):!0},r.isMap=function(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0},r.isSourcesContent=function(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(t){return t.withContent()}):!0},r.outputFile=function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"},r.path=function(t){if(this.mapOpts.absolute||t.charCodeAt(0)===60||/^\w+:\/\//.test(t))return t;var i=this.memoizedPaths.get(t);if(i)return i;var o=this.opts.to?Vo(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(o=Vo(jh(o,this.mapOpts.annotation)));var s=Uh(o,t);return this.memoizedPaths.set(t,s),s},r.previous=function(){var t=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(o){if(o.source&&o.source.input.map){var s=o.source.input.map;t.previousMaps.includes(s)||t.previousMaps.push(s)}});else{var i=new f0(this.originalCSS,this.opts);i.map&&this.previousMaps.push(i.map)}return this.previousMaps},r.setSourcesContent=function(){var t=this,i={};if(this.root)this.root.walk(function(s){if(s.source){var a=s.source.input.from;if(a&&!i[a]){i[a]=!0;var l=t.usesFileUrls?t.toFileUrl(a):t.toUrl(t.path(a));t.map.setSourceContent(l,s.source.input.css)}}});else if(this.css){var o=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(o,this.css)}},r.sourcePath=function(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))},r.toBase64=function(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))},r.toFileUrl=function(t){var i=this.memoizedFileURLs.get(t);if(i)return i;if(td){var o=td(t).toString();return this.memoizedFileURLs.set(t,o),o}else throw new Error("`map.absolute` option is not available in this PostCSS build")},r.toUrl=function(t){var i=this.memoizedURLs.get(t);if(i)return i;Wh==="\\"&&(t=t.replace(/\\/g,"/"));var o=encodeURI(t).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(t,o),o},e})(),zh=p0,m0=Ts,Ol=(function(e){Ne(r,e);function r(n){var t;return t=e.call(this,n)||this,t.type="comment",t}return r})(m0),Ms=Ol;Ol.default=Ol;var Vh=ur.isClean,qh=ur.my,Hh=Ns,Gh=Ms,v0=Ts,Kh,Lu,Ru,Yh;function Jh(e){return e.map(function(r){return r.nodes&&(r.nodes=Jh(r.nodes)),delete r.source,r})}function Qh(e){if(e[Vh]=!1,e.proxyOf.nodes)for(var r=D(e.proxyOf.nodes),n;!(n=r()).done;){var t=n.value;Qh(t)}}var Ht=(function(e){Ne(r,e);function r(){return e.apply(this,arguments)||this}var n=r.prototype;return n.append=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];for(var a=D(o),l;!(l=a()).done;)for(var u=l.value,f=this.normalize(u,this.last),c=D(f),d;!(d=c()).done;){var p=d.value;this.proxyOf.nodes.push(p)}return this.markDirty(),this},n.cleanRaws=function(i){if(e.prototype.cleanRaws.call(this,i),this.nodes)for(var o=D(this.nodes),s;!(s=o()).done;){var a=s.value;a.cleanRaws(i)}},n.each=function(i){if(this.proxyOf.nodes){for(var o=this.getIterator(),s,a;this.indexes[o]<this.proxyOf.nodes.length&&(s=this.indexes[o],a=i(this.proxyOf.nodes[s],s),a!==!1);)this.indexes[o]+=1;return delete this.indexes[o],a}},n.every=function(i){return this.nodes.every(i)},n.getIterator=function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var i=this.lastEach;return this.indexes[i]=0,i},n.getProxyProcessor=function(){return{get:function(o,s){return s==="proxyOf"?o:o[s]?s==="each"||typeof s=="string"&&s.startsWith("walk")?function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var f;return(f=o)[s].apply(f,[].concat(l.map(function(c){return typeof c=="function"?function(d,p){return c(d.toProxy(),p)}:c})))}:s==="every"||s==="some"?function(a){return o[s](function(l){for(var u=arguments.length,f=new Array(u>1?u-1:0),c=1;c<u;c++)f[c-1]=arguments[c];return a.apply(void 0,[].concat([l.toProxy()],f))})}:s==="root"?function(){return o.root().toProxy()}:s==="nodes"?o.nodes.map(function(a){return a.toProxy()}):s==="first"||s==="last"?o[s].toProxy():o[s]:o[s]},set:function(o,s,a){return o[s]===a||(o[s]=a,(s==="name"||s==="params"||s==="selector")&&o.markDirty()),!0}}},n.index=function(i){return typeof i=="number"?i:(i.proxyOf&&(i=i.proxyOf),this.proxyOf.nodes.indexOf(i))},n.insertAfter=function(i,o){var s=this.index(i),a=this.normalize(o,this.proxyOf.nodes[s]).reverse();s=this.index(i);for(var l=D(a),u;!(u=l()).done;){var f=u.value;this.proxyOf.nodes.splice(s+1,0,f)}var c;for(var d in this.indexes)c=this.indexes[d],s<c&&(this.indexes[d]=c+a.length);return this.markDirty(),this},n.insertBefore=function(i,o){var s=this.index(i),a=s===0?"prepend":!1,l=this.normalize(o,this.proxyOf.nodes[s],a).reverse();s=this.index(i);for(var u=D(l),f;!(f=u()).done;){var c=f.value;this.proxyOf.nodes.splice(s,0,c)}var d;for(var p in this.indexes)d=this.indexes[p],s<=d&&(this.indexes[p]=d+l.length);return this.markDirty(),this},n.normalize=function(i,o){var s=this;if(typeof i=="string")i=Jh(Kh(i).nodes);else if(typeof i>"u")i=[];else if(Array.isArray(i)){i=i.slice(0);for(var a=D(i),l;!(l=a()).done;){var u=l.value;u.parent&&u.parent.removeChild(u,"ignore")}}else if(i.type==="root"&&this.type!=="document"){i=i.nodes.slice(0);for(var f=D(i),c;!(c=f()).done;){var d=c.value;d.parent&&d.parent.removeChild(d,"ignore")}}else if(i.type)i=[i];else if(i.prop){if(typeof i.value>"u")throw new Error("Value field is missed in node creation");typeof i.value!="string"&&(i.value=String(i.value)),i=[new Hh(i)]}else if(i.selector)i=[new Lu(i)];else if(i.name)i=[new Ru(i)];else if(i.text)i=[new Gh(i)];else throw new Error("Unknown node type in node creation");var p=i.map(function(v){return v[qh]||r.rebuild(v),v=v.proxyOf,v.parent&&v.parent.removeChild(v),v[Vh]&&Qh(v),typeof v.raws.before>"u"&&o&&typeof o.raws.before<"u"&&(v.raws.before=o.raws.before.replace(/\S/g,"")),v.parent=s.proxyOf,v});return p},n.prepend=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];o=o.reverse();for(var a=D(o),l;!(l=a()).done;){for(var u=l.value,f=this.normalize(u,this.first,"prepend").reverse(),c=D(f),d;!(d=c()).done;){var p=d.value;this.proxyOf.nodes.unshift(p)}for(var v in this.indexes)this.indexes[v]=this.indexes[v]+f.length}return this.markDirty(),this},n.push=function(i){return i.parent=this,this.proxyOf.nodes.push(i),this},n.removeAll=function(){for(var i=D(this.proxyOf.nodes),o;!(o=i()).done;){var s=o.value;s.parent=void 0}return this.proxyOf.nodes=[],this.markDirty(),this},n.removeChild=function(i){i=this.index(i),this.proxyOf.nodes[i].parent=void 0,this.proxyOf.nodes.splice(i,1);var o;for(var s in this.indexes)o=this.indexes[s],o>=i&&(this.indexes[s]=o-1);return this.markDirty(),this},n.replaceValues=function(i,o,s){return s||(s=o,o={}),this.walkDecls(function(a){o.props&&!o.props.includes(a.prop)||o.fast&&!a.value.includes(o.fast)||(a.value=a.value.replace(i,s))}),this.markDirty(),this},n.some=function(i){return this.nodes.some(i)},n.walk=function(i){return this.each(function(o,s){var a;try{a=i(o,s)}catch(l){throw o.addToError(l)}return a!==!1&&o.walk&&(a=o.walk(i)),a})},n.walkAtRules=function(i,o){return o?W(i,RegExp)?this.walk(function(s,a){if(s.type==="atrule"&&i.test(s.name))return o(s,a)}):this.walk(function(s,a){if(s.type==="atrule"&&s.name===i)return o(s,a)}):(o=i,this.walk(function(s,a){if(s.type==="atrule")return o(s,a)}))},n.walkComments=function(i){return this.walk(function(o,s){if(o.type==="comment")return i(o,s)})},n.walkDecls=function(i,o){return o?W(i,RegExp)?this.walk(function(s,a){if(s.type==="decl"&&i.test(s.prop))return o(s,a)}):this.walk(function(s,a){if(s.type==="decl"&&s.prop===i)return o(s,a)}):(o=i,this.walk(function(s,a){if(s.type==="decl")return o(s,a)}))},n.walkRules=function(i,o){return o?W(i,RegExp)?this.walk(function(s,a){if(s.type==="rule"&&i.test(s.selector))return o(s,a)}):this.walk(function(s,a){if(s.type==="rule"&&s.selector===i)return o(s,a)}):(o=i,this.walk(function(s,a){if(s.type==="rule")return o(s,a)}))},Ie(r,[{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),r})(v0);Ht.registerParse=function(e){Kh=e};Ht.registerRule=function(e){Lu=e};Ht.registerAtRule=function(e){Ru=e};Ht.registerRoot=function(e){Yh=e};var Nr=Ht;Ht.default=Ht;Ht.rebuild=function(e){e.type==="atrule"?Object.setPrototypeOf(e,Ru.prototype):e.type==="rule"?Object.setPrototypeOf(e,Lu.prototype):e.type==="decl"?Object.setPrototypeOf(e,Hh.prototype):e.type==="comment"?Object.setPrototypeOf(e,Gh.prototype):e.type==="root"&&Object.setPrototypeOf(e,Yh.prototype),e[qh]=!0,e.nodes&&e.nodes.forEach(function(r){Ht.rebuild(r)})};var g0=Nr,Xh,Zh,Si=(function(e){Ne(r,e);function r(t){var i;return i=e.call(this,re({type:"document"},t))||this,i.nodes||(i.nodes=[]),i}var n=r.prototype;return n.toResult=function(i){i===void 0&&(i={});var o=new Xh(new Zh,this,i);return o.stringify()},r})(g0);Si.registerLazyResult=function(e){Xh=e};Si.registerProcessor=function(e){Zh=e};var Fu=Si;Si.default=Si;var Tl=(function(){function e(n,t){if(t===void 0&&(t={}),this.type="warning",this.text=n,t.node&&t.node.source){var i=t.node.rangeBy(t);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(var o in t)this[o]=t[o]}var r=e.prototype;return r.toString=function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e})(),ep=Tl;Tl.default=Tl;var y0=ep,Nl=(function(){function e(n,t,i){this.processor=n,this.messages=[],this.root=t,this.opts=i,this.css=void 0,this.map=void 0}var r=e.prototype;return r.toString=function(){return this.css},r.warn=function(t,i){i===void 0&&(i={}),i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);var o=new y0(t,i);return this.messages.push(o),o},r.warnings=function(){return this.messages.filter(function(t){return t.type==="warning"})},Ie(e,[{key:"content",get:function(){return this.css}}]),e})(),$u=Nl;Nl.default=Nl;var Ya=39,rd=34,uo=92,nd=47,co=10,ii=32,fo=12,ho=9,po=13,_0=91,b0=93,w0=40,S0=41,x0=123,C0=125,k0=59,E0=42,I0=58,A0=64,mo=/[\t\n\f\r "#'()/;[\\\]{}]/g,vo=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,O0=/.[\r\n"'(/\\]/,id=/[\da-f]/i,T0=function(r,n){n===void 0&&(n={});var t=r.css.valueOf(),i=n.ignoreErrors,o,s,a,l,u,f,c,d,p,v,b=t.length,g=0,_=[],w=[];function S(){return g}function x(O){throw r.error("Unclosed "+O,g)}function C(){return w.length===0&&g>=b}function T(O){if(w.length)return w.pop();if(!(g>=b)){var N=O?O.ignoreUnclosed:!1;switch(o=t.charCodeAt(g),o){case co:case ii:case ho:case po:case fo:{s=g;do s+=1,o=t.charCodeAt(s);while(o===ii||o===co||o===ho||o===po||o===fo);v=["space",t.slice(g,s)],g=s-1;break}case _0:case b0:case x0:case C0:case I0:case k0:case S0:{var P=String.fromCharCode(o);v=[P,P,g];break}case w0:{if(d=_.length?_.pop()[1]:"",p=t.charCodeAt(g+1),d==="url"&&p!==Ya&&p!==rd&&p!==ii&&p!==co&&p!==ho&&p!==fo&&p!==po){s=g;do{if(f=!1,s=t.indexOf(")",s+1),s===-1)if(i||N){s=g;break}else x("bracket");for(c=s;t.charCodeAt(c-1)===uo;)c-=1,f=!f}while(f);v=["brackets",t.slice(g,s+1),g,s],g=s}else s=t.indexOf(")",g+1),l=t.slice(g,s+1),s===-1||O0.test(l)?v=["(","(",g]:(v=["brackets",l,g,s],g=s);break}case Ya:case rd:{a=o===Ya?"'":'"',s=g;do{if(f=!1,s=t.indexOf(a,s+1),s===-1)if(i||N){s=g+1;break}else x("string");for(c=s;t.charCodeAt(c-1)===uo;)c-=1,f=!f}while(f);v=["string",t.slice(g,s+1),g,s],g=s;break}case A0:{mo.lastIndex=g+1,mo.test(t),mo.lastIndex===0?s=t.length-1:s=mo.lastIndex-2,v=["at-word",t.slice(g,s+1),g,s],g=s;break}case uo:{for(s=g,u=!0;t.charCodeAt(s+1)===uo;)s+=1,u=!u;if(o=t.charCodeAt(s+1),u&&o!==nd&&o!==ii&&o!==co&&o!==ho&&o!==po&&o!==fo&&(s+=1,id.test(t.charAt(s)))){for(;id.test(t.charAt(s+1));)s+=1;t.charCodeAt(s+1)===ii&&(s+=1)}v=["word",t.slice(g,s+1),g,s],g=s;break}default:{o===nd&&t.charCodeAt(g+1)===E0?(s=t.indexOf("*/",g+2)+1,s===0&&(i||N?s=t.length:x("comment")),v=["comment",t.slice(g,s+1),g,s],g=s):(vo.lastIndex=g+1,vo.test(t),vo.lastIndex===0?s=t.length-1:s=vo.lastIndex-2,v=["word",t.slice(g,s+1),g,s],_.push(v),g=s);break}}return g++,v}}function I(O){w.push(O)}return{back:I,endOfFile:C,nextToken:T,position:S}},tp=Nr,rs=(function(e){Ne(r,e);function r(t){var i;return i=e.call(this,t)||this,i.type="atrule",i}var n=r.prototype;return n.append=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.append).call.apply(a,[].concat([this],o))},n.prepend=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.prepend).call.apply(a,[].concat([this],o))},r})(tp),Bu=rs;rs.default=rs;tp.registerAtRule(rs);var rp=Nr,np,ip,nn=(function(e){Ne(r,e);function r(t){var i;return i=e.call(this,t)||this,i.type="root",i.nodes||(i.nodes=[]),i}var n=r.prototype;return n.normalize=function(i,o,s){var a=e.prototype.normalize.call(this,i);if(o){if(s==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(var l=D(a),u;!(u=l()).done;){var f=u.value;f.raws.before=o.raws.before}}return a},n.removeChild=function(i,o){var s=this.index(i);return!o&&s===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[s].raws.before),e.prototype.removeChild.call(this,i)},n.toResult=function(i){i===void 0&&(i={});var o=new np(new ip,this,i);return o.stringify()},r})(rp);nn.registerLazyResult=function(e){np=e};nn.registerProcessor=function(e){ip=e};var Ui=nn;nn.default=nn;rp.registerRoot(nn);var xi={comma:function(r){return xi.split(r,[","],!0)},space:function(r){var n=[" ",`
`,"	"];return xi.split(r,n)},split:function(r,n,t){for(var i=[],o="",s=!1,a=0,l=!1,u="",f=!1,c=D(r),d;!(d=c()).done;){var p=d.value;f?f=!1:p==="\\"?f=!0:l?p===u&&(l=!1):p==='"'||p==="'"?(l=!0,u=p):p==="("?a+=1:p===")"?a>0&&(a-=1):a===0&&n.includes(p)&&(s=!0),s?(o!==""&&i.push(o.trim()),o="",s=!1):o+=p}return(t||o!=="")&&i.push(o.trim()),i}},op=xi;xi.default=xi;var sp=Nr,N0=op,ns=(function(e){Ne(r,e);function r(n){var t;return t=e.call(this,n)||this,t.type="rule",t.nodes||(t.nodes=[]),t}return Ie(r,[{key:"selectors",get:function(){return N0.comma(this.selector)},set:function(t){var i=this.selector?this.selector.match(/,\s*/):null,o=i?i[0]:","+this.raw("between","beforeOpen");this.selector=t.join(o)}}]),r})(sp),Uu=ns;ns.default=ns;sp.registerRule(ns);var P0=Ns,M0=T0,D0=Ms,L0=Bu,R0=Ui,od=Uu,sd={empty:!0,space:!0};function F0(e){for(var r=e.length-1;r>=0;r--){var n=e[r],t=n[3]||n[2];if(t)return t}}var $0=(function(){function e(n){this.input=n,this.root=new R0,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:n,start:{column:1,line:1,offset:0}}}var r=e.prototype;return r.atrule=function(t){var i=new L0;i.name=t[1].slice(1),i.name===""&&this.unnamedAtrule(i,t),this.init(i,t[2]);for(var o,s,a,l=!1,u=!1,f=[],c=[];!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),o=t[0],o==="("||o==="["?c.push(o==="("?")":"]"):o==="{"&&c.length>0?c.push("}"):o===c[c.length-1]&&c.pop(),c.length===0)if(o===";"){i.source.end=this.getPosition(t[2]),i.source.end.offset++,this.semicolon=!0;break}else if(o==="{"){u=!0;break}else if(o==="}"){if(f.length>0){for(a=f.length-1,s=f[a];s&&s[0]==="space";)s=f[--a];s&&(i.source.end=this.getPosition(s[3]||s[2]),i.source.end.offset++)}this.end(t);break}else f.push(t);else f.push(t);if(this.tokenizer.endOfFile()){l=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(f),f.length?(i.raws.afterName=this.spacesAndCommentsFromStart(f),this.raw(i,"params",f),l&&(t=f[f.length-1],i.source.end=this.getPosition(t[3]||t[2]),i.source.end.offset++,this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),u&&(i.nodes=[],this.current=i)},r.checkMissedSemicolon=function(t){var i=this.colon(t);if(i!==!1){for(var o=0,s,a=i-1;a>=0&&(s=t[a],!(s[0]!=="space"&&(o+=1,o===2)));a--);throw this.input.error("Missed semicolon",s[0]==="word"?s[3]+1:s[2])}},r.colon=function(t){for(var i=0,o,s,a,l=D(t.entries()),u;!(u=l()).done;){var f=u.value,c=f[0],d=f[1];if(o=d,s=o[0],s==="("&&(i+=1),s===")"&&(i-=1),i===0&&s===":")if(!a)this.doubleColon(o);else{if(a[0]==="word"&&a[1]==="progid")continue;return c}a=o}return!1},r.comment=function(t){var i=new D0;this.init(i,t[2]),i.source.end=this.getPosition(t[3]||t[2]),i.source.end.offset++;var o=t[1].slice(2,-2);if(/^\s*$/.test(o))i.text="",i.raws.left=o,i.raws.right="";else{var s=o.match(/^(\s*)([^]*\S)(\s*)$/);i.text=s[2],i.raws.left=s[1],i.raws.right=s[3]}},r.createTokenizer=function(){this.tokenizer=M0(this.input)},r.decl=function(t,i){var o=new P0;this.init(o,t[0][2]);var s=t[t.length-1];for(s[0]===";"&&(this.semicolon=!0,t.pop()),o.source.end=this.getPosition(s[3]||s[2]||F0(t)),o.source.end.offset++;t[0][0]!=="word";)t.length===1&&this.unknownWord(t),o.raws.before+=t.shift()[1];for(o.source.start=this.getPosition(t[0][2]),o.prop="";t.length;){var a=t[0][0];if(a===":"||a==="space"||a==="comment")break;o.prop+=t.shift()[1]}o.raws.between="";for(var l;t.length;)if(l=t.shift(),l[0]===":"){o.raws.between+=l[1];break}else l[0]==="word"&&/\w/.test(l[1])&&this.unknownWord([l]),o.raws.between+=l[1];(o.prop[0]==="_"||o.prop[0]==="*")&&(o.raws.before+=o.prop[0],o.prop=o.prop.slice(1));for(var u=[],f;t.length&&(f=t[0][0],!(f!=="space"&&f!=="comment"));)u.push(t.shift());this.precheckMissedSemicolon(t);for(var c=t.length-1;c>=0;c--){if(l=t[c],l[1].toLowerCase()==="!important"){o.important=!0;var d=this.stringFrom(t,c);d=this.spacesFromEnd(t)+d,d!==" !important"&&(o.raws.important=d);break}else if(l[1].toLowerCase()==="important"){for(var p=t.slice(0),v="",b=c;b>0;b--){var g=p[b][0];if(v.trim().indexOf("!")===0&&g!=="space")break;v=p.pop()[1]+v}v.trim().indexOf("!")===0&&(o.important=!0,o.raws.important=v,t=p)}if(l[0]!=="space"&&l[0]!=="comment")break}var _=t.some(function(w){return w[0]!=="space"&&w[0]!=="comment"});_&&(o.raws.between+=u.map(function(w){return w[1]}).join(""),u=[]),this.raw(o,"value",u.concat(t),i),o.value.includes(":")&&!i&&this.checkMissedSemicolon(t)},r.doubleColon=function(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})},r.emptyRule=function(t){var i=new od;this.init(i,t[2]),i.selector="",i.raws.between="",this.current=i},r.end=function(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)},r.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())},r.freeSemicolon=function(t){if(this.spaces+=t[1],this.current.nodes){var i=this.current.nodes[this.current.nodes.length-1];i&&i.type==="rule"&&!i.raws.ownSemicolon&&(i.raws.ownSemicolon=this.spaces,this.spaces="")}},r.getPosition=function(t){var i=this.input.fromOffset(t);return{column:i.col,line:i.line,offset:t}},r.init=function(t,i){this.current.push(t),t.source={input:this.input,start:this.getPosition(i)},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)},r.other=function(t){for(var i=!1,o=null,s=!1,a=null,l=[],u=t[1].startsWith("--"),f=[],c=t;c;){if(o=c[0],f.push(c),o==="("||o==="[")a||(a=c),l.push(o==="("?")":"]");else if(u&&s&&o==="{")a||(a=c),l.push("}");else if(l.length===0)if(o===";")if(s){this.decl(f,u);return}else break;else if(o==="{"){this.rule(f);return}else if(o==="}"){this.tokenizer.back(f.pop()),i=!0;break}else o===":"&&(s=!0);else o===l[l.length-1]&&(l.pop(),l.length===0&&(a=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(i=!0),l.length>0&&this.unclosedBracket(a),i&&s){if(!u)for(;f.length&&(c=f[f.length-1][0],!(c!=="space"&&c!=="comment"));)this.tokenizer.back(f.pop());this.decl(f,u)}else this.unknownWord(f)},r.parse=function(){for(var t;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()},r.precheckMissedSemicolon=function(){},r.raw=function(t,i,o,s){for(var a,l,u=o.length,f="",c=!0,d,p,v=0;v<u;v+=1)a=o[v],l=a[0],l==="space"&&v===u-1&&!s?c=!1:l==="comment"?(p=o[v-1]?o[v-1][0]:"empty",d=o[v+1]?o[v+1][0]:"empty",!sd[p]&&!sd[d]?f.slice(-1)===","?c=!1:f+=a[1]:c=!1):f+=a[1];if(!c){var b=o.reduce(function(g,_){return g+_[1]},"");t.raws[i]={raw:b,value:f}}t[i]=f},r.rule=function(t){t.pop();var i=new od;this.init(i,t[0][2]),i.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(i,"selector",t),this.current=i},r.spacesAndCommentsFromEnd=function(t){for(var i,o="";t.length&&(i=t[t.length-1][0],!(i!=="space"&&i!=="comment"));)o=t.pop()[1]+o;return o},r.spacesAndCommentsFromStart=function(t){for(var i,o="";t.length&&(i=t[0][0],!(i!=="space"&&i!=="comment"));)o+=t.shift()[1];return o},r.spacesFromEnd=function(t){for(var i,o="";t.length&&(i=t[t.length-1][0],i==="space");)o=t.pop()[1]+o;return o},r.stringFrom=function(t,i){for(var o="",s=i;s<t.length;s++)o+=t[s][1];return t.splice(i,t.length-i),o},r.unclosedBlock=function(){var t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)},r.unclosedBracket=function(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})},r.unexpectedClose=function(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})},r.unknownWord=function(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})},r.unnamedAtrule=function(t,i){throw this.input.error("At-rule without name",{offset:i[2]},{offset:i[2]+i[1].length})},e})(),B0=$0,U0=Nr,j0=B0,W0=Ps;function is(e,r){var n=new W0(e,r),t=new j0(n);try{t.parse()}catch(i){throw i}return t.root}var ju=is;is.default=is;U0.registerParse(is);var Ct=ur.isClean,z0=ur.my,V0=zh,q0=Os,H0=Nr,G0=Fu;var ad=$u,K0=ju,Y0=Ui,J0={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Q0={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},X0={Once:!0,postcssPlugin:!0,prepare:!0},on=0;function oi(e){return(typeof e>"u"?"undefined":z(e))==="object"&&typeof e.then=="function"}function ap(e){var r=!1,n=J0[e.type];return e.type==="decl"?r=e.prop.toLowerCase():e.type==="atrule"&&(r=e.name.toLowerCase()),r&&e.append?[n,n+"-"+r,on,n+"Exit",n+"Exit-"+r]:r?[n,n+"-"+r,n+"Exit",n+"Exit-"+r]:e.append?[n,on,n+"Exit"]:[n,n+"Exit"]}function ld(e){var r;return e.type==="document"?r=["Document",on,"DocumentExit"]:e.type==="root"?r=["Root",on,"RootExit"]:r=ap(e),{eventIndex:0,events:r,iterator:0,node:e,visitorIndex:0,visitors:[]}}function Pl(e){return e[Ct]=!1,e.nodes&&e.nodes.forEach(function(r){return Pl(r)}),e}var Ml={},sn=(function(){function e(n,t,i){var o=this;this.stringified=!1,this.processed=!1;var s;if((typeof t>"u"?"undefined":z(t))==="object"&&t!==null&&(t.type==="root"||t.type==="document"))s=Pl(t);else if(W(t,e)||W(t,ad))s=Pl(t.root),t.map&&(typeof i.map>"u"&&(i.map={}),i.map.inline||(i.map.inline=!1),i.map.prev=t.map);else{var a=K0;i.syntax&&(a=i.syntax.parse),i.parser&&(a=i.parser),a.parse&&(a=a.parse);try{s=a(t,i)}catch(l){this.processed=!0,this.error=l}s&&!s[z0]&&H0.rebuild(s)}this.result=new ad(n,s,i),this.helpers=re({},Ml,{postcss:Ml,result:this.result}),this.plugins=this.processor.plugins.map(function(l){return(typeof l>"u"?"undefined":z(l))==="object"&&l.prepare?re({},l,l.prepare(o.result)):l})}var r=e.prototype;return r.async=function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)},r.catch=function(t){return this.async().catch(t)},r.finally=function(t){return this.async().then(t,t)},r.getAsyncError=function(){throw new Error("Use process(css).then(cb) to work with async plugins")},r.handleError=function(t,i){var o=this.result.lastPlugin;try{if(i&&i.addToError(t),this.error=t,t.name==="CssSyntaxError"&&!t.plugin)t.plugin=o.postcssPlugin,t.setMessage();else if(o.postcssVersion&&0)var s,a,l,u,f}catch(c){console&&console.error&&console.error(c)}return t},r.prepareVisitors=function(){var t=this;this.listeners={};for(var i=function(f,c,d){t.listeners[c]||(t.listeners[c]=[]),t.listeners[c].push([f,d])},o=D(this.plugins),s;!(s=o()).done;){var a=s.value;if((typeof a>"u"?"undefined":z(a))==="object")for(var l in a){if(!Q0[l]&&/^[A-Z]/.test(l))throw new Error("Unknown event "+l+" in "+a.postcssPlugin+". Try to update PostCSS ("+this.processor.version+" now).");if(!X0[l])if(z(a[l])==="object")for(var u in a[l])u==="*"?i(a,l,a[l][u]):i(a,l+"-"+u.toLowerCase(),a[l][u]);else typeof a[l]=="function"&&i(a,l,a[l])}}this.hasListener=Object.keys(this.listeners).length>0},r.runAsync=function(){var t=this;return As(function(){var i,o,s,a,l,u,f,c,d,p,v,b;return Ir(this,function(g){switch(g.label){case 0:t.plugin=0,i=0,g.label=1;case 1:if(!(i<t.plugins.length))return[3,6];if(o=t.plugins[i],s=t.runOnRoot(o),!oi(s))return[3,5];g.label=2;case 2:return g.trys.push([2,4,,5]),[4,s];case 3:return g.sent(),[3,5];case 4:throw a=g.sent(),t.handleError(a);case 5:return i++,[3,1];case 6:if(t.prepareVisitors(),!t.hasListener)return[3,18];l=t.result.root,g.label=7;case 7:if(l[Ct])return[3,14];l[Ct]=!0,u=[ld(l)],g.label=8;case 8:if(!(u.length>0))return[3,13];if(f=t.visitTick(u),!oi(f))return[3,12];g.label=9;case 9:return g.trys.push([9,11,,12]),[4,f];case 10:return g.sent(),[3,12];case 11:throw c=g.sent(),d=u[u.length-1].node,t.handleError(c,d);case 12:return[3,8];case 13:return[3,7];case 14:if(!t.listeners.OnceExit)return[3,18];p=function(){var _,w,S,x,C;return Ir(this,function(T){switch(T.label){case 0:_=b.value,w=_[0],S=_[1],t.result.lastPlugin=w,T.label=1;case 1:return T.trys.push([1,6,,7]),l.type!=="document"?[3,3]:(x=l.nodes.map(function(I){return S(I,t.helpers)}),[4,Promise.all(x)]);case 2:return T.sent(),[3,5];case 3:return[4,S(l,t.helpers)];case 4:T.sent(),T.label=5;case 5:return[3,7];case 6:throw C=T.sent(),t.handleError(C);case 7:return[2]}})},v=D(t.listeners.OnceExit),g.label=15;case 15:return(b=v()).done?[3,18]:[5,Tu(p())];case 16:g.sent(),g.label=17;case 17:return[3,15];case 18:return t.processed=!0,[2,t.stringify()]}})})()},r.runOnRoot=function(t){var i=this;this.result.lastPlugin=t;try{if((typeof t>"u"?"undefined":z(t))==="object"&&t.Once){if(this.result.root.type==="document"){var o=this.result.root.nodes.map(function(s){return t.Once(s,i.helpers)});return oi(o[0])?Promise.all(o):o}return t.Once(this.result.root,this.helpers)}else if(typeof t=="function")return t(this.result.root,this.result)}catch(s){throw this.handleError(s)}},r.stringify=function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var t=this.result.opts,i=q0;t.syntax&&(i=t.syntax.stringify),t.stringifier&&(i=t.stringifier),i.stringify&&(i=i.stringify);var o=new V0(i,this.result.root,this.result.opts),s=o.generate();return this.result.css=s[0],this.result.map=s[1],this.result},r.sync=function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var t=D(this.plugins),i;!(i=t()).done;){var o=i.value,s=this.runOnRoot(o);if(oi(s))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var a=this.result.root;!a[Ct];)a[Ct]=!0,this.walkSync(a);if(this.listeners.OnceExit)if(a.type==="document")for(var l=D(a.nodes),u;!(u=l()).done;){var f=u.value;this.visitSync(this.listeners.OnceExit,f)}else this.visitSync(this.listeners.OnceExit,a)}return this.result},r.then=function(t,i){return this.async().then(t,i)},r.toString=function(){return this.css},r.visitSync=function(t,i){for(var o=D(t),s;!(s=o()).done;){var a=s.value,l=a[0],u=a[1];this.result.lastPlugin=l;var f=void 0;try{f=u(i,this.helpers)}catch(c){throw this.handleError(c,i.proxyOf)}if(i.type!=="root"&&i.type!=="document"&&!i.parent)return!0;if(oi(f))throw this.getAsyncError()}},r.visitTick=function(t){var i=t[t.length-1],o=i.node,s=i.visitors;if(o.type!=="root"&&o.type!=="document"&&!o.parent){t.pop();return}if(s.length>0&&i.visitorIndex<s.length){var a=s[i.visitorIndex],l=a[0],u=a[1];i.visitorIndex+=1,i.visitorIndex===s.length&&(i.visitors=[],i.visitorIndex=0),this.result.lastPlugin=l;try{return u(o.toProxy(),this.helpers)}catch(v){throw this.handleError(v,o)}}if(i.iterator!==0){for(var f=i.iterator,c;c=o.nodes[o.indexes[f]];)if(o.indexes[f]+=1,!c[Ct]){c[Ct]=!0,t.push(ld(c));return}i.iterator=0,delete o.indexes[f]}for(var d=i.events;i.eventIndex<d.length;){var p=d[i.eventIndex];if(i.eventIndex+=1,p===on){o.nodes&&o.nodes.length&&(o[Ct]=!0,i.iterator=o.getIterator());return}else if(this.listeners[p]){i.visitors=this.listeners[p];return}}t.pop()},r.walkSync=function(t){var i=this;t[Ct]=!0;for(var o=ap(t),s=D(o),a;!(a=s()).done;){var l=a.value;if(l===on)t.nodes&&t.each(function(f){f[Ct]||i.walkSync(f)});else{var u=this.listeners[l];if(u&&this.visitSync(u,t.toProxy()))return}}},r.warnings=function(){return this.sync().warnings()},Ie(e,[{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),e})();sn.registerPostcss=function(e){Ml=e};var lp=sn;sn.default=sn;Y0.registerLazyResult(sn);G0.registerLazyResult(sn);var Z0=zh,ew=Os;var tw=ju,rw=$u,Dl=(function(){function e(n,t,i){t=t.toString(),this.stringified=!1,this._processor=n,this._css=t,this._opts=i,this._map=void 0;var o,s=ew;this.result=new rw(this._processor,o,this._opts),this.result.css=t;var a=this;Object.defineProperty(this.result,"root",{get:function(){return a.root}});var l=new Z0(s,o,this._opts,t);if(l.isMap()){var u=l.generate(),f=u[0],c=u[1];f&&(this.result.css=f),c&&(this.result.map=c)}else l.clearAnnotation(),this.result.css=l.css}var r=e.prototype;return r.async=function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)},r.catch=function(t){return this.async().catch(t)},r.finally=function(t){return this.async().then(t,t)},r.sync=function(){if(this.error)throw this.error;return this.result},r.then=function(t,i){return this.async().then(t,i)},r.toString=function(){return this._css},r.warnings=function(){return[]},Ie(e,[{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var t,i=tw;try{t=i(this._css,this._opts)}catch(o){this.error=o}if(this.error)throw this.error;return this._root=t,t}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),e})(),nw=Dl;Dl.default=Dl;var iw=nw,ow=lp,sw=Fu,aw=Ui,Ci=(function(){function e(n){n===void 0&&(n=[]),this.version="8.4.38",this.plugins=this.normalize(n)}var r=e.prototype;return r.normalize=function(t){for(var i=[],o=D(t),s;!(s=o()).done;){var a=s.value;if(a.postcss===!0?a=a():a.postcss&&(a=a.postcss),(typeof a>"u"?"undefined":z(a))==="object"&&Array.isArray(a.plugins))i=i.concat(a.plugins);else if((typeof a>"u"?"undefined":z(a))==="object"&&a.postcssPlugin)i.push(a);else if(typeof a=="function")i.push(a);else if(!((typeof a>"u"?"undefined":z(a))==="object"&&(a.parse||a.stringify)))throw new Error(a+" is not a PostCSS plugin")}return i},r.process=function(t,i){return i===void 0&&(i={}),!this.plugins.length&&!i.parser&&!i.stringifier&&!i.syntax?new iw(this,t,i):new ow(this,t,i)},r.use=function(t){return this.plugins=this.plugins.concat(this.normalize([t])),this},e})(),lw=Ci;Ci.default=Ci;aw.registerProcessor(Ci);sw.registerProcessor(Ci);var uw=Ns,cw=$h,fw=Ms,dw=Bu,hw=Ps,pw=Ui,mw=Uu;function ki(e,r){if(Array.isArray(e))return e.map(function(c){return ki(c)});var n=e.inputs,t=Er(e,["inputs"]);if(n){r=[];for(var i=D(n),o;!(o=i()).done;){var s=o.value,a=re({},s,{__proto__:hw.prototype});a.map&&(a.map=re({},a.map,{__proto__:cw.prototype})),r.push(a)}}if(t.nodes&&(t.nodes=e.nodes.map(function(c){return ki(c,r)})),t.source){var l=t.source,u=l.inputId,f=Er(l,["inputId"]);t.source=f,u!=null&&(t.source.input=r[u])}if(t.type==="root")return new pw(t);if(t.type==="decl")return new uw(t);if(t.type==="rule")return new mw(t);if(t.type==="comment")return new fw(t);if(t.type==="atrule")return new dw(t);throw new Error("Unknown node type: "+e.type)}var vw=ki;ki.default=ki;var gw=Du,up=Ns,yw=lp,_w=Nr,Wu=lw,bw=Os,ww=vw,cp=Fu,Sw=ep,fp=Ms,dp=Bu,xw=$u,Cw=Ps,kw=ju,Ew=op,hp=Uu,pp=Ui,Iw=Ts;function ge(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])&&(r=r[0]),new Wu(r)}ge.plugin=function(r,n){var t=!1;function i(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];console&&console.warn&&!t&&(t=!0,console.warn(r+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(r+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));var u=n.apply(void 0,[].concat(a));return u.postcssPlugin=r,u.postcssVersion=new Wu().version,u}var o;return Object.defineProperty(i,"postcss",{get:function(){return o||(o=i()),o}}),i.process=function(s,a,l){return ge([i(l)]).process(s,a)},i};ge.stringify=bw;ge.parse=kw;ge.fromJSON=ww;ge.list=Ew;ge.comment=function(e){return new fp(e)};ge.atRule=function(e){return new dp(e)};ge.decl=function(e){return new up(e)};ge.rule=function(e){return new hp(e)};ge.root=function(e){return new pp(e)};ge.document=function(e){return new cp(e)};ge.CssSyntaxError=gw;ge.Declaration=up;ge.Container=_w;ge.Processor=Wu;ge.Document=cp;ge.Comment=fp;ge.Warning=Sw;ge.AtRule=dp;ge.Result=xw;ge.Input=Cw;ge.Rule=hp;ge.Root=pp;ge.Node=Iw;yw.registerPostcss(ge);var Aw=ge;ge.default=ge;var Pe=jb(Aw);Pe.stringify;Pe.fromJSON;Pe.plugin;Pe.parse;Pe.list;Pe.document;Pe.comment;Pe.atRule;Pe.rule;Pe.decl;Pe.root;Pe.CssSyntaxError;Pe.Declaration;Pe.Container;Pe.Processor;Pe.Document;Pe.Comment;Pe.Warning;Pe.AtRule;Pe.Result;Pe.Input;Pe.Rule;Pe.Root;Pe.Node;var Ow=Object.defineProperty,Tw=function(e,r,n){return r in e?Ow(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n},ft=function(e,r,n){return Tw(e,(typeof r>"u"?"undefined":z(r))!=="symbol"?r+"":r,n)};function Nw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pw(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var n=function t(){return W(this,t)?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),n}var zu={exports:{}},Ce=String,mp=function(){return{isColorSupported:!1,reset:Ce,bold:Ce,dim:Ce,italic:Ce,underline:Ce,inverse:Ce,hidden:Ce,strikethrough:Ce,black:Ce,red:Ce,green:Ce,yellow:Ce,blue:Ce,magenta:Ce,cyan:Ce,white:Ce,gray:Ce,bgBlack:Ce,bgRed:Ce,bgGreen:Ce,bgYellow:Ce,bgBlue:Ce,bgMagenta:Ce,bgCyan:Ce,bgWhite:Ce}};zu.exports=mp();zu.exports.createColors=mp;var Mw=zu.exports,Dw={},Lw=Object.freeze(Object.defineProperty({__proto__:null,default:Dw},Symbol.toStringTag,{value:"Module"})),Ue=Pw(Lw),ud=Mw,cd=Ue,Ll=(function(e){Ne(r,e);function r(t,i,o,s,a,l){var u;return u=e.call(this,t)||this,u.name="CssSyntaxError",u.reason=t,a&&(u.file=a),s&&(u.source=s),l&&(u.plugin=l),typeof i<"u"&&typeof o<"u"&&(typeof i=="number"?(u.line=i,u.column=o):(u.line=i.line,u.column=i.column,u.endLine=o.line,u.endColumn=o.column)),u.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(u,r),u}var n=r.prototype;return n.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},n.showSourceCode=function(i){var o=this;if(!this.source)return"";var s=this.source;i==null&&(i=ud.isColorSupported),cd&&i&&(s=cd(s));var a=s.split(/\r?\n/),l=Math.max(this.line-3,0),u=Math.min(this.line+2,a.length),f=String(u).length,c,d;if(i){var p=ud.createColors(!0),v=p.bold,b=p.gray,g=p.red;c=function(_){return v(g(_))},d=function(_){return b(_)}}else c=d=function(_){return _};return a.slice(l,u).map(function(_,w){var S=l+1+w,x=" "+(" "+S).slice(-f)+" | ";if(S===o.line){var C=d(x.replace(/\d/g," "))+_.slice(0,o.column-1).replace(/[^\t]/g," ");return c(">")+d(x)+_+`
 `+C+c("^")}return" "+d(x)+_}).join(`
`)},n.toString=function(){var i=this.showSourceCode();return i&&(i=`

`+i+`
`),this.name+": "+this.message+i},r})(bi(Error)),Vu=Ll;Ll.default=Ll;var cr={};cr.isClean=Symbol("isClean");cr.my=Symbol("my");var fd={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function Rw(e){return e[0].toUpperCase()+e.slice(1)}var Rl=(function(){function e(n){this.builder=n}var r=e.prototype;return r.atrule=function(t,i){var o="@"+t.name,s=t.params?this.rawValue(t,"params"):"";if(typeof t.raws.afterName<"u"?o+=t.raws.afterName:s&&(o+=" "),t.nodes)this.block(t,o+s);else{var a=(t.raws.between||"")+(i?";":"");this.builder(o+s+a,t)}},r.beforeAfter=function(t,i){var o;t.type==="decl"?o=this.raw(t,null,"beforeDecl"):t.type==="comment"?o=this.raw(t,null,"beforeComment"):i==="before"?o=this.raw(t,null,"beforeRule"):o=this.raw(t,null,"beforeClose");for(var s=t.parent,a=0;s&&s.type!=="root";)a+=1,s=s.parent;if(o.includes(`
`)){var l=this.raw(t,null,"indent");if(l.length)for(var u=0;u<a;u++)o+=l}return o},r.block=function(t,i){var o=this.raw(t,"between","beforeOpen");this.builder(i+o+"{",t,"start");var s;t.nodes&&t.nodes.length?(this.body(t),s=this.raw(t,"after")):s=this.raw(t,"after","emptyBody"),s&&this.builder(s),this.builder("}",t,"end")},r.body=function(t){for(var i=t.nodes.length-1;i>0&&t.nodes[i].type==="comment";)i-=1;for(var o=this.raw(t,"semicolon"),s=0;s<t.nodes.length;s++){var a=t.nodes[s],l=this.raw(a,"before");l&&this.builder(l),this.stringify(a,i!==s||o)}},r.comment=function(t){var i=this.raw(t,"left","commentLeft"),o=this.raw(t,"right","commentRight");this.builder("/*"+i+t.text+o+"*/",t)},r.decl=function(t,i){var o=this.raw(t,"between","colon"),s=t.prop+o+this.rawValue(t,"value");t.important&&(s+=t.raws.important||" !important"),i&&(s+=";"),this.builder(s,t)},r.document=function(t){this.body(t)},r.raw=function(t,i,o){var s;if(o||(o=i),i&&(s=t.raws[i],typeof s<"u"))return s;var a=t.parent;if(o==="before"&&(!a||a.type==="root"&&a.first===t||a&&a.type==="document"))return"";if(!a)return fd[o];var l=t.root();if(l.rawCache||(l.rawCache={}),typeof l.rawCache[o]<"u")return l.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(t,o);var u="raw"+Rw(o);return this[u]?s=this[u](l,t):l.walk(function(f){if(s=f.raws[i],typeof s<"u")return!1}),typeof s>"u"&&(s=fd[o]),l.rawCache[o]=s,s},r.rawBeforeClose=function(t){var i;return t.walk(function(o){if(o.nodes&&o.nodes.length>0&&typeof o.raws.after<"u")return i=o.raws.after,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),i&&(i=i.replace(/\S/g,"")),i},r.rawBeforeComment=function(t,i){var o;return t.walkComments(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(i,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o},r.rawBeforeDecl=function(t,i){var o;return t.walkDecls(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(i,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o},r.rawBeforeOpen=function(t){var i;return t.walk(function(o){if(o.type!=="decl"&&(i=o.raws.between,typeof i<"u"))return!1}),i},r.rawBeforeRule=function(t){var i;return t.walk(function(o){if(o.nodes&&(o.parent!==t||t.first!==o)&&typeof o.raws.before<"u")return i=o.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),i&&(i=i.replace(/\S/g,"")),i},r.rawColon=function(t){var i;return t.walkDecls(function(o){if(typeof o.raws.between<"u")return i=o.raws.between.replace(/[^\s:]/g,""),!1}),i},r.rawEmptyBody=function(t){var i;return t.walk(function(o){if(o.nodes&&o.nodes.length===0&&(i=o.raws.after,typeof i<"u"))return!1}),i},r.rawIndent=function(t){if(t.raws.indent)return t.raws.indent;var i;return t.walk(function(o){var s=o.parent;if(s&&s!==t&&s.parent&&s.parent===t&&typeof o.raws.before<"u"){var a=o.raws.before.split(`
`);return i=a[a.length-1],i=i.replace(/\S/g,""),!1}}),i},r.rawSemicolon=function(t){var i;return t.walk(function(o){if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(i=o.raws.semicolon,typeof i<"u"))return!1}),i},r.rawValue=function(t,i){var o=t[i],s=t.raws[i];return s&&s.value===o?s.raw:o},r.root=function(t){this.body(t),t.raws.after&&this.builder(t.raws.after)},r.rule=function(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")},r.stringify=function(t,i){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,i)},e})(),vp=Rl;Rl.default=Rl;var Fw=vp;function Fl(e,r){var n=new Fw(r);n.stringify(e)}var Ds=Fl;Fl.default=Fl;var go=cr.isClean,$w=cr.my,Bw=Vu,Uw=vp,jw=Ds;function $l(e,r){var n=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&t!=="proxyCache"){var i=e[t],o=typeof i>"u"?"undefined":z(i);t==="parent"&&o==="object"?r&&(n[t]=r):t==="source"?n[t]=i:Array.isArray(i)?n[t]=i.map(function(s){return $l(s,n)}):(o==="object"&&i!==null&&(i=$l(i)),n[t]=i)}return n}var Bl=(function(){function e(n){n===void 0&&(n={}),this.raws={},this[go]=!1,this[$w]=!0;for(var t in n)if(t==="nodes"){this.nodes=[];for(var i=D(n[t]),o;!(o=i()).done;){var s=o.value;typeof s.clone=="function"?this.append(s.clone()):this.append(s)}}else this[t]=n[t]}var r=e.prototype;return r.addToError=function(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){var i=this.source;t.stack=t.stack.replace(/\n\s{4}at /,"$&"+i.input.from+":"+i.start.line+":"+i.start.column+"$&")}return t},r.after=function(t){return this.parent.insertAfter(this,t),this},r.assign=function(t){t===void 0&&(t={});for(var i in t)this[i]=t[i];return this},r.before=function(t){return this.parent.insertBefore(this,t),this},r.cleanRaws=function(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between},r.clone=function(t){t===void 0&&(t={});var i=$l(this);for(var o in t)i[o]=t[o];return i},r.cloneAfter=function(t){t===void 0&&(t={});var i=this.clone(t);return this.parent.insertAfter(this,i),i},r.cloneBefore=function(t){t===void 0&&(t={});var i=this.clone(t);return this.parent.insertBefore(this,i),i},r.error=function(t,i){if(i===void 0&&(i={}),this.source){var o=this.rangeBy(i),s=o.end,a=o.start;return this.source.input.error(t,{column:a.column,line:a.line},{column:s.column,line:s.line},i)}return new Bw(t)},r.getProxyProcessor=function(){return{get:function(i,o){return o==="proxyOf"?i:o==="root"?function(){return i.root().toProxy()}:i[o]},set:function(i,o,s){return i[o]===s||(i[o]=s,(o==="prop"||o==="value"||o==="name"||o==="params"||o==="important"||o==="text")&&i.markDirty()),!0}}},r.markDirty=function(){if(this[go]){this[go]=!1;for(var t=this;t=t.parent;)t[go]=!1}},r.next=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t+1]}},r.positionBy=function(t,i){var o=this.source.start;if(t.index)o=this.positionInside(t.index,i);else if(t.word){i=this.toString();var s=i.indexOf(t.word);s!==-1&&(o=this.positionInside(s,i))}return o},r.positionInside=function(t,i){for(var o=i||this.toString(),s=this.source.start.column,a=this.source.start.line,l=0;l<t;l++)o[l]===`
`?(s=1,a+=1):s+=1;return{column:s,line:a}},r.prev=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t-1]}},r.rangeBy=function(t){var i={column:this.source.start.column,line:this.source.start.line},o=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:i.column+1,line:i.line};if(t.word){var s=this.toString(),a=s.indexOf(t.word);a!==-1&&(i=this.positionInside(a,s),o=this.positionInside(a+t.word.length,s))}else t.start?i={column:t.start.column,line:t.start.line}:t.index&&(i=this.positionInside(t.index)),t.end?o={column:t.end.column,line:t.end.line}:typeof t.endIndex=="number"?o=this.positionInside(t.endIndex):t.index&&(o=this.positionInside(t.index+1));return(o.line<i.line||o.line===i.line&&o.column<=i.column)&&(o={column:i.column+1,line:i.line}),{end:o,start:i}},r.raw=function(t,i){var o=new Uw;return o.raw(this,t,i)},r.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},r.replaceWith=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];if(this.parent){for(var s=this,a=!1,l=D(i),u;!(u=l()).done;){var f=u.value;f===this?a=!0:a?(this.parent.insertAfter(s,f),s=f):this.parent.insertBefore(s,f)}a||this.remove()}return this},r.root=function(){for(var t=this;t.parent&&t.parent.type!=="document";)t=t.parent;return t},r.toJSON=function(t,i){var o={},s=i==null;i=i||new Map;var a=0;for(var l in this)if(Object.prototype.hasOwnProperty.call(this,l)&&!(l==="parent"||l==="proxyCache")){var u=this[l];if(Array.isArray(u))o[l]=u.map(function(c){return(typeof c>"u"?"undefined":z(c))==="object"&&c.toJSON?c.toJSON(null,i):c});else if((typeof u>"u"?"undefined":z(u))==="object"&&u.toJSON)o[l]=u.toJSON(null,i);else if(l==="source"){var f=i.get(u.input);f==null&&(f=a,i.set(u.input,a),a++),o[l]={end:u.end,inputId:f,start:u.start}}else o[l]=u}return s&&(o.inputs=[].concat(i.keys()).map(function(c){return c.toJSON()})),o},r.toProxy=function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache},r.toString=function(t){t===void 0&&(t=jw),t.stringify&&(t=t.stringify);var i="";return t(this,function(o){i+=o}),i},r.warn=function(t,i,o){var s={node:this};for(var a in o)s[a]=o[a];return t.warn(i,s)},Ie(e,[{key:"proxyOf",get:function(){return this}}]),e})(),Ls=Bl;Bl.default=Bl;var Ww=Ls,Ul=(function(e){Ne(r,e);function r(n){var t;return n&&typeof n.value<"u"&&typeof n.value!="string"&&(n=re({},n,{value:String(n.value)})),t=e.call(this,n)||this,t.type="decl",t}return Ie(r,[{key:"variable",get:function(){return this.prop.startsWith("--")||this.prop[0]==="$"}}]),r})(Ww),Rs=Ul;Ul.default=Ul;var zw="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Vw=function(e){e===void 0&&(e=21);for(var r="",n=e;n--;)r+=zw[Math.random()*64|0];return r},qw={nanoid:Vw},dd=Ue.SourceMapConsumer,hd=Ue.SourceMapGenerator,Hw=Ue.existsSync,Gw=Ue.readFileSync,Ja=Ue.dirname,Kw=Ue.join;function Yw(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}var jl=(function(){function e(n,t){if(t.map!==!1){this.loadAnnotation(n),this.inline=this.startWith(this.annotation,"data:");var i=t.map?t.map.prev:void 0,o=this.loadMap(t.from,i);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Ja(this.mapFile)),o&&(this.text=o)}}var r=e.prototype;return r.consumer=function(){return this.consumerCache||(this.consumerCache=new dd(this.text)),this.consumerCache},r.decodeInline=function(t){var i=/^data:application\/json;charset=utf-?8;base64,/,o=/^data:application\/json;base64,/,s=/^data:application\/json;charset=utf-?8,/,a=/^data:application\/json,/;if(s.test(t)||a.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(i.test(t)||o.test(t))return Yw(t.substr(RegExp.lastMatch.length));var l=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+l)},r.getAnnotationURL=function(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()},r.isMap=function(t){return(typeof t>"u"?"undefined":z(t))!=="object"?!1:typeof t.mappings=="string"||typeof t._mappings=="string"||Array.isArray(t.sections)},r.loadAnnotation=function(t){var i=t.match(/\/\*\s*# sourceMappingURL=/gm);if(i){var o=t.lastIndexOf(i.pop()),s=t.indexOf("*/",o);o>-1&&s>-1&&(this.annotation=this.getAnnotationURL(t.substring(o,s)))}},r.loadFile=function(t){if(this.root=Ja(t),Hw(t))return this.mapFile=t,Gw(t,"utf-8").toString().trim()},r.loadMap=function(t,i){if(i===!1)return!1;if(i){if(typeof i=="string")return i;if(typeof i=="function"){var o=i(t);if(o){var s=this.loadFile(o);if(!s)throw new Error("Unable to load previous source map: "+o.toString());return s}}else{if(W(i,dd))return hd.fromSourceMap(i).toString();if(W(i,hd))return i.toString();if(this.isMap(i))return JSON.stringify(i);throw new Error("Unsupported previous source map format: "+i.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var a=this.annotation;return t&&(a=Kw(Ja(t),a)),this.loadFile(a)}}},r.startWith=function(t,i){return t?t.substr(0,i.length)===i:!1},r.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e})(),gp=jl;jl.default=jl;var Jw=Ue.SourceMapConsumer,Qw=Ue.SourceMapGenerator,pd=Ue.fileURLToPath,yo=Ue.pathToFileURL,Wl=Ue.isAbsolute,zl=Ue.resolve,Xw=qw.nanoid,Qa=Ue,md=Vu,Zw=gp,Xa=Symbol("fromOffsetCache"),eS=!!(Jw&&Qw),vd=!!(zl&&Wl),os=(function(){function e(n,t){if(t===void 0&&(t={}),n===null||typeof n>"u"||(typeof n>"u"?"undefined":z(n))==="object"&&!n.toString)throw new Error("PostCSS received "+n+" instead of CSS string");if(this.css=n.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!vd||/^\w+:\/\//.test(t.from)||Wl(t.from)?this.file=t.from:this.file=zl(t.from)),vd&&eS){var i=new Zw(this.css,t);if(i.text){this.map=i;var o=i.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+Xw(6)+">"),this.map&&(this.map.file=this.from)}var r=e.prototype;return r.error=function(t,i,o,s){s===void 0&&(s={});var a,l,u;if(i&&(typeof i>"u"?"undefined":z(i))==="object"){var f=i,c=o;if(typeof f.offset=="number"){var d=this.fromOffset(f.offset);i=d.line,o=d.col}else i=f.line,o=f.column;if(typeof c.offset=="number"){var p=this.fromOffset(c.offset);l=p.line,u=p.col}else l=c.line,u=c.column}else if(!o){var v=this.fromOffset(i);i=v.line,o=v.col}var b=this.origin(i,o,l,u);return b?a=new md(t,b.endLine===void 0?b.line:{column:b.column,line:b.line},b.endLine===void 0?b.column:{column:b.endColumn,line:b.endLine},b.source,b.file,s.plugin):a=new md(t,l===void 0?i:{column:o,line:i},l===void 0?o:{column:u,line:l},this.css,this.file,s.plugin),a.input={column:o,endColumn:u,endLine:l,line:i,source:this.css},this.file&&(yo&&(a.input.url=yo(this.file).toString()),a.input.file=this.file),a},r.fromOffset=function(t){var i,o;if(this[Xa])o=this[Xa];else{var s=this.css.split(`
`);o=new Array(s.length);for(var a=0,l=0,u=s.length;l<u;l++)o[l]=a,a+=s[l].length+1;this[Xa]=o}i=o[o.length-1];var f=0;if(t>=i)f=o.length-1;else for(var c=o.length-2,d;f<c;)if(d=f+(c-f>>1),t<o[d])c=d-1;else if(t>=o[d+1])f=d+1;else{f=d;break}return{col:t-o[f]+1,line:f+1}},r.mapResolve=function(t){return/^\w+:\/\//.test(t)?t:zl(this.map.consumer().sourceRoot||this.map.root||".",t)},r.origin=function(t,i,o,s){if(!this.map)return!1;var a=this.map.consumer(),l=a.originalPositionFor({column:i,line:t});if(!l.source)return!1;var u;typeof o=="number"&&(u=a.originalPositionFor({column:s,line:o}));var f;Wl(l.source)?f=yo(l.source):f=new URL(l.source,this.map.consumer().sourceRoot||yo(this.map.mapFile));var c={column:l.column,endColumn:u&&u.column,endLine:u&&u.line,line:l.line,url:f.toString()};if(f.protocol==="file:")if(pd)c.file=pd(f);else throw new Error("file: protocol is not available in this PostCSS build");var d=a.sourceContentFor(l.source);return d&&(c.source=d),c},r.toJSON=function(){for(var t={},i=0,o=["hasBOM","css","file","id"];i<o.length;i++){var s=o[i];this[s]!=null&&(t[s]=this[s])}return this.map&&(t.map=re({},this.map),t.map.consumerCache&&(t.map.consumerCache=void 0)),t},Ie(e,[{key:"from",get:function(){return this.file||this.id}}]),e})(),Fs=os;os.default=os;Qa&&Qa.registerInput&&Qa.registerInput(os);var yp=Ue.SourceMapConsumer,qo=Ue.SourceMapGenerator,Ho=Ue.dirname,_p=Ue.relative,bp=Ue.resolve,wp=Ue.sep,gd=Ue.pathToFileURL,tS=Fs,rS=!!(yp&&qo),nS=!!(Ho&&bp&&_p&&wp),iS=(function(){function e(n,t,i,o){this.stringify=n,this.mapOpts=i.map||{},this.root=t,this.opts=i,this.css=o,this.originalCSS=o,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}var r=e.prototype;return r.addAnnotation=function(){var t;this.isInline()?t="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?t=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?t=this.mapOpts.annotation(this.opts.to,this.root):t=this.outputFile()+".map";var i=`
`;this.css.includes(`\r
`)&&(i=`\r
`),this.css+=i+"/*# sourceMappingURL="+t+" */"},r.applyPrevMaps=function(){for(var t=D(this.previous()),i;!(i=t()).done;){var o=i.value,s=this.toUrl(this.path(o.file)),a=o.root||Ho(o.file),l=void 0;this.mapOpts.sourcesContent===!1?(l=new yp(o.text),l.sourcesContent&&(l.sourcesContent=null)):l=o.consumer(),this.map.applySourceMap(l,s,this.toUrl(this.path(a)))}},r.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)if(this.root)for(var t,i=this.root.nodes.length-1;i>=0;i--)t=this.root.nodes[i],t.type==="comment"&&t.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(i);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))},r.generate=function(){if(this.clearAnnotation(),nS&&rS&&this.isMap())return this.generateMap();var t="";return this.stringify(this.root,function(i){t+=i}),[t]},r.generateMap=function(){if(this.root)this.generateString();else if(this.previous().length===1){var t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=qo.fromSourceMap(t,{ignoreInvalidMapping:!0})}else this.map=new qo({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},r.generateString=function(){var t=this;this.css="",this.map=new qo({file:this.outputFile(),ignoreInvalidMapping:!0});var i=1,o=1,s="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""},l,u;this.stringify(this.root,function(f,c,d){if(t.css+=f,c&&d!=="end"&&(a.generated.line=i,a.generated.column=o-1,c.source&&c.source.start?(a.source=t.sourcePath(c),a.original.line=c.source.start.line,a.original.column=c.source.start.column-1,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,t.map.addMapping(a))),l=f.match(/\n/g),l?(i+=l.length,u=f.lastIndexOf(`
`),o=f.length-u):o+=f.length,c&&d!=="start"){var p=c.parent||{raws:{}},v=c.type==="decl"||c.type==="atrule"&&!c.nodes;(!v||c!==p.last||p.raws.semicolon)&&(c.source&&c.source.end?(a.source=t.sourcePath(c),a.original.line=c.source.end.line,a.original.column=c.source.end.column-1,a.generated.line=i,a.generated.column=o-2,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,a.generated.line=i,a.generated.column=o-1,t.map.addMapping(a)))}})},r.isAnnotation=function(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(function(t){return t.annotation}):!0},r.isInline=function(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;var t=this.mapOpts.annotation;return typeof t<"u"&&t!==!0?!1:this.previous().length?this.previous().some(function(i){return i.inline}):!0},r.isMap=function(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0},r.isSourcesContent=function(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(t){return t.withContent()}):!0},r.outputFile=function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"},r.path=function(t){if(this.mapOpts.absolute||t.charCodeAt(0)===60||/^\w+:\/\//.test(t))return t;var i=this.memoizedPaths.get(t);if(i)return i;var o=this.opts.to?Ho(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(o=Ho(bp(o,this.mapOpts.annotation)));var s=_p(o,t);return this.memoizedPaths.set(t,s),s},r.previous=function(){var t=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(o){if(o.source&&o.source.input.map){var s=o.source.input.map;t.previousMaps.includes(s)||t.previousMaps.push(s)}});else{var i=new tS(this.originalCSS,this.opts);i.map&&this.previousMaps.push(i.map)}return this.previousMaps},r.setSourcesContent=function(){var t=this,i={};if(this.root)this.root.walk(function(s){if(s.source){var a=s.source.input.from;if(a&&!i[a]){i[a]=!0;var l=t.usesFileUrls?t.toFileUrl(a):t.toUrl(t.path(a));t.map.setSourceContent(l,s.source.input.css)}}});else if(this.css){var o=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(o,this.css)}},r.sourcePath=function(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))},r.toBase64=function(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))},r.toFileUrl=function(t){var i=this.memoizedFileURLs.get(t);if(i)return i;if(gd){var o=gd(t).toString();return this.memoizedFileURLs.set(t,o),o}else throw new Error("`map.absolute` option is not available in this PostCSS build")},r.toUrl=function(t){var i=this.memoizedURLs.get(t);if(i)return i;wp==="\\"&&(t=t.replace(/\\/g,"/"));var o=encodeURI(t).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(t,o),o},e})(),Sp=iS,oS=Ls,Vl=(function(e){Ne(r,e);function r(n){var t;return t=e.call(this,n)||this,t.type="comment",t}return r})(oS),$s=Vl;Vl.default=Vl;var xp=cr.isClean,Cp=cr.my,kp=Rs,Ep=$s,sS=Ls,Ip,qu,Hu,Ap;function Op(e){return e.map(function(r){return r.nodes&&(r.nodes=Op(r.nodes)),delete r.source,r})}function Tp(e){if(e[xp]=!1,e.proxyOf.nodes)for(var r=D(e.proxyOf.nodes),n;!(n=r()).done;){var t=n.value;Tp(t)}}var Gt=(function(e){Ne(r,e);function r(){return e.apply(this,arguments)||this}var n=r.prototype;return n.append=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];for(var a=D(o),l;!(l=a()).done;)for(var u=l.value,f=this.normalize(u,this.last),c=D(f),d;!(d=c()).done;){var p=d.value;this.proxyOf.nodes.push(p)}return this.markDirty(),this},n.cleanRaws=function(i){if(e.prototype.cleanRaws.call(this,i),this.nodes)for(var o=D(this.nodes),s;!(s=o()).done;){var a=s.value;a.cleanRaws(i)}},n.each=function(i){if(this.proxyOf.nodes){for(var o=this.getIterator(),s,a;this.indexes[o]<this.proxyOf.nodes.length&&(s=this.indexes[o],a=i(this.proxyOf.nodes[s],s),a!==!1);)this.indexes[o]+=1;return delete this.indexes[o],a}},n.every=function(i){return this.nodes.every(i)},n.getIterator=function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var i=this.lastEach;return this.indexes[i]=0,i},n.getProxyProcessor=function(){return{get:function(o,s){return s==="proxyOf"?o:o[s]?s==="each"||typeof s=="string"&&s.startsWith("walk")?function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var f;return(f=o)[s].apply(f,[].concat(l.map(function(c){return typeof c=="function"?function(d,p){return c(d.toProxy(),p)}:c})))}:s==="every"||s==="some"?function(a){return o[s](function(l){for(var u=arguments.length,f=new Array(u>1?u-1:0),c=1;c<u;c++)f[c-1]=arguments[c];return a.apply(void 0,[].concat([l.toProxy()],f))})}:s==="root"?function(){return o.root().toProxy()}:s==="nodes"?o.nodes.map(function(a){return a.toProxy()}):s==="first"||s==="last"?o[s].toProxy():o[s]:o[s]},set:function(o,s,a){return o[s]===a||(o[s]=a,(s==="name"||s==="params"||s==="selector")&&o.markDirty()),!0}}},n.index=function(i){return typeof i=="number"?i:(i.proxyOf&&(i=i.proxyOf),this.proxyOf.nodes.indexOf(i))},n.insertAfter=function(i,o){var s=this.index(i),a=this.normalize(o,this.proxyOf.nodes[s]).reverse();s=this.index(i);for(var l=D(a),u;!(u=l()).done;){var f=u.value;this.proxyOf.nodes.splice(s+1,0,f)}var c;for(var d in this.indexes)c=this.indexes[d],s<c&&(this.indexes[d]=c+a.length);return this.markDirty(),this},n.insertBefore=function(i,o){var s=this.index(i),a=s===0?"prepend":!1,l=this.normalize(o,this.proxyOf.nodes[s],a).reverse();s=this.index(i);for(var u=D(l),f;!(f=u()).done;){var c=f.value;this.proxyOf.nodes.splice(s,0,c)}var d;for(var p in this.indexes)d=this.indexes[p],s<=d&&(this.indexes[p]=d+l.length);return this.markDirty(),this},n.normalize=function(i,o){var s=this;if(typeof i=="string")i=Op(Ip(i).nodes);else if(typeof i>"u")i=[];else if(Array.isArray(i)){i=i.slice(0);for(var a=D(i),l;!(l=a()).done;){var u=l.value;u.parent&&u.parent.removeChild(u,"ignore")}}else if(i.type==="root"&&this.type!=="document"){i=i.nodes.slice(0);for(var f=D(i),c;!(c=f()).done;){var d=c.value;d.parent&&d.parent.removeChild(d,"ignore")}}else if(i.type)i=[i];else if(i.prop){if(typeof i.value>"u")throw new Error("Value field is missed in node creation");typeof i.value!="string"&&(i.value=String(i.value)),i=[new kp(i)]}else if(i.selector)i=[new qu(i)];else if(i.name)i=[new Hu(i)];else if(i.text)i=[new Ep(i)];else throw new Error("Unknown node type in node creation");var p=i.map(function(v){return v[Cp]||r.rebuild(v),v=v.proxyOf,v.parent&&v.parent.removeChild(v),v[xp]&&Tp(v),typeof v.raws.before>"u"&&o&&typeof o.raws.before<"u"&&(v.raws.before=o.raws.before.replace(/\S/g,"")),v.parent=s.proxyOf,v});return p},n.prepend=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];o=o.reverse();for(var a=D(o),l;!(l=a()).done;){for(var u=l.value,f=this.normalize(u,this.first,"prepend").reverse(),c=D(f),d;!(d=c()).done;){var p=d.value;this.proxyOf.nodes.unshift(p)}for(var v in this.indexes)this.indexes[v]=this.indexes[v]+f.length}return this.markDirty(),this},n.push=function(i){return i.parent=this,this.proxyOf.nodes.push(i),this},n.removeAll=function(){for(var i=D(this.proxyOf.nodes),o;!(o=i()).done;){var s=o.value;s.parent=void 0}return this.proxyOf.nodes=[],this.markDirty(),this},n.removeChild=function(i){i=this.index(i),this.proxyOf.nodes[i].parent=void 0,this.proxyOf.nodes.splice(i,1);var o;for(var s in this.indexes)o=this.indexes[s],o>=i&&(this.indexes[s]=o-1);return this.markDirty(),this},n.replaceValues=function(i,o,s){return s||(s=o,o={}),this.walkDecls(function(a){o.props&&!o.props.includes(a.prop)||o.fast&&!a.value.includes(o.fast)||(a.value=a.value.replace(i,s))}),this.markDirty(),this},n.some=function(i){return this.nodes.some(i)},n.walk=function(i){return this.each(function(o,s){var a;try{a=i(o,s)}catch(l){throw o.addToError(l)}return a!==!1&&o.walk&&(a=o.walk(i)),a})},n.walkAtRules=function(i,o){return o?W(i,RegExp)?this.walk(function(s,a){if(s.type==="atrule"&&i.test(s.name))return o(s,a)}):this.walk(function(s,a){if(s.type==="atrule"&&s.name===i)return o(s,a)}):(o=i,this.walk(function(s,a){if(s.type==="atrule")return o(s,a)}))},n.walkComments=function(i){return this.walk(function(o,s){if(o.type==="comment")return i(o,s)})},n.walkDecls=function(i,o){return o?W(i,RegExp)?this.walk(function(s,a){if(s.type==="decl"&&i.test(s.prop))return o(s,a)}):this.walk(function(s,a){if(s.type==="decl"&&s.prop===i)return o(s,a)}):(o=i,this.walk(function(s,a){if(s.type==="decl")return o(s,a)}))},n.walkRules=function(i,o){return o?W(i,RegExp)?this.walk(function(s,a){if(s.type==="rule"&&i.test(s.selector))return o(s,a)}):this.walk(function(s,a){if(s.type==="rule"&&s.selector===i)return o(s,a)}):(o=i,this.walk(function(s,a){if(s.type==="rule")return o(s,a)}))},Ie(r,[{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),r})(sS);Gt.registerParse=function(e){Ip=e};Gt.registerRule=function(e){qu=e};Gt.registerAtRule=function(e){Hu=e};Gt.registerRoot=function(e){Ap=e};var Pr=Gt;Gt.default=Gt;Gt.rebuild=function(e){e.type==="atrule"?Object.setPrototypeOf(e,Hu.prototype):e.type==="rule"?Object.setPrototypeOf(e,qu.prototype):e.type==="decl"?Object.setPrototypeOf(e,kp.prototype):e.type==="comment"?Object.setPrototypeOf(e,Ep.prototype):e.type==="root"&&Object.setPrototypeOf(e,Ap.prototype),e[Cp]=!0,e.nodes&&e.nodes.forEach(function(r){Gt.rebuild(r)})};var aS=Pr,Np,Pp,Ei=(function(e){Ne(r,e);function r(t){var i;return i=e.call(this,re({type:"document"},t))||this,i.nodes||(i.nodes=[]),i}var n=r.prototype;return n.toResult=function(i){i===void 0&&(i={});var o=new Np(new Pp,this,i);return o.stringify()},r})(aS);Ei.registerLazyResult=function(e){Np=e};Ei.registerProcessor=function(e){Pp=e};var Gu=Ei;Ei.default=Ei;var ql=(function(){function e(n,t){if(t===void 0&&(t={}),this.type="warning",this.text=n,t.node&&t.node.source){var i=t.node.rangeBy(t);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(var o in t)this[o]=t[o]}var r=e.prototype;return r.toString=function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e})(),Mp=ql;ql.default=ql;var lS=Mp,Hl=(function(){function e(n,t,i){this.processor=n,this.messages=[],this.root=t,this.opts=i,this.css=void 0,this.map=void 0}var r=e.prototype;return r.toString=function(){return this.css},r.warn=function(t,i){i===void 0&&(i={}),i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);var o=new lS(t,i);return this.messages.push(o),o},r.warnings=function(){return this.messages.filter(function(t){return t.type==="warning"})},Ie(e,[{key:"content",get:function(){return this.css}}]),e})(),Ku=Hl;Hl.default=Hl;var Za=39,yd=34,_o=92,_d=47,bo=10,si=32,wo=12,So=9,xo=13,uS=91,cS=93,fS=40,dS=41,hS=123,pS=125,mS=59,vS=42,gS=58,yS=64,Co=/[\t\n\f\r "#'()/;[\\\]{}]/g,ko=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,_S=/.[\r\n"'(/\\]/,bd=/[\da-f]/i,bS=function(r,n){n===void 0&&(n={});var t=r.css.valueOf(),i=n.ignoreErrors,o,s,a,l,u,f,c,d,p,v,b=t.length,g=0,_=[],w=[];function S(){return g}function x(O){throw r.error("Unclosed "+O,g)}function C(){return w.length===0&&g>=b}function T(O){if(w.length)return w.pop();if(!(g>=b)){var N=O?O.ignoreUnclosed:!1;switch(o=t.charCodeAt(g),o){case bo:case si:case So:case xo:case wo:{s=g;do s+=1,o=t.charCodeAt(s);while(o===si||o===bo||o===So||o===xo||o===wo);v=["space",t.slice(g,s)],g=s-1;break}case uS:case cS:case hS:case pS:case gS:case mS:case dS:{var P=String.fromCharCode(o);v=[P,P,g];break}case fS:{if(d=_.length?_.pop()[1]:"",p=t.charCodeAt(g+1),d==="url"&&p!==Za&&p!==yd&&p!==si&&p!==bo&&p!==So&&p!==wo&&p!==xo){s=g;do{if(f=!1,s=t.indexOf(")",s+1),s===-1)if(i||N){s=g;break}else x("bracket");for(c=s;t.charCodeAt(c-1)===_o;)c-=1,f=!f}while(f);v=["brackets",t.slice(g,s+1),g,s],g=s}else s=t.indexOf(")",g+1),l=t.slice(g,s+1),s===-1||_S.test(l)?v=["(","(",g]:(v=["brackets",l,g,s],g=s);break}case Za:case yd:{a=o===Za?"'":'"',s=g;do{if(f=!1,s=t.indexOf(a,s+1),s===-1)if(i||N){s=g+1;break}else x("string");for(c=s;t.charCodeAt(c-1)===_o;)c-=1,f=!f}while(f);v=["string",t.slice(g,s+1),g,s],g=s;break}case yS:{Co.lastIndex=g+1,Co.test(t),Co.lastIndex===0?s=t.length-1:s=Co.lastIndex-2,v=["at-word",t.slice(g,s+1),g,s],g=s;break}case _o:{for(s=g,u=!0;t.charCodeAt(s+1)===_o;)s+=1,u=!u;if(o=t.charCodeAt(s+1),u&&o!==_d&&o!==si&&o!==bo&&o!==So&&o!==xo&&o!==wo&&(s+=1,bd.test(t.charAt(s)))){for(;bd.test(t.charAt(s+1));)s+=1;t.charCodeAt(s+1)===si&&(s+=1)}v=["word",t.slice(g,s+1),g,s],g=s;break}default:{o===_d&&t.charCodeAt(g+1)===vS?(s=t.indexOf("*/",g+2)+1,s===0&&(i||N?s=t.length:x("comment")),v=["comment",t.slice(g,s+1),g,s],g=s):(ko.lastIndex=g+1,ko.test(t),ko.lastIndex===0?s=t.length-1:s=ko.lastIndex-2,v=["word",t.slice(g,s+1),g,s],_.push(v),g=s);break}}return g++,v}}function I(O){w.push(O)}return{back:I,endOfFile:C,nextToken:T,position:S}},Dp=Pr,ss=(function(e){Ne(r,e);function r(t){var i;return i=e.call(this,t)||this,i.type="atrule",i}var n=r.prototype;return n.append=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.append).call.apply(a,[].concat([this],o))},n.prepend=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.prepend).call.apply(a,[].concat([this],o))},r})(Dp),Yu=ss;ss.default=ss;Dp.registerAtRule(ss);var Lp=Pr,Rp,Fp,an=(function(e){Ne(r,e);function r(t){var i;return i=e.call(this,t)||this,i.type="root",i.nodes||(i.nodes=[]),i}var n=r.prototype;return n.normalize=function(i,o,s){var a=e.prototype.normalize.call(this,i);if(o){if(s==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(var l=D(a),u;!(u=l()).done;){var f=u.value;f.raws.before=o.raws.before}}return a},n.removeChild=function(i,o){var s=this.index(i);return!o&&s===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[s].raws.before),e.prototype.removeChild.call(this,i)},n.toResult=function(i){i===void 0&&(i={});var o=new Rp(new Fp,this,i);return o.stringify()},r})(Lp);an.registerLazyResult=function(e){Rp=e};an.registerProcessor=function(e){Fp=e};var ji=an;an.default=an;Lp.registerRoot(an);var Ii={comma:function(r){return Ii.split(r,[","],!0)},space:function(r){var n=[" ",`
`,"	"];return Ii.split(r,n)},split:function(r,n,t){for(var i=[],o="",s=!1,a=0,l=!1,u="",f=!1,c=D(r),d;!(d=c()).done;){var p=d.value;f?f=!1:p==="\\"?f=!0:l?p===u&&(l=!1):p==='"'||p==="'"?(l=!0,u=p):p==="("?a+=1:p===")"?a>0&&(a-=1):a===0&&n.includes(p)&&(s=!0),s?(o!==""&&i.push(o.trim()),o="",s=!1):o+=p}return(t||o!=="")&&i.push(o.trim()),i}},$p=Ii;Ii.default=Ii;var Bp=Pr,wS=$p,as=(function(e){Ne(r,e);function r(n){var t;return t=e.call(this,n)||this,t.type="rule",t.nodes||(t.nodes=[]),t}return Ie(r,[{key:"selectors",get:function(){return wS.comma(this.selector)},set:function(t){var i=this.selector?this.selector.match(/,\s*/):null,o=i?i[0]:","+this.raw("between","beforeOpen");this.selector=t.join(o)}}]),r})(Bp),Ju=as;as.default=as;Bp.registerRule(as);var SS=Rs,xS=bS,CS=$s,kS=Yu,ES=ji,wd=Ju,Sd={empty:!0,space:!0};function IS(e){for(var r=e.length-1;r>=0;r--){var n=e[r],t=n[3]||n[2];if(t)return t}}var AS=(function(){function e(n){this.input=n,this.root=new ES,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:n,start:{column:1,line:1,offset:0}}}var r=e.prototype;return r.atrule=function(t){var i=new kS;i.name=t[1].slice(1),i.name===""&&this.unnamedAtrule(i,t),this.init(i,t[2]);for(var o,s,a,l=!1,u=!1,f=[],c=[];!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),o=t[0],o==="("||o==="["?c.push(o==="("?")":"]"):o==="{"&&c.length>0?c.push("}"):o===c[c.length-1]&&c.pop(),c.length===0)if(o===";"){i.source.end=this.getPosition(t[2]),i.source.end.offset++,this.semicolon=!0;break}else if(o==="{"){u=!0;break}else if(o==="}"){if(f.length>0){for(a=f.length-1,s=f[a];s&&s[0]==="space";)s=f[--a];s&&(i.source.end=this.getPosition(s[3]||s[2]),i.source.end.offset++)}this.end(t);break}else f.push(t);else f.push(t);if(this.tokenizer.endOfFile()){l=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(f),f.length?(i.raws.afterName=this.spacesAndCommentsFromStart(f),this.raw(i,"params",f),l&&(t=f[f.length-1],i.source.end=this.getPosition(t[3]||t[2]),i.source.end.offset++,this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),u&&(i.nodes=[],this.current=i)},r.checkMissedSemicolon=function(t){var i=this.colon(t);if(i!==!1){for(var o=0,s,a=i-1;a>=0&&(s=t[a],!(s[0]!=="space"&&(o+=1,o===2)));a--);throw this.input.error("Missed semicolon",s[0]==="word"?s[3]+1:s[2])}},r.colon=function(t){for(var i=0,o,s,a,l=D(t.entries()),u;!(u=l()).done;){var f=u.value,c=f[0],d=f[1];if(o=d,s=o[0],s==="("&&(i+=1),s===")"&&(i-=1),i===0&&s===":")if(!a)this.doubleColon(o);else{if(a[0]==="word"&&a[1]==="progid")continue;return c}a=o}return!1},r.comment=function(t){var i=new CS;this.init(i,t[2]),i.source.end=this.getPosition(t[3]||t[2]),i.source.end.offset++;var o=t[1].slice(2,-2);if(/^\s*$/.test(o))i.text="",i.raws.left=o,i.raws.right="";else{var s=o.match(/^(\s*)([^]*\S)(\s*)$/);i.text=s[2],i.raws.left=s[1],i.raws.right=s[3]}},r.createTokenizer=function(){this.tokenizer=xS(this.input)},r.decl=function(t,i){var o=new SS;this.init(o,t[0][2]);var s=t[t.length-1];for(s[0]===";"&&(this.semicolon=!0,t.pop()),o.source.end=this.getPosition(s[3]||s[2]||IS(t)),o.source.end.offset++;t[0][0]!=="word";)t.length===1&&this.unknownWord(t),o.raws.before+=t.shift()[1];for(o.source.start=this.getPosition(t[0][2]),o.prop="";t.length;){var a=t[0][0];if(a===":"||a==="space"||a==="comment")break;o.prop+=t.shift()[1]}o.raws.between="";for(var l;t.length;)if(l=t.shift(),l[0]===":"){o.raws.between+=l[1];break}else l[0]==="word"&&/\w/.test(l[1])&&this.unknownWord([l]),o.raws.between+=l[1];(o.prop[0]==="_"||o.prop[0]==="*")&&(o.raws.before+=o.prop[0],o.prop=o.prop.slice(1));for(var u=[],f;t.length&&(f=t[0][0],!(f!=="space"&&f!=="comment"));)u.push(t.shift());this.precheckMissedSemicolon(t);for(var c=t.length-1;c>=0;c--){if(l=t[c],l[1].toLowerCase()==="!important"){o.important=!0;var d=this.stringFrom(t,c);d=this.spacesFromEnd(t)+d,d!==" !important"&&(o.raws.important=d);break}else if(l[1].toLowerCase()==="important"){for(var p=t.slice(0),v="",b=c;b>0;b--){var g=p[b][0];if(v.trim().indexOf("!")===0&&g!=="space")break;v=p.pop()[1]+v}v.trim().indexOf("!")===0&&(o.important=!0,o.raws.important=v,t=p)}if(l[0]!=="space"&&l[0]!=="comment")break}var _=t.some(function(w){return w[0]!=="space"&&w[0]!=="comment"});_&&(o.raws.between+=u.map(function(w){return w[1]}).join(""),u=[]),this.raw(o,"value",u.concat(t),i),o.value.includes(":")&&!i&&this.checkMissedSemicolon(t)},r.doubleColon=function(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})},r.emptyRule=function(t){var i=new wd;this.init(i,t[2]),i.selector="",i.raws.between="",this.current=i},r.end=function(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)},r.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())},r.freeSemicolon=function(t){if(this.spaces+=t[1],this.current.nodes){var i=this.current.nodes[this.current.nodes.length-1];i&&i.type==="rule"&&!i.raws.ownSemicolon&&(i.raws.ownSemicolon=this.spaces,this.spaces="")}},r.getPosition=function(t){var i=this.input.fromOffset(t);return{column:i.col,line:i.line,offset:t}},r.init=function(t,i){this.current.push(t),t.source={input:this.input,start:this.getPosition(i)},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)},r.other=function(t){for(var i=!1,o=null,s=!1,a=null,l=[],u=t[1].startsWith("--"),f=[],c=t;c;){if(o=c[0],f.push(c),o==="("||o==="[")a||(a=c),l.push(o==="("?")":"]");else if(u&&s&&o==="{")a||(a=c),l.push("}");else if(l.length===0)if(o===";")if(s){this.decl(f,u);return}else break;else if(o==="{"){this.rule(f);return}else if(o==="}"){this.tokenizer.back(f.pop()),i=!0;break}else o===":"&&(s=!0);else o===l[l.length-1]&&(l.pop(),l.length===0&&(a=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(i=!0),l.length>0&&this.unclosedBracket(a),i&&s){if(!u)for(;f.length&&(c=f[f.length-1][0],!(c!=="space"&&c!=="comment"));)this.tokenizer.back(f.pop());this.decl(f,u)}else this.unknownWord(f)},r.parse=function(){for(var t;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()},r.precheckMissedSemicolon=function(){},r.raw=function(t,i,o,s){for(var a,l,u=o.length,f="",c=!0,d,p,v=0;v<u;v+=1)a=o[v],l=a[0],l==="space"&&v===u-1&&!s?c=!1:l==="comment"?(p=o[v-1]?o[v-1][0]:"empty",d=o[v+1]?o[v+1][0]:"empty",!Sd[p]&&!Sd[d]?f.slice(-1)===","?c=!1:f+=a[1]:c=!1):f+=a[1];if(!c){var b=o.reduce(function(g,_){return g+_[1]},"");t.raws[i]={raw:b,value:f}}t[i]=f},r.rule=function(t){t.pop();var i=new wd;this.init(i,t[0][2]),i.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(i,"selector",t),this.current=i},r.spacesAndCommentsFromEnd=function(t){for(var i,o="";t.length&&(i=t[t.length-1][0],!(i!=="space"&&i!=="comment"));)o=t.pop()[1]+o;return o},r.spacesAndCommentsFromStart=function(t){for(var i,o="";t.length&&(i=t[0][0],!(i!=="space"&&i!=="comment"));)o+=t.shift()[1];return o},r.spacesFromEnd=function(t){for(var i,o="";t.length&&(i=t[t.length-1][0],i==="space");)o=t.pop()[1]+o;return o},r.stringFrom=function(t,i){for(var o="",s=i;s<t.length;s++)o+=t[s][1];return t.splice(i,t.length-i),o},r.unclosedBlock=function(){var t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)},r.unclosedBracket=function(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})},r.unexpectedClose=function(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})},r.unknownWord=function(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})},r.unnamedAtrule=function(t,i){throw this.input.error("At-rule without name",{offset:i[2]},{offset:i[2]+i[1].length})},e})(),OS=AS,TS=Pr,NS=OS,PS=Fs;function ls(e,r){var n=new PS(e,r),t=new NS(n);try{t.parse()}catch(i){throw i}return t.root}var Qu=ls;ls.default=ls;TS.registerParse(ls);var kt=cr.isClean,MS=cr.my,DS=Sp,LS=Ds,RS=Pr,FS=Gu;var xd=Ku,$S=Qu,BS=ji,US={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},jS={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},WS={Once:!0,postcssPlugin:!0,prepare:!0},ln=0;function ai(e){return(typeof e>"u"?"undefined":z(e))==="object"&&typeof e.then=="function"}function Up(e){var r=!1,n=US[e.type];return e.type==="decl"?r=e.prop.toLowerCase():e.type==="atrule"&&(r=e.name.toLowerCase()),r&&e.append?[n,n+"-"+r,ln,n+"Exit",n+"Exit-"+r]:r?[n,n+"-"+r,n+"Exit",n+"Exit-"+r]:e.append?[n,ln,n+"Exit"]:[n,n+"Exit"]}function Cd(e){var r;return e.type==="document"?r=["Document",ln,"DocumentExit"]:e.type==="root"?r=["Root",ln,"RootExit"]:r=Up(e),{eventIndex:0,events:r,iterator:0,node:e,visitorIndex:0,visitors:[]}}function Gl(e){return e[kt]=!1,e.nodes&&e.nodes.forEach(function(r){return Gl(r)}),e}var Kl={},un=(function(){function e(n,t,i){var o=this;this.stringified=!1,this.processed=!1;var s;if((typeof t>"u"?"undefined":z(t))==="object"&&t!==null&&(t.type==="root"||t.type==="document"))s=Gl(t);else if(W(t,e)||W(t,xd))s=Gl(t.root),t.map&&(typeof i.map>"u"&&(i.map={}),i.map.inline||(i.map.inline=!1),i.map.prev=t.map);else{var a=$S;i.syntax&&(a=i.syntax.parse),i.parser&&(a=i.parser),a.parse&&(a=a.parse);try{s=a(t,i)}catch(l){this.processed=!0,this.error=l}s&&!s[MS]&&RS.rebuild(s)}this.result=new xd(n,s,i),this.helpers=re({},Kl,{postcss:Kl,result:this.result}),this.plugins=this.processor.plugins.map(function(l){return(typeof l>"u"?"undefined":z(l))==="object"&&l.prepare?re({},l,l.prepare(o.result)):l})}var r=e.prototype;return r.async=function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)},r.catch=function(t){return this.async().catch(t)},r.finally=function(t){return this.async().then(t,t)},r.getAsyncError=function(){throw new Error("Use process(css).then(cb) to work with async plugins")},r.handleError=function(t,i){var o=this.result.lastPlugin;try{if(i&&i.addToError(t),this.error=t,t.name==="CssSyntaxError"&&!t.plugin)t.plugin=o.postcssPlugin,t.setMessage();else if(o.postcssVersion&&0)var s,a,l,u,f}catch(c){console&&console.error&&console.error(c)}return t},r.prepareVisitors=function(){var t=this;this.listeners={};for(var i=function(f,c,d){t.listeners[c]||(t.listeners[c]=[]),t.listeners[c].push([f,d])},o=D(this.plugins),s;!(s=o()).done;){var a=s.value;if((typeof a>"u"?"undefined":z(a))==="object")for(var l in a){if(!jS[l]&&/^[A-Z]/.test(l))throw new Error("Unknown event "+l+" in "+a.postcssPlugin+". Try to update PostCSS ("+this.processor.version+" now).");if(!WS[l])if(z(a[l])==="object")for(var u in a[l])u==="*"?i(a,l,a[l][u]):i(a,l+"-"+u.toLowerCase(),a[l][u]);else typeof a[l]=="function"&&i(a,l,a[l])}}this.hasListener=Object.keys(this.listeners).length>0},r.runAsync=function(){var t=this;return As(function(){var i,o,s,a,l,u,f,c,d,p,v,b;return Ir(this,function(g){switch(g.label){case 0:t.plugin=0,i=0,g.label=1;case 1:if(!(i<t.plugins.length))return[3,6];if(o=t.plugins[i],s=t.runOnRoot(o),!ai(s))return[3,5];g.label=2;case 2:return g.trys.push([2,4,,5]),[4,s];case 3:return g.sent(),[3,5];case 4:throw a=g.sent(),t.handleError(a);case 5:return i++,[3,1];case 6:if(t.prepareVisitors(),!t.hasListener)return[3,18];l=t.result.root,g.label=7;case 7:if(l[kt])return[3,14];l[kt]=!0,u=[Cd(l)],g.label=8;case 8:if(!(u.length>0))return[3,13];if(f=t.visitTick(u),!ai(f))return[3,12];g.label=9;case 9:return g.trys.push([9,11,,12]),[4,f];case 10:return g.sent(),[3,12];case 11:throw c=g.sent(),d=u[u.length-1].node,t.handleError(c,d);case 12:return[3,8];case 13:return[3,7];case 14:if(!t.listeners.OnceExit)return[3,18];p=function(){var _,w,S,x,C;return Ir(this,function(T){switch(T.label){case 0:_=b.value,w=_[0],S=_[1],t.result.lastPlugin=w,T.label=1;case 1:return T.trys.push([1,6,,7]),l.type!=="document"?[3,3]:(x=l.nodes.map(function(I){return S(I,t.helpers)}),[4,Promise.all(x)]);case 2:return T.sent(),[3,5];case 3:return[4,S(l,t.helpers)];case 4:T.sent(),T.label=5;case 5:return[3,7];case 6:throw C=T.sent(),t.handleError(C);case 7:return[2]}})},v=D(t.listeners.OnceExit),g.label=15;case 15:return(b=v()).done?[3,18]:[5,Tu(p())];case 16:g.sent(),g.label=17;case 17:return[3,15];case 18:return t.processed=!0,[2,t.stringify()]}})})()},r.runOnRoot=function(t){var i=this;this.result.lastPlugin=t;try{if((typeof t>"u"?"undefined":z(t))==="object"&&t.Once){if(this.result.root.type==="document"){var o=this.result.root.nodes.map(function(s){return t.Once(s,i.helpers)});return ai(o[0])?Promise.all(o):o}return t.Once(this.result.root,this.helpers)}else if(typeof t=="function")return t(this.result.root,this.result)}catch(s){throw this.handleError(s)}},r.stringify=function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var t=this.result.opts,i=LS;t.syntax&&(i=t.syntax.stringify),t.stringifier&&(i=t.stringifier),i.stringify&&(i=i.stringify);var o=new DS(i,this.result.root,this.result.opts),s=o.generate();return this.result.css=s[0],this.result.map=s[1],this.result},r.sync=function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var t=D(this.plugins),i;!(i=t()).done;){var o=i.value,s=this.runOnRoot(o);if(ai(s))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var a=this.result.root;!a[kt];)a[kt]=!0,this.walkSync(a);if(this.listeners.OnceExit)if(a.type==="document")for(var l=D(a.nodes),u;!(u=l()).done;){var f=u.value;this.visitSync(this.listeners.OnceExit,f)}else this.visitSync(this.listeners.OnceExit,a)}return this.result},r.then=function(t,i){return this.async().then(t,i)},r.toString=function(){return this.css},r.visitSync=function(t,i){for(var o=D(t),s;!(s=o()).done;){var a=s.value,l=a[0],u=a[1];this.result.lastPlugin=l;var f=void 0;try{f=u(i,this.helpers)}catch(c){throw this.handleError(c,i.proxyOf)}if(i.type!=="root"&&i.type!=="document"&&!i.parent)return!0;if(ai(f))throw this.getAsyncError()}},r.visitTick=function(t){var i=t[t.length-1],o=i.node,s=i.visitors;if(o.type!=="root"&&o.type!=="document"&&!o.parent){t.pop();return}if(s.length>0&&i.visitorIndex<s.length){var a=s[i.visitorIndex],l=a[0],u=a[1];i.visitorIndex+=1,i.visitorIndex===s.length&&(i.visitors=[],i.visitorIndex=0),this.result.lastPlugin=l;try{return u(o.toProxy(),this.helpers)}catch(v){throw this.handleError(v,o)}}if(i.iterator!==0){for(var f=i.iterator,c;c=o.nodes[o.indexes[f]];)if(o.indexes[f]+=1,!c[kt]){c[kt]=!0,t.push(Cd(c));return}i.iterator=0,delete o.indexes[f]}for(var d=i.events;i.eventIndex<d.length;){var p=d[i.eventIndex];if(i.eventIndex+=1,p===ln){o.nodes&&o.nodes.length&&(o[kt]=!0,i.iterator=o.getIterator());return}else if(this.listeners[p]){i.visitors=this.listeners[p];return}}t.pop()},r.walkSync=function(t){var i=this;t[kt]=!0;for(var o=Up(t),s=D(o),a;!(a=s()).done;){var l=a.value;if(l===ln)t.nodes&&t.each(function(f){f[kt]||i.walkSync(f)});else{var u=this.listeners[l];if(u&&this.visitSync(u,t.toProxy()))return}}},r.warnings=function(){return this.sync().warnings()},Ie(e,[{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),e})();un.registerPostcss=function(e){Kl=e};var jp=un;un.default=un;BS.registerLazyResult(un);FS.registerLazyResult(un);var zS=Sp,VS=Ds;var qS=Qu,HS=Ku,Yl=(function(){function e(n,t,i){t=t.toString(),this.stringified=!1,this._processor=n,this._css=t,this._opts=i,this._map=void 0;var o,s=VS;this.result=new HS(this._processor,o,this._opts),this.result.css=t;var a=this;Object.defineProperty(this.result,"root",{get:function(){return a.root}});var l=new zS(s,o,this._opts,t);if(l.isMap()){var u=l.generate(),f=u[0],c=u[1];f&&(this.result.css=f),c&&(this.result.map=c)}else l.clearAnnotation(),this.result.css=l.css}var r=e.prototype;return r.async=function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)},r.catch=function(t){return this.async().catch(t)},r.finally=function(t){return this.async().then(t,t)},r.sync=function(){if(this.error)throw this.error;return this.result},r.then=function(t,i){return this.async().then(t,i)},r.toString=function(){return this._css},r.warnings=function(){return[]},Ie(e,[{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var t,i=qS;try{t=i(this._css,this._opts)}catch(o){this.error=o}if(this.error)throw this.error;return this._root=t,t}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),e})(),GS=Yl;Yl.default=Yl;var KS=GS,YS=jp,JS=Gu,QS=ji,Ai=(function(){function e(n){n===void 0&&(n=[]),this.version="8.4.38",this.plugins=this.normalize(n)}var r=e.prototype;return r.normalize=function(t){for(var i=[],o=D(t),s;!(s=o()).done;){var a=s.value;if(a.postcss===!0?a=a():a.postcss&&(a=a.postcss),(typeof a>"u"?"undefined":z(a))==="object"&&Array.isArray(a.plugins))i=i.concat(a.plugins);else if((typeof a>"u"?"undefined":z(a))==="object"&&a.postcssPlugin)i.push(a);else if(typeof a=="function")i.push(a);else if(!((typeof a>"u"?"undefined":z(a))==="object"&&(a.parse||a.stringify)))throw new Error(a+" is not a PostCSS plugin")}return i},r.process=function(t,i){return i===void 0&&(i={}),!this.plugins.length&&!i.parser&&!i.stringifier&&!i.syntax?new KS(this,t,i):new YS(this,t,i)},r.use=function(t){return this.plugins=this.plugins.concat(this.normalize([t])),this},e})(),XS=Ai;Ai.default=Ai;QS.registerProcessor(Ai);JS.registerProcessor(Ai);var ZS=Rs,ex=gp,tx=$s,rx=Yu,nx=Fs,ix=ji,ox=Ju;function Oi(e,r){if(Array.isArray(e))return e.map(function(c){return Oi(c)});var n=e.inputs,t=Er(e,["inputs"]);if(n){r=[];for(var i=D(n),o;!(o=i()).done;){var s=o.value,a=re({},s,{__proto__:nx.prototype});a.map&&(a.map=re({},a.map,{__proto__:ex.prototype})),r.push(a)}}if(t.nodes&&(t.nodes=e.nodes.map(function(c){return Oi(c,r)})),t.source){var l=t.source,u=l.inputId,f=Er(l,["inputId"]);t.source=f,u!=null&&(t.source.input=r[u])}if(t.type==="root")return new ix(t);if(t.type==="decl")return new ZS(t);if(t.type==="rule")return new ox(t);if(t.type==="comment")return new tx(t);if(t.type==="atrule")return new rx(t);throw new Error("Unknown node type: "+e.type)}var sx=Oi;Oi.default=Oi;var ax=Vu,Wp=Rs,lx=jp,ux=Pr,Xu=XS,cx=Ds,fx=sx,zp=Gu,dx=Mp,Vp=$s,qp=Yu,hx=Ku,px=Fs,mx=Qu,vx=$p,Hp=Ju,Gp=ji,gx=Ls;function ye(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])&&(r=r[0]),new Xu(r)}ye.plugin=function(r,n){var t=!1;function i(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];console&&console.warn&&!t&&(t=!0,console.warn(r+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(r+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));var u=n.apply(void 0,[].concat(a));return u.postcssPlugin=r,u.postcssVersion=new Xu().version,u}var o;return Object.defineProperty(i,"postcss",{get:function(){return o||(o=i()),o}}),i.process=function(s,a,l){return ye([i(l)]).process(s,a)},i};ye.stringify=cx;ye.parse=mx;ye.fromJSON=fx;ye.list=vx;ye.comment=function(e){return new Vp(e)};ye.atRule=function(e){return new qp(e)};ye.decl=function(e){return new Wp(e)};ye.rule=function(e){return new Hp(e)};ye.root=function(e){return new Gp(e)};ye.document=function(e){return new zp(e)};ye.CssSyntaxError=ax;ye.Declaration=Wp;ye.Container=ux;ye.Processor=Xu;ye.Document=zp;ye.Comment=Vp;ye.Warning=dx;ye.AtRule=qp;ye.Result=hx;ye.Input=px;ye.Rule=Hp;ye.Root=Gp;ye.Node=gx;lx.registerPostcss(ye);var yx=ye;ye.default=ye;var Me=Nw(yx);Me.stringify;Me.fromJSON;Me.plugin;Me.parse;Me.list;Me.document;Me.comment;Me.atRule;Me.rule;Me.decl;Me.root;Me.CssSyntaxError;Me.Declaration;Me.Container;Me.Processor;Me.Document;Me.Comment;Me.Warning;Me.AtRule;Me.Result;Me.Input;Me.Rule;Me.Root;Me.Node;var _x=(function(){function e(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];ft(this,"parentElement",null),ft(this,"parentNode",null),ft(this,"ownerDocument"),ft(this,"firstChild",null),ft(this,"lastChild",null),ft(this,"previousSibling",null),ft(this,"nextSibling",null),ft(this,"ELEMENT_NODE",1),ft(this,"TEXT_NODE",3),ft(this,"nodeType"),ft(this,"nodeName"),ft(this,"RRNodeType")}var r=e.prototype;return r.contains=function(t){if(W(t,e)){if(t.ownerDocument!==this.ownerDocument)return!1;if(t===this)return!0}else return!1;for(;t.parentNode;){if(t.parentNode===this)return!0;t=t.parentNode}return!1},r.appendChild=function(t){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")},r.insertBefore=function(t,i){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")},r.removeChild=function(t){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")},r.toString=function(){return"RRNode"},Ie(e,[{key:"childNodes",get:function(){for(var t=[],i=this.firstChild;i;)t.push(i),i=i.nextSibling;return t}}]),e})(),kd={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Ed={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Eo={},bx=function(){return!!globalThis.Zone};function Zu(e){if(Eo[e])return Eo[e];var r=globalThis[e],n=r.prototype,t=e in kd?kd[e]:void 0,i=!!(t&&t.every(function(f){var c,d;return!!((d=(c=Object.getOwnPropertyDescriptor(n,f))==null?void 0:c.get)!=null&&d.toString().includes("[native code]"))})),o=e in Ed?Ed[e]:void 0,s=!!(o&&o.every(function(f){var c;return typeof n[f]=="function"&&((c=n[f])==null?void 0:c.toString().includes("[native code]"))}));if(i&&s&&!bx())return Eo[e]=r.prototype,r.prototype;try{var a=document.createElement("iframe");document.body.appendChild(a);var l=a.contentWindow;if(!l)return r.prototype;var u=l[e].prototype;return document.body.removeChild(a),u?Eo[e]=u:n}catch{return n}}var el={};function fr(e,r,n){var t,i=e+"."+String(n);if(el[i])return el[i].call(r);var o=Zu(e),s=(t=Object.getOwnPropertyDescriptor(o,n))==null?void 0:t.get;return s?(el[i]=s,s.call(r)):r[n]}var tl={};function Kp(e,r,n){var t=e+"."+String(n);if(tl[t])return tl[t].bind(r);var i=Zu(e),o=i[n];return typeof o!="function"?r[n]:(tl[t]=o,o.bind(r))}function wx(e){return fr("Node",e,"childNodes")}function Sx(e){return fr("Node",e,"parentNode")}function xx(e){return fr("Node",e,"parentElement")}function Cx(e){return fr("Node",e,"textContent")}function kx(e,r){return Kp("Node",e,"contains")(r)}function Ex(e){return Kp("Node",e,"getRootNode")()}function Ix(e){return!e||!("host"in e)?null:fr("ShadowRoot",e,"host")}function Ax(e){return e.styleSheets}function Ox(e){return!e||!("shadowRoot"in e)?null:fr("Element",e,"shadowRoot")}function Tx(e,r){return fr("Element",e,"querySelector")(r)}function Nx(e,r){return fr("Element",e,"querySelectorAll")(r)}function Yp(){return Zu("MutationObserver").constructor}function Mr(e,r,n){try{if(!(r in e))return function(){};var t=e[r],i=n(t);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:t}})),e[r]=i,function(){e[r]=t}}catch{return function(){}}}var le={childNodes:wx,parentNode:Sx,parentElement:xx,textContent:Cx,contains:kx,getRootNode:Ex,host:Ix,styleSheets:Ax,shadowRoot:Ox,querySelector:Tx,querySelectorAll:Nx,mutationObserver:Yp,patch:Mr};function et(e,r,n){n===void 0&&(n=document);var t={capture:!0,passive:!0};return n.addEventListener(e,r,t),function(){return n.removeEventListener(e,r,t)}}var Kr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Id={map:{},getId:function(){return console.error(Kr),-1},getNode:function(){return console.error(Kr),null},removeNodeFromMap:function(){console.error(Kr)},has:function(){return console.error(Kr),!1},reset:function(){console.error(Kr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Id=new Proxy(Id,{get:function(r,n,t){return n==="map"&&console.error(Kr),Reflect.get(r,n,t)}}));function Ti(e,r,n){n===void 0&&(n={});var t=null,i=0;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var l=Date.now();!i&&n.leading===!1&&(i=l);var u=r-(l-i),f=this;u<=0||u>r?(t&&(clearTimeout(t),t=null),i=l,e.apply(f,s)):!t&&n.trailing!==!1&&(t=setTimeout(function(){i=n.leading===!1?0:Date.now(),t=null,e.apply(f,s)},u))}}function Bs(e,r,n,t,i){i===void 0&&(i=window);var o=i.Object.getOwnPropertyDescriptor(e,r);return i.Object.defineProperty(e,r,t?n:{set:function(a){var l=this;setTimeout(function(){n.set.call(l,a)},0),o&&o.set&&o.set.call(this,a)}}),function(){return Bs(e,r,o||{},!0)}}var us=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(us=function(){return new Date().getTime()});function Jp(e){var r,n,t,i,o=e.document;return{left:o.scrollingElement?o.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:o.documentElement.scrollLeft||o?.body&&((r=le.parentElement(o.body))==null?void 0:r.scrollLeft)||((n=o?.body)==null?void 0:n.scrollLeft)||0,top:o.scrollingElement?o.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:o?.documentElement.scrollTop||o?.body&&((t=le.parentElement(o.body))==null?void 0:t.scrollTop)||((i=o?.body)==null?void 0:i.scrollTop)||0}}function Qp(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Xp(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Zp(e){if(!e)return null;var r=e.nodeType===e.ELEMENT_NODE?e:le.parentElement(e);return r}function tt(e,r,n,t){if(!e)return!1;var i=Zp(e);if(!i)return!1;try{if(typeof r=="string"){if(i.classList.contains(r)||t&&i.closest("."+r)!==null)return!0}else if(es(i,r,t))return!0}catch{}return!!(n&&(i.matches(n)||t&&i.closest(n)!==null))}function Px(e,r){return r.getId(e)!==-1}function rl(e,r,n){return e.tagName==="TITLE"&&n.headTitleMutations?!0:r.getId(e)===wi}function em(e,r){if(di(e))return!1;var n=r.getId(e);if(!r.has(n))return!0;var t=le.parentNode(e);return t&&t.nodeType===e.DOCUMENT_NODE?!1:t?em(t,r):!0}function Jl(e){return!!e.changedTouches}function Mx(e){e===void 0&&(e=window),"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function tm(e,r){return!!(e.nodeName==="IFRAME"&&r.getMeta(e))}function rm(e,r){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&r.getMeta(e))}function Ql(e){return e?W(e,_x)&&"shadowRoot"in e?!!e.shadowRoot:!!le.shadowRoot(e):!1}var Dx=(function(){function e(){F(this,"id",1),F(this,"styleIDMap",new WeakMap),F(this,"idStyleMap",new Map)}var r=e.prototype;return r.getId=function(t){var i;return(i=this.styleIDMap.get(t))!=null?i:-1},r.has=function(t){return this.styleIDMap.has(t)},r.add=function(t,i){if(this.has(t))return this.getId(t);var o;return i===void 0?o=this.id++:o=i,this.styleIDMap.set(t,o),this.idStyleMap.set(o,t),o},r.getStyle=function(t){return this.idStyleMap.get(t)||null},r.reset=function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1},r.generateId=function(){return this.id++},e})();function nm(e){var r,n=null;return"getRootNode"in e&&((r=le.getRootNode(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&le.host(le.getRootNode(e))&&(n=le.host(le.getRootNode(e))),n}function Lx(e){for(var r=e,n;n=nm(r);)r=n;return r}function Rx(e){var r=e.ownerDocument;if(!r)return!1;var n=Lx(e);return le.contains(r,n)}function im(e){var r=e.ownerDocument;return r?le.contains(r,e)||Rx(e):!1}var ue=(function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e})(ue||{}),Y=(function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e})(Y||{}),ot=(function(e){return e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e})(ot||{}),zt=(function(e){return e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e})(zt||{}),cn=(function(e){return e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e})(cn||{}),Yr=(function(e){return e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e})(Yr||{}),om=(function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e})(om||{});function Ad(e){return"__ln"in e}var Fx=(function(){function e(){F(this,"length",0),F(this,"head",null),F(this,"tail",null)}var r=e.prototype;return r.get=function(t){if(t>=this.length)throw new Error("Position outside of list range");for(var i=this.head,o=0;o<t;o++)i=i?.next||null;return i},r.addNode=function(t){var i={value:t,previous:null,next:null};if(t.__ln=i,t.previousSibling&&Ad(t.previousSibling)){var o=t.previousSibling.__ln.next;i.next=o,i.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=i,o&&(o.previous=i)}else if(t.nextSibling&&Ad(t.nextSibling)&&t.nextSibling.__ln.previous){var s=t.nextSibling.__ln.previous;i.previous=s,i.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=i,s&&(s.next=i)}else this.head&&(this.head.previous=i),i.next=this.head,this.head=i;i.next===null&&(this.tail=i),this.length++},r.removeNode=function(t){var i=t.__ln;this.head&&(i.previous?(i.previous.next=i.next,i.next?i.next.previous=i.previous:this.tail=i.previous):(this.head=i.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)},e})(),Od=function(e,r){return e+"@"+r},$x=(function(){function e(){var n=this;F(this,"frozen",!1),F(this,"locked",!1),F(this,"texts",[]),F(this,"attributes",[]),F(this,"attributeMap",new WeakMap),F(this,"removes",[]),F(this,"mapRemoves",[]),F(this,"movedMap",{}),F(this,"addedSet",new Set),F(this,"movedSet",new Set),F(this,"droppedSet",new Set),F(this,"removesSubTreeCache",new Set),F(this,"mutationCb"),F(this,"blockClass"),F(this,"blockSelector"),F(this,"maskTextClass"),F(this,"maskTextSelector"),F(this,"inlineStylesheet"),F(this,"maskInputOptions"),F(this,"maskTextFn"),F(this,"maskInputFn"),F(this,"keepIframeSrcFn"),F(this,"recordCanvas"),F(this,"inlineImages"),F(this,"slimDOMOptions"),F(this,"dataURLOptions"),F(this,"doc"),F(this,"mirror"),F(this,"iframeManager"),F(this,"stylesheetManager"),F(this,"shadowDomManager"),F(this,"canvasManager"),F(this,"processedNodeManager"),F(this,"unattachedDoc"),F(this,"processMutations",function(t){t.forEach(n.processMutation),n.emit()}),F(this,"emit",function(){if(!(n.frozen||n.locked)){for(var t=[],i=new Set,o=new Fx,s=function(E){for(var A=E,R=wi;R===wi;)A=A&&A.nextSibling,R=A&&n.mirror.getId(A);return R},a=function(E){var A=le.parentNode(E);if(!(!A||!im(E))){var R=!1;if(E.nodeType===Node.TEXT_NODE){var B=A.tagName;if(B==="TEXTAREA")return;B==="STYLE"&&n.addedSet.has(A)&&(R=!0)}var U=di(A)?n.mirror.getId(nm(E)):n.mirror.getId(A),ee=s(E);if(U===-1||ee===-1)return o.addNode(E);var K=Qr(E,{doc:n.doc,mirror:n.mirror,blockClass:n.blockClass,blockSelector:n.blockSelector,maskTextClass:n.maskTextClass,maskTextSelector:n.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:n.inlineStylesheet,maskInputOptions:n.maskInputOptions,maskTextFn:n.maskTextFn,maskInputFn:n.maskInputFn,slimDOMOptions:n.slimDOMOptions,dataURLOptions:n.dataURLOptions,recordCanvas:n.recordCanvas,inlineImages:n.inlineImages,onSerialize:function(H){tm(H,n.mirror)&&n.iframeManager.addIframe(H),rm(H,n.mirror)&&n.stylesheetManager.trackLinkElement(H),Ql(E)&&n.shadowDomManager.addShadowRoot(le.shadowRoot(E),n.doc)},onIframeLoad:function(H,ne){n.iframeManager.attachIframe(H,ne),n.shadowDomManager.observeAttachShadow(H)},onStylesheetLoad:function(H,ne){n.stylesheetManager.attachLinkElement(H,ne)},cssCaptured:R});K&&(t.push({parentId:U,nextId:ee,node:K}),i.add(K.id))}};n.mapRemoves.length;)n.mirror.removeNodeFromMap(n.mapRemoves.shift());for(var l=D(n.movedSet),u;!(u=l()).done;){var f=u.value;Td(n.removesSubTreeCache,f,n.mirror)&&!n.movedSet.has(le.parentNode(f))||a(f)}for(var c=D(n.addedSet),d;!(d=c()).done;){var p=d.value;!Nd(n.droppedSet,p)&&!Td(n.removesSubTreeCache,p,n.mirror)||Nd(n.movedSet,p)?a(p):n.droppedSet.add(p)}for(var v=null;o.length;){var b=null;if(v){var g=n.mirror.getId(le.parentNode(v.value)),_=s(v.value);g!==-1&&_!==-1&&(b=v)}if(!b)for(var w=o.tail;w;){var S=w;if(w=w.previous,S){var x=n.mirror.getId(le.parentNode(S.value)),C=s(S.value);if(C===-1)continue;if(x!==-1){b=S;break}else{var T=S.value,I=le.parentNode(T);if(I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var O=le.host(I),N=n.mirror.getId(O);if(N!==-1){b=S;break}}}}}if(!b){for(;o.head;)o.removeNode(o.head.value);break}v=b.previous,o.removeNode(b.value),a(b.value)}var P={texts:n.texts.map(function(E){var A=E.node,R=le.parentNode(A);return R&&R.tagName==="TEXTAREA"&&n.genTextAreaValueMutation(R),{id:n.mirror.getId(A),value:E.value}}).filter(function(E){return!i.has(E.id)}).filter(function(E){return n.mirror.has(E.id)}),attributes:n.attributes.map(function(E){var A=E.attributes;if(typeof A.style=="string"){var R=JSON.stringify(E.styleDiff),B=JSON.stringify(E._unchangedStyles);R.length<A.style.length&&(R+B).split("var(").length===A.style.split("var(").length&&(A.style=E.styleDiff)}return{id:n.mirror.getId(E.node),attributes:A}}).filter(function(E){return!i.has(E.id)}).filter(function(E){return n.mirror.has(E.id)}),removes:n.removes,adds:t};!P.texts.length&&!P.attributes.length&&!P.removes.length&&!P.adds.length||(n.texts=[],n.attributes=[],n.attributeMap=new WeakMap,n.removes=[],n.addedSet=new Set,n.movedSet=new Set,n.droppedSet=new Set,n.removesSubTreeCache=new Set,n.movedMap={},n.mutationCb(P))}}),F(this,"genTextAreaValueMutation",function(t){var i=n.attributeMap.get(t);i||(i={node:t,attributes:{},styleDiff:{},_unchangedStyles:{}},n.attributes.push(i),n.attributeMap.set(t,i));var o=Array.from(le.childNodes(t),function(s){return le.textContent(s)||""}).join("");i.attributes.value=Qo({element:t,maskInputOptions:n.maskInputOptions,tagName:t.tagName,type:Xo(t),value:o,maskInputFn:n.maskInputFn})}),F(this,"processMutation",function(t){if(!rl(t.target,n.mirror,n.slimDOMOptions))switch(t.type){case"characterData":{var i=le.textContent(t.target);!tt(t.target,n.blockClass,n.blockSelector,!1)&&i!==t.oldValue&&n.texts.push({value:Lh(t.target,n.maskTextClass,n.maskTextSelector,!0)&&i?n.maskTextFn?n.maskTextFn(i,Zp(t.target)):i.replace(/[\S]/g,"*"):i,node:t.target});break}case"attributes":{var o=t.target,s=t.attributeName,a=t.target.getAttribute(s);if(s==="value"){var l=Xo(o);a=Qo({element:o,maskInputOptions:n.maskInputOptions,tagName:o.tagName,type:l,value:a,maskInputFn:n.maskInputFn})}if(tt(t.target,n.blockClass,n.blockSelector,!1)||a===t.oldValue)return;var u=n.attributeMap.get(t.target);if(o.tagName==="IFRAME"&&s==="src"&&!n.keepIframeSrcFn(a))if(!o.contentDocument)s="rr_src";else return;if(u||(u={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},n.attributes.push(u),n.attributeMap.set(t.target,u)),s==="type"&&o.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&o.setAttribute("data-rr-is-password","true"),!Dh(o.tagName,s))if(u.attributes[s]=Mh(n.doc,Ar(o.tagName),Ar(s),a),s==="style"){if(!n.unattachedDoc)try{n.unattachedDoc=document.implementation.createHTMLDocument()}catch{n.unattachedDoc=n.doc}var f=n.unattachedDoc.createElement("span");t.oldValue&&f.setAttribute("style",t.oldValue);for(var c=D(Array.from(o.style)),d;!(d=c()).done;){var p=d.value,v=o.style.getPropertyValue(p),b=o.style.getPropertyPriority(p);v!==f.style.getPropertyValue(p)||b!==f.style.getPropertyPriority(p)?b===""?u.styleDiff[p]=v:u.styleDiff[p]=[v,b]:u._unchangedStyles[p]=[v,b]}for(var g=D(Array.from(f.style)),_;!(_=g()).done;){var w=_.value;o.style.getPropertyValue(w)===""&&(u.styleDiff[w]=!1)}}else s==="open"&&o.tagName==="DIALOG"&&(o.matches("dialog:modal")?u.attributes.rr_open_mode="modal":u.attributes.rr_open_mode="non-modal");break}case"childList":{if(tt(t.target,n.blockClass,n.blockSelector,!0))return;if(t.target.tagName==="TEXTAREA"){n.genTextAreaValueMutation(t.target);return}t.addedNodes.forEach(function(S){return n.genAdds(S,t.target)}),t.removedNodes.forEach(function(S){var x=n.mirror.getId(S),C=di(t.target)?n.mirror.getId(le.host(t.target)):n.mirror.getId(t.target);tt(t.target,n.blockClass,n.blockSelector,!1)||rl(S,n.mirror,n.slimDOMOptions)||!Px(S,n.mirror)||(n.addedSet.has(S)?(Xl(n.addedSet,S),n.droppedSet.add(S)):n.addedSet.has(t.target)&&x===-1||em(t.target,n.mirror)||(n.movedSet.has(S)&&n.movedMap[Od(x,C)]?Xl(n.movedSet,S):(n.removes.push({parentId:C,id:x,isShadow:di(t.target)&&hi(t.target)?!0:void 0}),Bx(S,n.removesSubTreeCache))),n.mapRemoves.push(S))});break}}}),F(this,"genAdds",function(t,i){if(!n.processedNodeManager.inOtherBuffer(t,n)&&!(n.addedSet.has(t)||n.movedSet.has(t))){if(n.mirror.hasNode(t)){if(rl(t,n.mirror,n.slimDOMOptions))return;n.movedSet.add(t);var o=null;i&&n.mirror.hasNode(i)&&(o=n.mirror.getId(i)),o&&o!==-1&&(n.movedMap[Od(n.mirror.getId(t),o)]=!0)}else n.addedSet.add(t),n.droppedSet.delete(t);tt(t,n.blockClass,n.blockSelector,!1)||(le.childNodes(t).forEach(function(s){return n.genAdds(s)}),Ql(t)&&le.childNodes(le.shadowRoot(t)).forEach(function(s){n.processedNodeManager.add(s,n),n.genAdds(s,t)}))}})}var r=e.prototype;return r.init=function(t){var i=this;["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(function(o){i[o]=t[o]})},r.freeze=function(){this.frozen=!0,this.canvasManager.freeze()},r.unfreeze=function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()},r.isFrozen=function(){return this.frozen},r.lock=function(){this.locked=!0,this.canvasManager.lock()},r.unlock=function(){this.locked=!1,this.canvasManager.unlock(),this.emit()},r.reset=function(){this.shadowDomManager.reset(),this.canvasManager.reset()},e})();function Xl(e,r){e.delete(r),le.childNodes(r).forEach(function(n){return Xl(e,n)})}function Bx(e,r){for(var n=[e];n.length;){var t=n.pop();r.has(t)||(r.add(t),le.childNodes(t).forEach(function(i){return n.push(i)}))}}function Td(e,r,n){return e.size===0?!1:Ux(e,r)}function Ux(e,r,n){var t=le.parentNode(r);return t?e.has(t):!1}function Nd(e,r){return e.size===0?!1:sm(e,r)}function sm(e,r){var n=le.parentNode(r);return n?e.has(n)?!0:sm(e,n):!1}var pi;function jx(e){pi=e}function Wx(){pi=void 0}var he=function(e){if(!pi)return e;var r=function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];try{return e.apply(void 0,[].concat(t))}catch(o){if(pi&&pi(o)===!0)return;throw o}};return r},kr=[];function Wi(e){try{if("composedPath"in e){var r=e.composedPath();if(r.length)return r[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function am(e,r){var n=new $x;kr.push(n),n.init(e);var t=new(Yp())(he(n.processMutations.bind(n)));return t.observe(r,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),t}function zx(e){var r=e.mousemoveCb,n=e.sampling,t=e.doc,i=e.mirror;if(n.mousemove===!1)return function(){};var o=typeof n.mousemove=="number"?n.mousemove:50,s=typeof n.mousemoveCallback=="number"?n.mousemoveCallback:500,a=[],l,u=Ti(he(function(d){var p=Date.now()-l;r(a.map(function(v){return v.timeOffset-=p,v}),d),a=[],l=null}),s),f=he(Ti(he(function(d){var p=Wi(d),v=Jl(d)?d.changedTouches[0]:d,b=v.clientX,g=v.clientY;l||(l=us()),a.push({x:b,y:g,id:i.getId(p),timeOffset:us()-l}),u(typeof DragEvent<"u"&&W(d,DragEvent)?Y.Drag:W(d,MouseEvent)?Y.MouseMove:Y.TouchMove)}),o,{trailing:!1})),c=[et("mousemove",f,t),et("touchmove",f,t),et("drag",f,t)];return he(function(){c.forEach(function(d){return d()})})}function Vx(e){var r=e.mouseInteractionCb,n=e.doc,t=e.mirror,i=e.blockClass,o=e.blockSelector,s=e.sampling;if(s.mouseInteraction===!1)return function(){};var a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,l=[],u=null,f=function(c){return function(d){var p=Wi(d);if(!tt(p,i,o,!0)){var v=null,b=c;if("pointerType"in d){switch(d.pointerType){case"mouse":v=zt.Mouse;break;case"touch":v=zt.Touch;break;case"pen":v=zt.Pen;break}v===zt.Touch?ot[c]===ot.MouseDown?b="TouchStart":ot[c]===ot.MouseUp&&(b="TouchEnd"):zt.Pen}else Jl(d)&&(v=zt.Touch);v!==null?(u=v,(b.startsWith("Touch")&&v===zt.Touch||b.startsWith("Mouse")&&v===zt.Mouse)&&(v=null)):ot[c]===ot.Click&&(v=u,u=null);var g=Jl(d)?d.changedTouches[0]:d;if(g){var _=t.getId(p),w=g.clientX,S=g.clientY;he(r)(re({type:ot[b],id:_,x:w,y:S},v!==null&&{pointerType:v}))}}}};return Object.keys(ot).filter(function(c){return Number.isNaN(Number(c))&&!c.endsWith("_Departed")&&a[c]!==!1}).forEach(function(c){var d=Ar(c),p=f(c);if(window.PointerEvent)switch(ot[c]){case ot.MouseDown:case ot.MouseUp:d=d.replace("mouse","pointer");break;case ot.TouchStart:case ot.TouchEnd:return}l.push(et(d,p,n))}),he(function(){l.forEach(function(c){return c()})})}function lm(e){var r=e.scrollCb,n=e.doc,t=e.mirror,i=e.blockClass,o=e.blockSelector,s=e.sampling,a=he(Ti(he(function(l){var u=Wi(l);if(!(!u||tt(u,i,o,!0))){var f=t.getId(u);if(u===n&&n.defaultView){var c=Jp(n.defaultView);r({id:f,x:c.left,y:c.top})}else r({id:f,x:u.scrollLeft,y:u.scrollTop})}}),s.scroll||100));return et("scroll",a,n)}function qx(e,r){var n=e.viewportResizeCb,t=r.win,i=-1,o=-1,s=he(Ti(he(function(){var a=Qp(),l=Xp();(i!==a||o!==l)&&(n({width:Number(l),height:Number(a)}),i=a,o=l)}),200));return et("resize",s,t)}var Hx=["INPUT","TEXTAREA","SELECT"],Pd=new WeakMap;function Gx(e){var r=e.inputCb,n=e.doc,t=e.mirror,i=e.blockClass,o=e.blockSelector,s=e.ignoreClass,a=e.ignoreSelector,l=e.maskInputOptions,u=e.maskInputFn,f=e.sampling,c=e.userTriggeredOnInput;function d(x){var C=Wi(x),T=x.isTrusted,I=C&&C.tagName;if(C&&I==="OPTION"&&(C=le.parentElement(C)),!(!C||!I||Hx.indexOf(I)<0||tt(C,i,o,!0))&&!(C.classList.contains(s)||a&&C.matches(a))){var O=C.value,N=!1,P=Xo(C)||"";P==="radio"||P==="checkbox"?N=C.checked:(l[I.toLowerCase()]||l[P])&&(O=Qo({element:C,maskInputOptions:l,tagName:I,type:P,value:O,maskInputFn:u})),p(C,c?{text:O,isChecked:N,userTriggered:T}:{text:O,isChecked:N});var E=C.name;P==="radio"&&E&&N&&n.querySelectorAll('input[type="radio"][name="'+E+'"]').forEach(function(A){if(A!==C){var R=A.value;p(A,c?{text:R,isChecked:!N,userTriggered:!1}:{text:R,isChecked:!N})}})}}function p(x,C){var T=Pd.get(x);if(!T||T.text!==C.text||T.isChecked!==C.isChecked){Pd.set(x,C);var I=t.getId(x);he(r)(re({},C,{id:I}))}}var v=f.input==="last"?["change"]:["input","change"],b=v.map(function(x){return et(x,he(d),n)}),g=n.defaultView;if(!g)return function(){b.forEach(function(x){return x()})};var _=g.Object.getOwnPropertyDescriptor(g.HTMLInputElement.prototype,"value"),w=[[g.HTMLInputElement.prototype,"value"],[g.HTMLInputElement.prototype,"checked"],[g.HTMLSelectElement.prototype,"value"],[g.HTMLTextAreaElement.prototype,"value"],[g.HTMLSelectElement.prototype,"selectedIndex"],[g.HTMLOptionElement.prototype,"selected"]];if(_&&_.set){var S;(S=b).push.apply(S,[].concat(w.map(function(x){return Bs(x[0],x[1],{set:function(){he(d)({target:this,isTrusted:!1})}},!1,g)})))}return he(function(){b.forEach(function(x){return x()})})}function cs(e){var r=[];function n(t,i){if(Io("CSSGroupingRule")&&W(t.parentRule,CSSGroupingRule)||Io("CSSMediaRule")&&W(t.parentRule,CSSMediaRule)||Io("CSSSupportsRule")&&W(t.parentRule,CSSSupportsRule)||Io("CSSConditionRule")&&W(t.parentRule,CSSConditionRule)){var o=Array.from(t.parentRule.cssRules),s=o.indexOf(t);i.unshift(s)}else if(t.parentStyleSheet){var a=Array.from(t.parentStyleSheet.cssRules),l=a.indexOf(t);i.unshift(l)}return i}return n(e,r)}function rr(e,r,n){var t,i;return e?(e.ownerNode?t=r.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:t}):{}}function Kx(e,r){var n=e.styleSheetRuleCb,t=e.mirror,i=e.stylesheetManager,o=r.win;if(!o.CSSStyleSheet||!o.CSSStyleSheet.prototype)return function(){};var s=o.CSSStyleSheet.prototype.insertRule;o.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:he(function(d,p,v){var b=v[0],g=v[1],_=rr(p,t,i.styleMirror),w=_.id,S=_.styleId;return(w&&w!==-1||S&&S!==-1)&&n({id:w,styleId:S,adds:[{rule:b,index:g}]}),d.apply(p,v)})}),o.CSSStyleSheet.prototype.addRule=function(d,p,v){v===void 0&&(v=this.cssRules.length);var b=d+" { "+p+" }";return o.CSSStyleSheet.prototype.insertRule.apply(this,[b,v])};var a=o.CSSStyleSheet.prototype.deleteRule;o.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:he(function(d,p,v){var b=v[0],g=rr(p,t,i.styleMirror),_=g.id,w=g.styleId;return(_&&_!==-1||w&&w!==-1)&&n({id:_,styleId:w,removes:[{index:b}]}),d.apply(p,v)})}),o.CSSStyleSheet.prototype.removeRule=function(d){return o.CSSStyleSheet.prototype.deleteRule.apply(this,[d])};var l;o.CSSStyleSheet.prototype.replace&&(l=o.CSSStyleSheet.prototype.replace,o.CSSStyleSheet.prototype.replace=new Proxy(l,{apply:he(function(d,p,v){var b=v[0],g=rr(p,t,i.styleMirror),_=g.id,w=g.styleId;return(_&&_!==-1||w&&w!==-1)&&n({id:_,styleId:w,replace:b}),d.apply(p,v)})}));var u;o.CSSStyleSheet.prototype.replaceSync&&(u=o.CSSStyleSheet.prototype.replaceSync,o.CSSStyleSheet.prototype.replaceSync=new Proxy(u,{apply:he(function(d,p,v){var b=v[0],g=rr(p,t,i.styleMirror),_=g.id,w=g.styleId;return(_&&_!==-1||w&&w!==-1)&&n({id:_,styleId:w,replaceSync:b}),d.apply(p,v)})}));var f={};Ao("CSSGroupingRule")?f.CSSGroupingRule=o.CSSGroupingRule:(Ao("CSSMediaRule")&&(f.CSSMediaRule=o.CSSMediaRule),Ao("CSSConditionRule")&&(f.CSSConditionRule=o.CSSConditionRule),Ao("CSSSupportsRule")&&(f.CSSSupportsRule=o.CSSSupportsRule));var c={};return Object.entries(f).forEach(function(d){var p=d[0],v=d[1];c[p]={insertRule:v.prototype.insertRule,deleteRule:v.prototype.deleteRule},v.prototype.insertRule=new Proxy(c[p].insertRule,{apply:he(function(b,g,_){var w=_[0],S=_[1],x=rr(g.parentStyleSheet,t,i.styleMirror),C=x.id,T=x.styleId;return(C&&C!==-1||T&&T!==-1)&&n({id:C,styleId:T,adds:[{rule:w,index:[].concat(cs(g),[S||0])}]}),b.apply(g,_)})}),v.prototype.deleteRule=new Proxy(c[p].deleteRule,{apply:he(function(b,g,_){var w=_[0],S=rr(g.parentStyleSheet,t,i.styleMirror),x=S.id,C=S.styleId;return(x&&x!==-1||C&&C!==-1)&&n({id:x,styleId:C,removes:[{index:[].concat(cs(g),[w])}]}),b.apply(g,_)})})}),he(function(){o.CSSStyleSheet.prototype.insertRule=s,o.CSSStyleSheet.prototype.deleteRule=a,l&&(o.CSSStyleSheet.prototype.replace=l),u&&(o.CSSStyleSheet.prototype.replaceSync=u),Object.entries(f).forEach(function(d){var p=d[0],v=d[1];v.prototype.insertRule=c[p].insertRule,v.prototype.deleteRule=c[p].deleteRule})})}function um(e,r){var n=e.mirror,t=e.stylesheetManager,i,o,s,a=null;r.nodeName==="#document"?a=n.getId(r):a=n.getId(le.host(r));var l=r.nodeName==="#document"?(i=r.defaultView)==null?void 0:i.Document:(s=(o=r.ownerDocument)==null?void 0:o.defaultView)==null?void 0:s.ShadowRoot,u=l?.prototype?Object.getOwnPropertyDescriptor(l?.prototype,"adoptedStyleSheets"):void 0;return a===null||a===-1||!l||!u?function(){}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:function(){var c;return(c=u.get)==null?void 0:c.call(this)},set:function(c){var d,p=(d=u.set)==null?void 0:d.call(this,c);if(a!==null&&a!==-1)try{t.adoptStyleSheets(c,a)}catch{}return p}}),he(function(){Object.defineProperty(r,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:u.get,set:u.set})}))}function Yx(e,r){var n=e.styleDeclarationCb,t=e.mirror,i=e.ignoreCSSAttributes,o=e.stylesheetManager,s=r.win,a=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:he(function(u,f,c){var d,p=c[0],v=c[1],b=c[2];if(i.has(p))return a.apply(f,[p,v,b]);var g=rr((d=f.parentRule)==null?void 0:d.parentStyleSheet,t,o.styleMirror),_=g.id,w=g.styleId;return(_&&_!==-1||w&&w!==-1)&&n({id:_,styleId:w,set:{property:p,value:v,priority:b},index:cs(f.parentRule)}),u.apply(f,c)})});var l=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(l,{apply:he(function(u,f,c){var d,p=c[0];if(i.has(p))return l.apply(f,[p]);var v=rr((d=f.parentRule)==null?void 0:d.parentStyleSheet,t,o.styleMirror),b=v.id,g=v.styleId;return(b&&b!==-1||g&&g!==-1)&&n({id:b,styleId:g,remove:{property:p},index:cs(f.parentRule)}),u.apply(f,c)})}),he(function(){s.CSSStyleDeclaration.prototype.setProperty=a,s.CSSStyleDeclaration.prototype.removeProperty=l})}function Jx(e){var r=e.mediaInteractionCb,n=e.blockClass,t=e.blockSelector,i=e.mirror,o=e.sampling,s=e.doc,a=he(function(u){return Ti(he(function(f){var c=Wi(f);if(!(!c||tt(c,n,t,!0))){var d=c.currentTime,p=c.volume,v=c.muted,b=c.playbackRate,g=c.loop;r({type:u,id:i.getId(c),currentTime:d,volume:p,muted:v,playbackRate:b,loop:g})}}),o.media||500)}),l=[et("play",a(Yr.Play),s),et("pause",a(Yr.Pause),s),et("seeked",a(Yr.Seeked),s),et("volumechange",a(Yr.VolumeChange),s),et("ratechange",a(Yr.RateChange),s)];return he(function(){l.forEach(function(u){return u()})})}function Qx(e){var r=e.fontCb,n=e.doc,t=n.defaultView;if(!t)return function(){};var i=[],o=new WeakMap,s=t.FontFace;t.FontFace=function(u,f,c){var d=new s(u,f,c);return o.set(d,{family:u,buffer:typeof f!="string",descriptors:c,fontSource:typeof f=="string"?f:JSON.stringify(Array.from(new Uint8Array(f)))}),d};var a=Mr(n.fonts,"add",function(l){return function(u){return setTimeout(he(function(){var f=o.get(u);f&&(r(f),o.delete(u))}),0),l.apply(this,[u])}});return i.push(function(){t.FontFace=s}),i.push(a),he(function(){i.forEach(function(l){return l()})})}function Xx(e){var r=e.doc,n=e.mirror,t=e.blockClass,i=e.blockSelector,o=e.selectionCb,s=!0,a=he(function(){var l=r.getSelection();if(!(!l||s&&l?.isCollapsed)){s=l.isCollapsed||!1;for(var u=[],f=l.rangeCount||0,c=0;c<f;c++){var d=l.getRangeAt(c),p=d.startContainer,v=d.startOffset,b=d.endContainer,g=d.endOffset,_=tt(p,t,i,!0)||tt(b,t,i,!0);_||u.push({start:n.getId(p),startOffset:v,end:n.getId(b),endOffset:g})}o({ranges:u})}});return a(),et("selectionchange",a)}function Zx(e){var r=e.doc,n=e.customElementCb,t=r.defaultView;if(!t||!t.customElements)return function(){};var i=Mr(t.customElements,"define",function(o){return function(s,a,l){try{n({define:{name:s}})}catch{console.warn("Custom element callback failed for "+s)}return o.apply(this,[s,a,l])}});return i}function eC(e,r){var n=e.mutationCb,t=e.mousemoveCb,i=e.mouseInteractionCb,o=e.scrollCb,s=e.viewportResizeCb,a=e.inputCb,l=e.mediaInteractionCb,u=e.styleSheetRuleCb,f=e.styleDeclarationCb,c=e.canvasMutationCb,d=e.fontCb,p=e.selectionCb,v=e.customElementCb;e.mutationCb=function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];if(r.mutation){var w;(w=r).mutation.apply(w,[].concat(g))}n.apply(void 0,[].concat(g))},e.mousemoveCb=function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];if(r.mousemove){var w;(w=r).mousemove.apply(w,[].concat(g))}t.apply(void 0,[].concat(g))},e.mouseInteractionCb=function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];if(r.mouseInteraction){var w;(w=r).mouseInteraction.apply(w,[].concat(g))}i.apply(void 0,[].concat(g))},e.scrollCb=function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];if(r.scroll){var w;(w=r).scroll.apply(w,[].concat(g))}o.apply(void 0,[].concat(g))},e.viewportResizeCb=function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];if(r.viewportResize){var w;(w=r).viewportResize.apply(w,[].concat(g))}s.apply(void 0,[].concat(g))},e.inputCb=function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];if(r.input){var w;(w=r).input.apply(w,[].concat(g))}a.apply(void 0,[].concat(g))},e.mediaInteractionCb=function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];if(r.mediaInteaction){var w;(w=r).mediaInteaction.apply(w,[].concat(g))}l.apply(void 0,[].concat(g))},e.styleSheetRuleCb=function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];if(r.styleSheetRule){var w;(w=r).styleSheetRule.apply(w,[].concat(g))}u.apply(void 0,[].concat(g))},e.styleDeclarationCb=function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];if(r.styleDeclaration){var w;(w=r).styleDeclaration.apply(w,[].concat(g))}f.apply(void 0,[].concat(g))},e.canvasMutationCb=function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];if(r.canvasMutation){var w;(w=r).canvasMutation.apply(w,[].concat(g))}c.apply(void 0,[].concat(g))},e.fontCb=function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];if(r.font){var w;(w=r).font.apply(w,[].concat(g))}d.apply(void 0,[].concat(g))},e.selectionCb=function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];if(r.selection){var w;(w=r).selection.apply(w,[].concat(g))}p.apply(void 0,[].concat(g))},e.customElementCb=function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];if(r.customElement){var w;(w=r).customElement.apply(w,[].concat(g))}v.apply(void 0,[].concat(g))}}function tC(e,r){r===void 0&&(r={});var n=e.doc.defaultView;if(!n)return function(){};eC(e,r);var t;e.recordDOM&&(t=am(e,e.doc));var i=zx(e),o=Vx(e),s=lm(e),a=qx(e,{win:n}),l=Gx(e),u=Jx(e),f=function(){},c=function(){},d=function(){},p=function(){};e.recordDOM&&(f=Kx(e,{win:n}),c=um(e,e.doc),d=Yx(e,{win:n}),e.collectFonts&&(p=Qx(e)));for(var v=Xx(e),b=Zx(e),g=[],_=D(e.plugins),w;!(w=_()).done;){var S=w.value;g.push(S.observer(S.callback,n,S.options))}return he(function(){kr.forEach(function(x){return x.reset()}),t?.disconnect(),i(),o(),s(),a(),l(),u(),f(),c(),d(),p(),v(),b(),g.forEach(function(x){return x()})})}function Io(e){return typeof window[e]<"u"}function Ao(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var Md=(function(){function e(n){F(this,"iframeIdToRemoteIdMap",new WeakMap),F(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=n}var r=e.prototype;return r.getId=function(t,i,o,s){var a=o||this.getIdToRemoteIdMap(t),l=s||this.getRemoteIdToIdMap(t),u=a.get(i);return u||(u=this.generateIdFn(),a.set(i,u),l.set(u,i)),u},r.getIds=function(t,i){var o=this,s=this.getIdToRemoteIdMap(t),a=this.getRemoteIdToIdMap(t);return i.map(function(l){return o.getId(t,l,s,a)})},r.getRemoteId=function(t,i,o){var s=o||this.getRemoteIdToIdMap(t);if(typeof i!="number")return i;var a=s.get(i);return a||-1},r.getRemoteIds=function(t,i){var o=this,s=this.getRemoteIdToIdMap(t);return i.map(function(a){return o.getRemoteId(t,a,s)})},r.reset=function(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)},r.getIdToRemoteIdMap=function(t){var i=this.iframeIdToRemoteIdMap.get(t);return i||(i=new Map,this.iframeIdToRemoteIdMap.set(t,i)),i},r.getRemoteIdToIdMap=function(t){var i=this.iframeRemoteIdToIdMap.get(t);return i||(i=new Map,this.iframeRemoteIdToIdMap.set(t,i)),i},e})(),rC=(function(){function e(n){F(this,"iframes",new WeakMap),F(this,"crossOriginIframeMap",new WeakMap),F(this,"crossOriginIframeMirror",new Md(Ph)),F(this,"crossOriginIframeStyleMirror"),F(this,"crossOriginIframeRootIdMap",new WeakMap),F(this,"mirror"),F(this,"mutationCb"),F(this,"wrappedEmit"),F(this,"loadListener"),F(this,"stylesheetManager"),F(this,"recordCrossOriginIframes"),this.mutationCb=n.mutationCb,this.wrappedEmit=n.wrappedEmit,this.stylesheetManager=n.stylesheetManager,this.recordCrossOriginIframes=n.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Md(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=n.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}var r=e.prototype;return r.addIframe=function(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)},r.addLoadListener=function(t){this.loadListener=t},r.attachIframe=function(t,i){var o,s;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:i}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((o=t.contentWindow)==null||o.addEventListener("message",this.handleMessage.bind(this))),(s=this.loadListener)==null||s.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))},r.handleMessage=function(t){var i=t;if(!(i.data.type!=="rrweb"||i.origin!==i.data.origin)){var o=t.source;if(o){var s=this.crossOriginIframeMap.get(t.source);if(s){var a=this.transformCrossOriginEvent(s,i.data.event);a&&this.wrappedEmit(a,i.data.isCheckout)}}}},r.transformCrossOriginEvent=function(t,i){var o=this,s;switch(i.type){case ue.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(i.data.node,t);var a=i.data.node.id;return this.crossOriginIframeRootIdMap.set(t,a),this.patchRootIdOnNode(i.data.node,a),{timestamp:i.timestamp,type:ue.IncrementalSnapshot,data:{source:Y.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:i.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case ue.Meta:case ue.Load:case ue.DomContentLoaded:return!1;case ue.Plugin:return i;case ue.Custom:return this.replaceIds(i.data.payload,t,["id","parentId","previousId","nextId"]),i;case ue.IncrementalSnapshot:switch(i.data.source){case Y.Mutation:return i.data.adds.forEach(function(l){o.replaceIds(l,t,["parentId","nextId","previousId"]),o.replaceIdOnNode(l.node,t);var u=o.crossOriginIframeRootIdMap.get(t);u&&o.patchRootIdOnNode(l.node,u)}),i.data.removes.forEach(function(l){o.replaceIds(l,t,["parentId","id"])}),i.data.attributes.forEach(function(l){o.replaceIds(l,t,["id"])}),i.data.texts.forEach(function(l){o.replaceIds(l,t,["id"])}),i;case Y.Drag:case Y.TouchMove:case Y.MouseMove:return i.data.positions.forEach(function(l){o.replaceIds(l,t,["id"])}),i;case Y.ViewportResize:return!1;case Y.MediaInteraction:case Y.MouseInteraction:case Y.Scroll:case Y.CanvasMutation:case Y.Input:return this.replaceIds(i.data,t,["id"]),i;case Y.StyleSheetRule:case Y.StyleDeclaration:return this.replaceIds(i.data,t,["id"]),this.replaceStyleIds(i.data,t,["styleId"]),i;case Y.Font:return i;case Y.Selection:return i.data.ranges.forEach(function(l){o.replaceIds(l,t,["start","end"])}),i;case Y.AdoptedStyleSheet:return this.replaceIds(i.data,t,["id"]),this.replaceStyleIds(i.data,t,["styleIds"]),(s=i.data.styles)==null||s.forEach(function(l){o.replaceStyleIds(l,t,["styleId"])}),i}}return!1},r.replace=function(t,i,o,s){for(var a=D(s),l;!(l=a()).done;){var u=l.value;!Array.isArray(i[u])&&typeof i[u]!="number"||(Array.isArray(i[u])?i[u]=t.getIds(o,i[u]):i[u]=t.getId(o,i[u]))}return i},r.replaceIds=function(t,i,o){return this.replace(this.crossOriginIframeMirror,t,i,o)},r.replaceStyleIds=function(t,i,o){return this.replace(this.crossOriginIframeStyleMirror,t,i,o)},r.replaceIdOnNode=function(t,i){var o=this;this.replaceIds(t,i,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(function(s){o.replaceIdOnNode(s,i)})},r.patchRootIdOnNode=function(t,i){var o=this;t.type!==om.Document&&!t.rootId&&(t.rootId=i),"childNodes"in t&&t.childNodes.forEach(function(s){o.patchRootIdOnNode(s,i)})},e})(),nC=(function(){function e(n){F(this,"shadowDoms",new WeakSet),F(this,"mutationCb"),F(this,"scrollCb"),F(this,"bypassOptions"),F(this,"mirror"),F(this,"restoreHandlers",[]),this.mutationCb=n.mutationCb,this.scrollCb=n.scrollCb,this.bypassOptions=n.bypassOptions,this.mirror=n.mirror,this.init()}var r=e.prototype;return r.init=function(){this.reset(),this.patchAttachShadow(Element,document)},r.addShadowRoot=function(t,i){var o=this;if(hi(t)&&!this.shadowDoms.has(t)){this.shadowDoms.add(t);var s=am(re({},this.bypassOptions,{doc:i,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(function(){return s.disconnect()}),this.restoreHandlers.push(lm(re({},this.bypassOptions,{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(function(){t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&o.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,o.mirror.getId(le.host(t))),o.restoreHandlers.push(um({mirror:o.mirror,stylesheetManager:o.bypassOptions.stylesheetManager},t))},0)}},r.observeAttachShadow=function(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)},r.patchAttachShadow=function(t,i){var o=this;this.restoreHandlers.push(Mr(t.prototype,"attachShadow",function(s){return function(a){var l=s.call(this,a),u=le.shadowRoot(this);return u&&im(this)&&o.addShadowRoot(u,i),l}}))},r.reset=function(){this.restoreHandlers.forEach(function(t){try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet},e})(),Xr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(li=0;li<Xr.length;li++)iC[Xr.charCodeAt(li)]=li;var li,oC=function(r){var n=new Uint8Array(r),t,i=n.length,o="";for(t=0;t<i;t+=3)o+=Xr[n[t]>>2],o+=Xr[(n[t]&3)<<4|n[t+1]>>4],o+=Xr[(n[t+1]&15)<<2|n[t+2]>>6],o+=Xr[n[t+2]&63];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},Dd=new Map;function sC(e,r){var n=Dd.get(e);return n||(n=new Map,Dd.set(e,n)),n.has(r)||n.set(r,[]),n.get(r)}var cm=function(e,r,n){if(!(!e||!(dm(e,r)||(typeof e>"u"?"undefined":z(e))==="object"))){var t=e.constructor.name,i=sC(n,t),o=i.indexOf(e);return o===-1&&(o=i.length,i.push(e)),o}};function Go(e,r,n){if(W(e,Array))return e.map(function(v){return Go(v,r,n)});if(e===null)return e;if(W(e,Float32Array)||W(e,Float64Array)||W(e,Int32Array)||W(e,Uint32Array)||W(e,Uint8Array)||W(e,Uint16Array)||W(e,Int16Array)||W(e,Int8Array)||W(e,Uint8ClampedArray)){var t=e.constructor.name;return{rr_type:t,args:[Object.values(e)]}}else if(W(e,ArrayBuffer)){var i=e.constructor.name,o=oC(e);return{rr_type:i,base64:o}}else if(W(e,DataView)){var s=e.constructor.name;return{rr_type:s,args:[Go(e.buffer,r,n),e.byteOffset,e.byteLength]}}else if(W(e,HTMLImageElement)){var a=e.constructor.name,l=e.src;return{rr_type:a,src:l}}else if(W(e,HTMLCanvasElement)){var u="HTMLImageElement",f=e.toDataURL();return{rr_type:u,src:f}}else if(W(e,ImageData)){var c=e.constructor.name;return{rr_type:c,args:[Go(e.data,r,n),e.width,e.height]}}else if(dm(e,r)||(typeof e>"u"?"undefined":z(e))==="object"){var d=e.constructor.name,p=cm(e,r,n);return{rr_type:d,index:p}}return e}var fm=function(e,r,n){return e.map(function(t){return Go(t,r,n)})},dm=function(e,r){var n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"],t=n.filter(function(i){return typeof r[i]=="function"});return!!t.find(function(i){return W(e,r[i])})};function aC(e,r,n,t){for(var i=function(){var u=l.value;try{if(typeof r.CanvasRenderingContext2D.prototype[u]!="function")return"continue";var f=Mr(r.CanvasRenderingContext2D.prototype,u,function(d){return function(){for(var p=this,v=arguments.length,b=new Array(v),g=0;g<v;g++)b[g]=arguments[g];return tt(this.canvas,n,t,!0)||setTimeout(function(){var _=fm(b,r,p);e(p.canvas,{type:cn["2D"],property:u,args:_})},0),d.apply(this,b)}});o.push(f)}catch{var c=Bs(r.CanvasRenderingContext2D.prototype,u,{set:function(v){e(this.canvas,{type:cn["2D"],property:u,args:[v],setter:!0})}});o.push(c)}},o=[],s=Object.getOwnPropertyNames(r.CanvasRenderingContext2D.prototype),a=D(s),l;!(l=a()).done;)i();return function(){o.forEach(function(u){return u()})}}function lC(e){return e==="experimental-webgl"?"webgl":e}function Ld(e,r,n,t){var i=[];try{var o=Mr(e.HTMLCanvasElement.prototype,"getContext",function(s){return function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),f=1;f<l;f++)u[f-1]=arguments[f];if(!tt(this,r,n,!0)){var c=lC(a);if("__context"in this||(this.__context=c),t&&["webgl","webgl2"].includes(c))if(u[0]&&z(u[0])==="object"){var d=u[0];d.preserveDrawingBuffer||(d.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return s.apply(this,[].concat([a],u))}});i.push(o)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){i.forEach(function(s){return s()})}}function Rd(e,r,n,t,i,o){for(var s=function(){var c=f.value;if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(c))return"continue";try{if(typeof e[c]!="function")return"continue";var d=Mr(e,c,function(v){return function(){for(var b=arguments.length,g=new Array(b),_=0;_<b;_++)g[_]=arguments[_];var w=v.apply(this,g);if(cm(w,o,this),"tagName"in this.canvas&&!tt(this.canvas,t,i,!0)){var S=fm(g,o,this),x={type:r,property:c,args:S};n(this.canvas,x)}return w}});a.push(d)}catch{var p=Bs(e,c,{set:function(g){n(this.canvas,{type:r,property:c,args:[g],setter:!0})}});a.push(p)}},a=[],l=Object.getOwnPropertyNames(e),u=D(l),f;!(f=u()).done;)s();return a}function uC(e,r,n,t){var i,o=[];if((i=o).push.apply(i,[].concat(Rd(r.WebGLRenderingContext.prototype,cn.WebGL,e,n,t,r))),typeof r.WebGL2RenderingContext<"u"){var s;(s=o).push.apply(s,[].concat(Rd(r.WebGL2RenderingContext.prototype,cn.WebGL2,e,n,t,r)))}return function(){o.forEach(function(a){return a()})}}var hm="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",cC=function(e){return Uint8Array.from(atob(e),function(r){return r.charCodeAt(0)})},Fd=typeof window<"u"&&window.Blob&&new Blob([cC(hm)],{type:"text/javascript;charset=utf-8"});function fC(e){var r;try{if(r=Fd&&(window.URL||window.webkitURL).createObjectURL(Fd),!r)throw"";var n=new Worker(r,{name:e?.name});return n.addEventListener("error",function(){(window.URL||window.webkitURL).revokeObjectURL(r)}),n}catch{return new Worker("data:text/javascript;base64,"+hm,{name:e?.name})}finally{r&&(window.URL||window.webkitURL).revokeObjectURL(r)}}var dC=(function(){function e(n){var t=this;F(this,"pendingCanvasMutations",new Map),F(this,"rafStamps",{latestId:0,invokeId:null}),F(this,"mirror"),F(this,"mutationCb"),F(this,"resetObservers"),F(this,"frozen",!1),F(this,"locked",!1),F(this,"processMutation",function(c,d){var p=t.rafStamps.invokeId&&t.rafStamps.latestId!==t.rafStamps.invokeId;(p||!t.rafStamps.invokeId)&&(t.rafStamps.invokeId=t.rafStamps.latestId),t.pendingCanvasMutations.has(c)||t.pendingCanvasMutations.set(c,[]),t.pendingCanvasMutations.get(c).push(d)});var i=n.sampling,o=i===void 0?"all":i,s=n.win,a=n.blockClass,l=n.blockSelector,u=n.recordCanvas,f=n.dataURLOptions;this.mutationCb=n.mutationCb,this.mirror=n.mirror,u&&o==="all"&&this.initCanvasMutationObserver(s,a,l),u&&typeof o=="number"&&this.initCanvasFPSObserver(o,s,a,l,{dataURLOptions:f})}var r=e.prototype;return r.reset=function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()},r.freeze=function(){this.frozen=!0},r.unfreeze=function(){this.frozen=!1},r.lock=function(){this.locked=!0},r.unlock=function(){this.locked=!1},r.initCanvasFPSObserver=function(t,i,o,s,a){var l=this,u=Ld(i,o,s,!0),f=new Map,c=new fC;c.onmessage=function(_){var w=_.data.id;if(f.set(w,!1),"base64"in _.data){var S=_.data,x=S.base64,C=S.type,T=S.width,I=S.height;l.mutationCb({id:w,type:cn["2D"],commands:[{property:"clearRect",args:[0,0,T,I]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:x}],type:C}]},0,0]}]})}};var d=1e3/t,p=0,v,b=function(){var _=[];return i.document.querySelectorAll("canvas").forEach(function(w){tt(w,o,s,!0)||_.push(w)}),_},g=function(_){if(p&&_-p<d){v=requestAnimationFrame(g);return}p=_;var w=l;b().forEach(As(function(S){var x,C,T,I;return Ir(this,function(O){switch(O.label){case 0:return C=w.mirror.getId(S),f.get(C)?[2]:S.width===0||S.height===0?[2]:(f.set(C,!0),["webgl","webgl2"].includes(S.__context)&&(T=S.getContext(S.__context),((x=T?.getContextAttributes())==null?void 0:x.preserveDrawingBuffer)===!1&&T.clear(T.COLOR_BUFFER_BIT)),[4,createImageBitmap(S)]);case 1:return I=O.sent(),c.postMessage({id:C,bitmap:I,width:S.width,height:S.height,dataURLOptions:a.dataURLOptions},[I]),[2]}})})),v=requestAnimationFrame(g)};v=requestAnimationFrame(g),this.resetObservers=function(){u(),cancelAnimationFrame(v)}},r.initCanvasMutationObserver=function(t,i,o){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var s=Ld(t,i,o,!1),a=aC(this.processMutation.bind(this),t,i,o),l=uC(this.processMutation.bind(this),t,i,o);this.resetObservers=function(){s(),a(),l()}},r.startPendingCanvasMutationFlusher=function(){var t=this;requestAnimationFrame(function(){return t.flushPendingCanvasMutations()})},r.startRAFTimestamping=function(){var t=this,i=function(o){t.rafStamps.latestId=o,requestAnimationFrame(i)};requestAnimationFrame(i)},r.flushPendingCanvasMutations=function(){var t=this;this.pendingCanvasMutations.forEach(function(i,o){var s=t.mirror.getId(o);t.flushPendingCanvasMutationFor(o,s)}),requestAnimationFrame(function(){return t.flushPendingCanvasMutations()})},r.flushPendingCanvasMutationFor=function(t,i){if(!(this.frozen||this.locked)){var o=this.pendingCanvasMutations.get(t);if(!(!o||i===-1)){var s=o.map(function(l){l.type;var u=Er(l,["type"]);return u}),a=o[0].type;this.mutationCb({id:i,type:a,commands:s}),this.pendingCanvasMutations.delete(t)}}},e})(),hC=(function(){function e(n){F(this,"trackedLinkElements",new WeakSet),F(this,"mutationCb"),F(this,"adoptedStyleSheetCb"),F(this,"styleMirror",new Dx),this.mutationCb=n.mutationCb,this.adoptedStyleSheetCb=n.adoptedStyleSheetCb}var r=e.prototype;return r.attachLinkElement=function(t,i){"_cssText"in i.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:i.id,attributes:i.attributes}]}),this.trackLinkElement(t)},r.trackLinkElement=function(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))},r.adoptStyleSheets=function(t,i){var o,s=function(){var c=f.value,d=void 0;o.styleMirror.has(c)?d=o.styleMirror.getId(c):(d=o.styleMirror.add(c),l.push({styleId:d,rules:Array.from(c.rules||CSSRule,function(p,v){return{rule:Oh(p,c.href),index:v}})})),a.styleIds.push(d)};if(t.length!==0){for(var a={id:i,styleIds:[]},l=[],u=D(t),f;!(f=u()).done;)o=this,s();l.length>0&&(a.styles=l),this.adoptedStyleSheetCb(a)}},r.reset=function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet},r.trackStylesheetInLinkElement=function(t){},e})(),pC=(function(){function e(){F(this,"nodeMap",new WeakMap),F(this,"active",!1)}var r=e.prototype;return r.inOtherBuffer=function(t,i){var o=this.nodeMap.get(t);return o&&Array.from(o).some(function(s){return s!==i})},r.add=function(t,i){var o=this;this.active||(this.active=!0,requestAnimationFrame(function(){o.nodeMap=new WeakMap,o.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(i))},r.destroy=function(){},e})(),$e,Ko,nl,fs=!1;try{Array.from([1],function(e){return e*2})[0]!==2&&(Oo=document.createElement("iframe"),document.body.appendChild(Oo),Array.from=((Uf=Oo.contentWindow)==null?void 0:Uf.Array.from)||Array.from,document.body.removeChild(Oo))}catch(e){console.debug("Unable to override Array.from",e)}var Oo,gt=vb();function dr(e){e===void 0&&(e={});var r=e.emit,n=e.checkoutEveryNms,t=e.checkoutEveryNth,i=e.blockClass,o=i===void 0?"rr-block":i,s=e.blockSelector,a=s===void 0?null:s,l=e.ignoreClass,u=l===void 0?"rr-ignore":l,f=e.ignoreSelector,c=f===void 0?null:f,d=e.maskTextClass,p=d===void 0?"rr-mask":d,v=e.maskTextSelector,b=v===void 0?null:v,g=e.inlineStylesheet,_=g===void 0?!0:g,w=e.maskAllInputs,S=e.maskInputOptions,x=e.slimDOMOptions,C=e.maskInputFn,T=e.maskTextFn,I=e.hooks,O=e.packFn,N=e.sampling,P=N===void 0?{}:N,E=e.dataURLOptions,A=E===void 0?{}:E,R=e.mousemoveWait,B=e.recordDOM,U=B===void 0?!0:B,ee=e.recordCanvas,K=ee===void 0?!1:ee,H=e.recordCrossOriginIframes,ne=H===void 0?!1:H,He=e.recordAfter,at=He===void 0?e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load":He,Ye=e.userTriggeredOnInput,Lt=Ye===void 0?!1:Ye,Ze=e.collectFonts,bt=Ze===void 0?!1:Ze,fe=e.inlineImages,Rt=fe===void 0?!1:fe,Ft=e.plugins,$t=e.keepIframeSrcFn,_r=$t===void 0?function(){return!1}:$t,br=e.ignoreCSSAttributes,En=br===void 0?new Set([]):br,se=e.errorHandler;jx(se);var pe=ne?window.parent===window:!0,me=!1;if(!pe)try{window.parent.document&&(me=!1)}catch{me=!0}if(pe&&!r)throw new Error("emit function is required");if(!pe&&!me)return function(){};R!==void 0&&P.mousemove===void 0&&(P.mousemove=R),gt.reset();var ae=w===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0,hidden:!0}:S!==void 0?S:{password:!0},de=x===!0||x==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:x==="all",headMetaDescKeywords:x==="all",headTitleMutations:x==="all"}:x||{};Mx();var Te,Je=0,Ke=function(ve){for(var it=D(Ft||[]),V;!(V=it()).done;){var Le=V.value;Le.eventProcessor&&(ve=Le.eventProcessor(ve))}return O&&!me&&(ve=O(ve)),ve};$e=function(ve,it){var V,Le=ve;if(Le.timestamp=us(),(V=kr[0])!=null&&V.isFrozen()&&Le.type!==ue.FullSnapshot&&!(Le.type===ue.IncrementalSnapshot&&Le.data.source===Y.Mutation)&&kr.forEach(function(qg){return qg.unfreeze()}),pe)r?.(Ke(Le),it);else if(me){var Wg={type:"rrweb",event:Ke(Le),origin:window.location.origin,isCheckout:it};window.parent.postMessage(Wg,"*")}if(Le.type===ue.FullSnapshot)Te=Le,Je=0;else if(Le.type===ue.IncrementalSnapshot){if(Le.data.source===Y.Mutation&&Le.data.isAttachIframe)return;Je++;var zg=t&&Je>=t,Vg=n&&Le.timestamp-Te.timestamp>n;(zg||Vg)&&Ko(!0)}};for(var pt=function(ve){$e({type:ue.IncrementalSnapshot,data:re({source:Y.Mutation},ve)})},ut=function(ve){return $e({type:ue.IncrementalSnapshot,data:re({source:Y.Scroll},ve)})},wr=function(ve){return $e({type:ue.IncrementalSnapshot,data:re({source:Y.CanvasMutation},ve)})},Zt=function(ve){return $e({type:ue.IncrementalSnapshot,data:re({source:Y.AdoptedStyleSheet},ve)})},Bt=new hC({mutationCb:pt,adoptedStyleSheetCb:Zt}),Ut=new rC({mirror:gt,mutationCb:pt,stylesheetManager:Bt,recordCrossOriginIframes:ne,wrappedEmit:$e}),$r=D(Ft||[]),Rc;!(Rc=$r()).done;){var Fc=Rc.value;Fc.getMirror&&Fc.getMirror({nodeMirror:gt,crossOriginIframeMirror:Ut.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ut.crossOriginIframeStyleMirror})}var ma=new pC;nl=new dC({recordCanvas:K,mutationCb:wr,win:window,blockClass:o,blockSelector:a,mirror:gt,sampling:P.canvas,dataURLOptions:A});var Xi=new nC({mutationCb:pt,scrollCb:ut,bypassOptions:{blockClass:o,blockSelector:a,maskTextClass:p,maskTextSelector:b,inlineStylesheet:_,maskInputOptions:ae,dataURLOptions:A,maskTextFn:T,maskInputFn:C,recordCanvas:K,inlineImages:Rt,sampling:P,slimDOMOptions:de,iframeManager:Ut,stylesheetManager:Bt,canvasManager:nl,keepIframeSrcFn:_r,processedNodeManager:ma},mirror:gt});Ko=function(ve){if(ve===void 0&&(ve=!1),!!U){$e({type:ue.Meta,data:{href:window.location.href,width:Xp(),height:Qp()}},ve),Bt.reset(),Xi.init(),kr.forEach(function(V){return V.lock()});var it=Ub(document,{mirror:gt,blockClass:o,blockSelector:a,maskTextClass:p,maskTextSelector:b,inlineStylesheet:_,maskAllInputs:ae,maskTextFn:T,maskInputFn:C,slimDOM:de,dataURLOptions:A,recordCanvas:K,inlineImages:Rt,onSerialize:function(V){tm(V,gt)&&Ut.addIframe(V),rm(V,gt)&&Bt.trackLinkElement(V),Ql(V)&&Xi.addShadowRoot(le.shadowRoot(V),document)},onIframeLoad:function(V,Le){Ut.attachIframe(V,Le),Xi.observeAttachShadow(V)},onStylesheetLoad:function(V,Le){Bt.attachLinkElement(V,Le)},keepIframeSrcFn:_r});if(!it)return console.warn("Failed to snapshot the document");$e({type:ue.FullSnapshot,data:{node:it,initialOffset:Jp(window)}},ve),kr.forEach(function(V){return V.unlock()}),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Bt.adoptStyleSheets(document.adoptedStyleSheets,gt.getId(document))}};try{var In=[],$c=function(ve){var it;return he(tC)({mutationCb:pt,mousemoveCb:function(V,Le){return $e({type:ue.IncrementalSnapshot,data:{source:Le,positions:V}})},mouseInteractionCb:function(V){return $e({type:ue.IncrementalSnapshot,data:re({source:Y.MouseInteraction},V)})},scrollCb:ut,viewportResizeCb:function(V){return $e({type:ue.IncrementalSnapshot,data:re({source:Y.ViewportResize},V)})},inputCb:function(V){return $e({type:ue.IncrementalSnapshot,data:re({source:Y.Input},V)})},mediaInteractionCb:function(V){return $e({type:ue.IncrementalSnapshot,data:re({source:Y.MediaInteraction},V)})},styleSheetRuleCb:function(V){return $e({type:ue.IncrementalSnapshot,data:re({source:Y.StyleSheetRule},V)})},styleDeclarationCb:function(V){return $e({type:ue.IncrementalSnapshot,data:re({source:Y.StyleDeclaration},V)})},canvasMutationCb:wr,fontCb:function(V){return $e({type:ue.IncrementalSnapshot,data:re({source:Y.Font},V)})},selectionCb:function(V){$e({type:ue.IncrementalSnapshot,data:re({source:Y.Selection},V)})},customElementCb:function(V){$e({type:ue.IncrementalSnapshot,data:re({source:Y.CustomElement},V)})},blockClass:o,ignoreClass:u,ignoreSelector:c,maskTextClass:p,maskTextSelector:b,maskInputOptions:ae,inlineStylesheet:_,sampling:P,recordDOM:U,recordCanvas:K,inlineImages:Rt,userTriggeredOnInput:Lt,collectFonts:bt,doc:ve,maskInputFn:C,maskTextFn:T,keepIframeSrcFn:_r,blockSelector:a,slimDOMOptions:de,dataURLOptions:A,mirror:gt,iframeManager:Ut,stylesheetManager:Bt,shadowDomManager:Xi,processedNodeManager:ma,canvasManager:nl,ignoreCSSAttributes:En,plugins:((it=Ft?.filter(function(V){return V.observer}))==null?void 0:it.map(function(V){return{observer:V.observer,options:V.options,callback:function(Le){return $e({type:ue.Plugin,data:{plugin:V.name,payload:Le}})}}}))||[]},I)};Ut.addLoadListener(function(ve){try{In.push($c(ve.contentDocument))}catch(it){console.warn(it)}});var va=function(){Ko(),In.push($c(document)),fs=!0};return document.readyState==="interactive"||document.readyState==="complete"?va():(In.push(et("DOMContentLoaded",function(){$e({type:ue.DomContentLoaded,data:{}}),at==="DOMContentLoaded"&&va()})),In.push(et("load",function(){$e({type:ue.Load,data:{}}),at==="load"&&va()},window))),function(){In.forEach(function(ve){try{ve()}catch(V){var it=String(V).toLowerCase();it.includes("cross-origin")||console.warn(V)}}),ma.destroy(),fs=!1,Wx()}}catch(ve){console.warn(ve)}}dr.addCustomEvent=function(e,r){if(!fs)throw new Error("please add custom event after start recording");$e({type:ue.Custom,data:{tag:e,payload:r}})};dr.freezePage=function(){kr.forEach(function(e){return e.freeze()})};dr.takeFullSnapshot=function(e){if(!fs)throw new Error("please take full snapshot after start recording");Ko(e)};dr.mirror=gt;var $d;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})($d||($d={}));dr.addCustomEvent;dr.freezePage;dr.takeFullSnapshot;var Bd={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Ud={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},To={},mC=function(){return!!globalThis.Zone};function ec(e){if(To[e])return To[e];var r=globalThis[e],n=r.prototype,t=e in Bd?Bd[e]:void 0,i=!!(t&&t.every(function(f){var c,d;return!!((d=(c=Object.getOwnPropertyDescriptor(n,f))==null?void 0:c.get)!=null&&d.toString().includes("[native code]"))})),o=e in Ud?Ud[e]:void 0,s=!!(o&&o.every(function(f){var c;return typeof n[f]=="function"&&((c=n[f])==null?void 0:c.toString().includes("[native code]"))}));if(i&&s&&!mC())return To[e]=r.prototype,r.prototype;try{var a=document.createElement("iframe");document.body.appendChild(a);var l=a.contentWindow;if(!l)return r.prototype;var u=l[e].prototype;return document.body.removeChild(a),u?To[e]=u:n}catch{return n}}var il={};function hr(e,r,n){var t,i=e+"."+String(n);if(il[i])return il[i].call(r);var o=ec(e),s=(t=Object.getOwnPropertyDescriptor(o,n))==null?void 0:t.get;return s?(il[i]=s,s.call(r)):r[n]}var ol={};function pm(e,r,n){var t=e+"."+String(n);if(ol[t])return ol[t].bind(r);var i=ec(e),o=i[n];return typeof o!="function"?r[n]:(ol[t]=o,o.bind(r))}function vC(e){return hr("Node",e,"childNodes")}function gC(e){return hr("Node",e,"parentNode")}function yC(e){return hr("Node",e,"parentElement")}function _C(e){return hr("Node",e,"textContent")}function bC(e,r){return pm("Node",e,"contains")(r)}function wC(e){return pm("Node",e,"getRootNode")()}function SC(e){return!e||!("host"in e)?null:hr("ShadowRoot",e,"host")}function xC(e){return e.styleSheets}function CC(e){return!e||!("shadowRoot"in e)?null:hr("Element",e,"shadowRoot")}function kC(e,r){return hr("Element",e,"querySelector")(r)}function EC(e,r){return hr("Element",e,"querySelectorAll")(r)}function IC(){return ec("MutationObserver").constructor}function AC(e,r,n){try{if(!(r in e))return function(){};var t=e[r],i=n(t);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:t}})),e[r]=i,function(){e[r]=t}}catch{return function(){}}}var jd={childNodes:vC,parentNode:gC,parentElement:yC,textContent:_C,contains:bC,getRootNode:wC,host:SC,styleSheets:xC,shadowRoot:CC,querySelector:kC,querySelectorAll:EC,mutationObserver:IC,patch:AC};function Zl(e,r,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return Zl(jd.parentNode(e),r);for(var t=e.classList.length;t--;){var i=e.classList[t];if(r.test(i))return!0}return Zl(jd.parentNode(e),r)}function OC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function TC(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var n=function t(){return W(this,t)?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),n}var tc={exports:{}},ke=String,mm=function(){return{isColorSupported:!1,reset:ke,bold:ke,dim:ke,italic:ke,underline:ke,inverse:ke,hidden:ke,strikethrough:ke,black:ke,red:ke,green:ke,yellow:ke,blue:ke,magenta:ke,cyan:ke,white:ke,gray:ke,bgBlack:ke,bgRed:ke,bgGreen:ke,bgYellow:ke,bgBlue:ke,bgMagenta:ke,bgCyan:ke,bgWhite:ke}};tc.exports=mm();tc.exports.createColors=mm;var NC=tc.exports,PC={},MC=Object.freeze(Object.defineProperty({__proto__:null,default:PC},Symbol.toStringTag,{value:"Module"})),je=TC(MC),Wd=NC,zd=je,eu=(function(e){Ne(r,e);function r(t,i,o,s,a,l){var u;return u=e.call(this,t)||this,u.name="CssSyntaxError",u.reason=t,a&&(u.file=a),s&&(u.source=s),l&&(u.plugin=l),typeof i<"u"&&typeof o<"u"&&(typeof i=="number"?(u.line=i,u.column=o):(u.line=i.line,u.column=i.column,u.endLine=o.line,u.endColumn=o.column)),u.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(u,r),u}var n=r.prototype;return n.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},n.showSourceCode=function(i){var o=this;if(!this.source)return"";var s=this.source;i==null&&(i=Wd.isColorSupported),zd&&i&&(s=zd(s));var a=s.split(/\r?\n/),l=Math.max(this.line-3,0),u=Math.min(this.line+2,a.length),f=String(u).length,c,d;if(i){var p=Wd.createColors(!0),v=p.bold,b=p.gray,g=p.red;c=function(_){return v(g(_))},d=function(_){return b(_)}}else c=d=function(_){return _};return a.slice(l,u).map(function(_,w){var S=l+1+w,x=" "+(" "+S).slice(-f)+" | ";if(S===o.line){var C=d(x.replace(/\d/g," "))+_.slice(0,o.column-1).replace(/[^\t]/g," ");return c(">")+d(x)+_+`
 `+C+c("^")}return" "+d(x)+_}).join(`
`)},n.toString=function(){var i=this.showSourceCode();return i&&(i=`

`+i+`
`),this.name+": "+this.message+i},r})(bi(Error)),rc=eu;eu.default=eu;var pr={};pr.isClean=Symbol("isClean");pr.my=Symbol("my");var Vd={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function DC(e){return e[0].toUpperCase()+e.slice(1)}var tu=(function(){function e(n){this.builder=n}var r=e.prototype;return r.atrule=function(t,i){var o="@"+t.name,s=t.params?this.rawValue(t,"params"):"";if(typeof t.raws.afterName<"u"?o+=t.raws.afterName:s&&(o+=" "),t.nodes)this.block(t,o+s);else{var a=(t.raws.between||"")+(i?";":"");this.builder(o+s+a,t)}},r.beforeAfter=function(t,i){var o;t.type==="decl"?o=this.raw(t,null,"beforeDecl"):t.type==="comment"?o=this.raw(t,null,"beforeComment"):i==="before"?o=this.raw(t,null,"beforeRule"):o=this.raw(t,null,"beforeClose");for(var s=t.parent,a=0;s&&s.type!=="root";)a+=1,s=s.parent;if(o.includes(`
`)){var l=this.raw(t,null,"indent");if(l.length)for(var u=0;u<a;u++)o+=l}return o},r.block=function(t,i){var o=this.raw(t,"between","beforeOpen");this.builder(i+o+"{",t,"start");var s;t.nodes&&t.nodes.length?(this.body(t),s=this.raw(t,"after")):s=this.raw(t,"after","emptyBody"),s&&this.builder(s),this.builder("}",t,"end")},r.body=function(t){for(var i=t.nodes.length-1;i>0&&t.nodes[i].type==="comment";)i-=1;for(var o=this.raw(t,"semicolon"),s=0;s<t.nodes.length;s++){var a=t.nodes[s],l=this.raw(a,"before");l&&this.builder(l),this.stringify(a,i!==s||o)}},r.comment=function(t){var i=this.raw(t,"left","commentLeft"),o=this.raw(t,"right","commentRight");this.builder("/*"+i+t.text+o+"*/",t)},r.decl=function(t,i){var o=this.raw(t,"between","colon"),s=t.prop+o+this.rawValue(t,"value");t.important&&(s+=t.raws.important||" !important"),i&&(s+=";"),this.builder(s,t)},r.document=function(t){this.body(t)},r.raw=function(t,i,o){var s;if(o||(o=i),i&&(s=t.raws[i],typeof s<"u"))return s;var a=t.parent;if(o==="before"&&(!a||a.type==="root"&&a.first===t||a&&a.type==="document"))return"";if(!a)return Vd[o];var l=t.root();if(l.rawCache||(l.rawCache={}),typeof l.rawCache[o]<"u")return l.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(t,o);var u="raw"+DC(o);return this[u]?s=this[u](l,t):l.walk(function(f){if(s=f.raws[i],typeof s<"u")return!1}),typeof s>"u"&&(s=Vd[o]),l.rawCache[o]=s,s},r.rawBeforeClose=function(t){var i;return t.walk(function(o){if(o.nodes&&o.nodes.length>0&&typeof o.raws.after<"u")return i=o.raws.after,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),i&&(i=i.replace(/\S/g,"")),i},r.rawBeforeComment=function(t,i){var o;return t.walkComments(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(i,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o},r.rawBeforeDecl=function(t,i){var o;return t.walkDecls(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(i,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o},r.rawBeforeOpen=function(t){var i;return t.walk(function(o){if(o.type!=="decl"&&(i=o.raws.between,typeof i<"u"))return!1}),i},r.rawBeforeRule=function(t){var i;return t.walk(function(o){if(o.nodes&&(o.parent!==t||t.first!==o)&&typeof o.raws.before<"u")return i=o.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),i&&(i=i.replace(/\S/g,"")),i},r.rawColon=function(t){var i;return t.walkDecls(function(o){if(typeof o.raws.between<"u")return i=o.raws.between.replace(/[^\s:]/g,""),!1}),i},r.rawEmptyBody=function(t){var i;return t.walk(function(o){if(o.nodes&&o.nodes.length===0&&(i=o.raws.after,typeof i<"u"))return!1}),i},r.rawIndent=function(t){if(t.raws.indent)return t.raws.indent;var i;return t.walk(function(o){var s=o.parent;if(s&&s!==t&&s.parent&&s.parent===t&&typeof o.raws.before<"u"){var a=o.raws.before.split(`
`);return i=a[a.length-1],i=i.replace(/\S/g,""),!1}}),i},r.rawSemicolon=function(t){var i;return t.walk(function(o){if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(i=o.raws.semicolon,typeof i<"u"))return!1}),i},r.rawValue=function(t,i){var o=t[i],s=t.raws[i];return s&&s.value===o?s.raw:o},r.root=function(t){this.body(t),t.raws.after&&this.builder(t.raws.after)},r.rule=function(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")},r.stringify=function(t,i){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,i)},e})(),vm=tu;tu.default=tu;var LC=vm;function ru(e,r){var n=new LC(r);n.stringify(e)}var Us=ru;ru.default=ru;var No=pr.isClean,RC=pr.my,FC=rc,$C=vm,BC=Us;function nu(e,r){var n=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&t!=="proxyCache"){var i=e[t],o=typeof i>"u"?"undefined":z(i);t==="parent"&&o==="object"?r&&(n[t]=r):t==="source"?n[t]=i:Array.isArray(i)?n[t]=i.map(function(s){return nu(s,n)}):(o==="object"&&i!==null&&(i=nu(i)),n[t]=i)}return n}var iu=(function(){function e(n){n===void 0&&(n={}),this.raws={},this[No]=!1,this[RC]=!0;for(var t in n)if(t==="nodes"){this.nodes=[];for(var i=D(n[t]),o;!(o=i()).done;){var s=o.value;typeof s.clone=="function"?this.append(s.clone()):this.append(s)}}else this[t]=n[t]}var r=e.prototype;return r.addToError=function(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){var i=this.source;t.stack=t.stack.replace(/\n\s{4}at /,"$&"+i.input.from+":"+i.start.line+":"+i.start.column+"$&")}return t},r.after=function(t){return this.parent.insertAfter(this,t),this},r.assign=function(t){t===void 0&&(t={});for(var i in t)this[i]=t[i];return this},r.before=function(t){return this.parent.insertBefore(this,t),this},r.cleanRaws=function(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between},r.clone=function(t){t===void 0&&(t={});var i=nu(this);for(var o in t)i[o]=t[o];return i},r.cloneAfter=function(t){t===void 0&&(t={});var i=this.clone(t);return this.parent.insertAfter(this,i),i},r.cloneBefore=function(t){t===void 0&&(t={});var i=this.clone(t);return this.parent.insertBefore(this,i),i},r.error=function(t,i){if(i===void 0&&(i={}),this.source){var o=this.rangeBy(i),s=o.end,a=o.start;return this.source.input.error(t,{column:a.column,line:a.line},{column:s.column,line:s.line},i)}return new FC(t)},r.getProxyProcessor=function(){return{get:function(i,o){return o==="proxyOf"?i:o==="root"?function(){return i.root().toProxy()}:i[o]},set:function(i,o,s){return i[o]===s||(i[o]=s,(o==="prop"||o==="value"||o==="name"||o==="params"||o==="important"||o==="text")&&i.markDirty()),!0}}},r.markDirty=function(){if(this[No]){this[No]=!1;for(var t=this;t=t.parent;)t[No]=!1}},r.next=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t+1]}},r.positionBy=function(t,i){var o=this.source.start;if(t.index)o=this.positionInside(t.index,i);else if(t.word){i=this.toString();var s=i.indexOf(t.word);s!==-1&&(o=this.positionInside(s,i))}return o},r.positionInside=function(t,i){for(var o=i||this.toString(),s=this.source.start.column,a=this.source.start.line,l=0;l<t;l++)o[l]===`
`?(s=1,a+=1):s+=1;return{column:s,line:a}},r.prev=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t-1]}},r.rangeBy=function(t){var i={column:this.source.start.column,line:this.source.start.line},o=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:i.column+1,line:i.line};if(t.word){var s=this.toString(),a=s.indexOf(t.word);a!==-1&&(i=this.positionInside(a,s),o=this.positionInside(a+t.word.length,s))}else t.start?i={column:t.start.column,line:t.start.line}:t.index&&(i=this.positionInside(t.index)),t.end?o={column:t.end.column,line:t.end.line}:typeof t.endIndex=="number"?o=this.positionInside(t.endIndex):t.index&&(o=this.positionInside(t.index+1));return(o.line<i.line||o.line===i.line&&o.column<=i.column)&&(o={column:i.column+1,line:i.line}),{end:o,start:i}},r.raw=function(t,i){var o=new $C;return o.raw(this,t,i)},r.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},r.replaceWith=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];if(this.parent){for(var s=this,a=!1,l=D(i),u;!(u=l()).done;){var f=u.value;f===this?a=!0:a?(this.parent.insertAfter(s,f),s=f):this.parent.insertBefore(s,f)}a||this.remove()}return this},r.root=function(){for(var t=this;t.parent&&t.parent.type!=="document";)t=t.parent;return t},r.toJSON=function(t,i){var o={},s=i==null;i=i||new Map;var a=0;for(var l in this)if(Object.prototype.hasOwnProperty.call(this,l)&&!(l==="parent"||l==="proxyCache")){var u=this[l];if(Array.isArray(u))o[l]=u.map(function(c){return(typeof c>"u"?"undefined":z(c))==="object"&&c.toJSON?c.toJSON(null,i):c});else if((typeof u>"u"?"undefined":z(u))==="object"&&u.toJSON)o[l]=u.toJSON(null,i);else if(l==="source"){var f=i.get(u.input);f==null&&(f=a,i.set(u.input,a),a++),o[l]={end:u.end,inputId:f,start:u.start}}else o[l]=u}return s&&(o.inputs=[].concat(i.keys()).map(function(c){return c.toJSON()})),o},r.toProxy=function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache},r.toString=function(t){t===void 0&&(t=BC),t.stringify&&(t=t.stringify);var i="";return t(this,function(o){i+=o}),i},r.warn=function(t,i,o){var s={node:this};for(var a in o)s[a]=o[a];return t.warn(i,s)},Ie(e,[{key:"proxyOf",get:function(){return this}}]),e})(),js=iu;iu.default=iu;var UC=js,ou=(function(e){Ne(r,e);function r(n){var t;return n&&typeof n.value<"u"&&typeof n.value!="string"&&(n=re({},n,{value:String(n.value)})),t=e.call(this,n)||this,t.type="decl",t}return Ie(r,[{key:"variable",get:function(){return this.prop.startsWith("--")||this.prop[0]==="$"}}]),r})(UC),Ws=ou;ou.default=ou;var jC="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",WC=function(e){e===void 0&&(e=21);for(var r="",n=e;n--;)r+=jC[Math.random()*64|0];return r},zC={nanoid:WC},qd=je.SourceMapConsumer,Hd=je.SourceMapGenerator,VC=je.existsSync,qC=je.readFileSync,sl=je.dirname,HC=je.join;function GC(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}var su=(function(){function e(n,t){if(t.map!==!1){this.loadAnnotation(n),this.inline=this.startWith(this.annotation,"data:");var i=t.map?t.map.prev:void 0,o=this.loadMap(t.from,i);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=sl(this.mapFile)),o&&(this.text=o)}}var r=e.prototype;return r.consumer=function(){return this.consumerCache||(this.consumerCache=new qd(this.text)),this.consumerCache},r.decodeInline=function(t){var i=/^data:application\/json;charset=utf-?8;base64,/,o=/^data:application\/json;base64,/,s=/^data:application\/json;charset=utf-?8,/,a=/^data:application\/json,/;if(s.test(t)||a.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(i.test(t)||o.test(t))return GC(t.substr(RegExp.lastMatch.length));var l=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+l)},r.getAnnotationURL=function(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()},r.isMap=function(t){return(typeof t>"u"?"undefined":z(t))!=="object"?!1:typeof t.mappings=="string"||typeof t._mappings=="string"||Array.isArray(t.sections)},r.loadAnnotation=function(t){var i=t.match(/\/\*\s*# sourceMappingURL=/gm);if(i){var o=t.lastIndexOf(i.pop()),s=t.indexOf("*/",o);o>-1&&s>-1&&(this.annotation=this.getAnnotationURL(t.substring(o,s)))}},r.loadFile=function(t){if(this.root=sl(t),VC(t))return this.mapFile=t,qC(t,"utf-8").toString().trim()},r.loadMap=function(t,i){if(i===!1)return!1;if(i){if(typeof i=="string")return i;if(typeof i=="function"){var o=i(t);if(o){var s=this.loadFile(o);if(!s)throw new Error("Unable to load previous source map: "+o.toString());return s}}else{if(W(i,qd))return Hd.fromSourceMap(i).toString();if(W(i,Hd))return i.toString();if(this.isMap(i))return JSON.stringify(i);throw new Error("Unsupported previous source map format: "+i.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var a=this.annotation;return t&&(a=HC(sl(t),a)),this.loadFile(a)}}},r.startWith=function(t,i){return t?t.substr(0,i.length)===i:!1},r.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e})(),gm=su;su.default=su;var KC=je.SourceMapConsumer,YC=je.SourceMapGenerator,Gd=je.fileURLToPath,Po=je.pathToFileURL,au=je.isAbsolute,lu=je.resolve,JC=zC.nanoid,al=je,Kd=rc,QC=gm,ll=Symbol("fromOffsetCache"),XC=!!(KC&&YC),Yd=!!(lu&&au),ds=(function(){function e(n,t){if(t===void 0&&(t={}),n===null||typeof n>"u"||(typeof n>"u"?"undefined":z(n))==="object"&&!n.toString)throw new Error("PostCSS received "+n+" instead of CSS string");if(this.css=n.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!Yd||/^\w+:\/\//.test(t.from)||au(t.from)?this.file=t.from:this.file=lu(t.from)),Yd&&XC){var i=new QC(this.css,t);if(i.text){this.map=i;var o=i.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+JC(6)+">"),this.map&&(this.map.file=this.from)}var r=e.prototype;return r.error=function(t,i,o,s){s===void 0&&(s={});var a,l,u;if(i&&(typeof i>"u"?"undefined":z(i))==="object"){var f=i,c=o;if(typeof f.offset=="number"){var d=this.fromOffset(f.offset);i=d.line,o=d.col}else i=f.line,o=f.column;if(typeof c.offset=="number"){var p=this.fromOffset(c.offset);l=p.line,u=p.col}else l=c.line,u=c.column}else if(!o){var v=this.fromOffset(i);i=v.line,o=v.col}var b=this.origin(i,o,l,u);return b?a=new Kd(t,b.endLine===void 0?b.line:{column:b.column,line:b.line},b.endLine===void 0?b.column:{column:b.endColumn,line:b.endLine},b.source,b.file,s.plugin):a=new Kd(t,l===void 0?i:{column:o,line:i},l===void 0?o:{column:u,line:l},this.css,this.file,s.plugin),a.input={column:o,endColumn:u,endLine:l,line:i,source:this.css},this.file&&(Po&&(a.input.url=Po(this.file).toString()),a.input.file=this.file),a},r.fromOffset=function(t){var i,o;if(this[ll])o=this[ll];else{var s=this.css.split(`
`);o=new Array(s.length);for(var a=0,l=0,u=s.length;l<u;l++)o[l]=a,a+=s[l].length+1;this[ll]=o}i=o[o.length-1];var f=0;if(t>=i)f=o.length-1;else for(var c=o.length-2,d;f<c;)if(d=f+(c-f>>1),t<o[d])c=d-1;else if(t>=o[d+1])f=d+1;else{f=d;break}return{col:t-o[f]+1,line:f+1}},r.mapResolve=function(t){return/^\w+:\/\//.test(t)?t:lu(this.map.consumer().sourceRoot||this.map.root||".",t)},r.origin=function(t,i,o,s){if(!this.map)return!1;var a=this.map.consumer(),l=a.originalPositionFor({column:i,line:t});if(!l.source)return!1;var u;typeof o=="number"&&(u=a.originalPositionFor({column:s,line:o}));var f;au(l.source)?f=Po(l.source):f=new URL(l.source,this.map.consumer().sourceRoot||Po(this.map.mapFile));var c={column:l.column,endColumn:u&&u.column,endLine:u&&u.line,line:l.line,url:f.toString()};if(f.protocol==="file:")if(Gd)c.file=Gd(f);else throw new Error("file: protocol is not available in this PostCSS build");var d=a.sourceContentFor(l.source);return d&&(c.source=d),c},r.toJSON=function(){for(var t={},i=0,o=["hasBOM","css","file","id"];i<o.length;i++){var s=o[i];this[s]!=null&&(t[s]=this[s])}return this.map&&(t.map=re({},this.map),t.map.consumerCache&&(t.map.consumerCache=void 0)),t},Ie(e,[{key:"from",get:function(){return this.file||this.id}}]),e})(),zs=ds;ds.default=ds;al&&al.registerInput&&al.registerInput(ds);var ym=je.SourceMapConsumer,Yo=je.SourceMapGenerator,Jo=je.dirname,_m=je.relative,bm=je.resolve,wm=je.sep,Jd=je.pathToFileURL,ZC=zs,e1=!!(ym&&Yo),t1=!!(Jo&&bm&&_m&&wm),r1=(function(){function e(n,t,i,o){this.stringify=n,this.mapOpts=i.map||{},this.root=t,this.opts=i,this.css=o,this.originalCSS=o,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}var r=e.prototype;return r.addAnnotation=function(){var t;this.isInline()?t="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?t=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?t=this.mapOpts.annotation(this.opts.to,this.root):t=this.outputFile()+".map";var i=`
`;this.css.includes(`\r
`)&&(i=`\r
`),this.css+=i+"/*# sourceMappingURL="+t+" */"},r.applyPrevMaps=function(){for(var t=D(this.previous()),i;!(i=t()).done;){var o=i.value,s=this.toUrl(this.path(o.file)),a=o.root||Jo(o.file),l=void 0;this.mapOpts.sourcesContent===!1?(l=new ym(o.text),l.sourcesContent&&(l.sourcesContent=null)):l=o.consumer(),this.map.applySourceMap(l,s,this.toUrl(this.path(a)))}},r.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)if(this.root)for(var t,i=this.root.nodes.length-1;i>=0;i--)t=this.root.nodes[i],t.type==="comment"&&t.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(i);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))},r.generate=function(){if(this.clearAnnotation(),t1&&e1&&this.isMap())return this.generateMap();var t="";return this.stringify(this.root,function(i){t+=i}),[t]},r.generateMap=function(){if(this.root)this.generateString();else if(this.previous().length===1){var t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=Yo.fromSourceMap(t,{ignoreInvalidMapping:!0})}else this.map=new Yo({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},r.generateString=function(){var t=this;this.css="",this.map=new Yo({file:this.outputFile(),ignoreInvalidMapping:!0});var i=1,o=1,s="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""},l,u;this.stringify(this.root,function(f,c,d){if(t.css+=f,c&&d!=="end"&&(a.generated.line=i,a.generated.column=o-1,c.source&&c.source.start?(a.source=t.sourcePath(c),a.original.line=c.source.start.line,a.original.column=c.source.start.column-1,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,t.map.addMapping(a))),l=f.match(/\n/g),l?(i+=l.length,u=f.lastIndexOf(`
`),o=f.length-u):o+=f.length,c&&d!=="start"){var p=c.parent||{raws:{}},v=c.type==="decl"||c.type==="atrule"&&!c.nodes;(!v||c!==p.last||p.raws.semicolon)&&(c.source&&c.source.end?(a.source=t.sourcePath(c),a.original.line=c.source.end.line,a.original.column=c.source.end.column-1,a.generated.line=i,a.generated.column=o-2,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,a.generated.line=i,a.generated.column=o-1,t.map.addMapping(a)))}})},r.isAnnotation=function(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(function(t){return t.annotation}):!0},r.isInline=function(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;var t=this.mapOpts.annotation;return typeof t<"u"&&t!==!0?!1:this.previous().length?this.previous().some(function(i){return i.inline}):!0},r.isMap=function(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0},r.isSourcesContent=function(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(t){return t.withContent()}):!0},r.outputFile=function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"},r.path=function(t){if(this.mapOpts.absolute||t.charCodeAt(0)===60||/^\w+:\/\//.test(t))return t;var i=this.memoizedPaths.get(t);if(i)return i;var o=this.opts.to?Jo(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(o=Jo(bm(o,this.mapOpts.annotation)));var s=_m(o,t);return this.memoizedPaths.set(t,s),s},r.previous=function(){var t=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(o){if(o.source&&o.source.input.map){var s=o.source.input.map;t.previousMaps.includes(s)||t.previousMaps.push(s)}});else{var i=new ZC(this.originalCSS,this.opts);i.map&&this.previousMaps.push(i.map)}return this.previousMaps},r.setSourcesContent=function(){var t=this,i={};if(this.root)this.root.walk(function(s){if(s.source){var a=s.source.input.from;if(a&&!i[a]){i[a]=!0;var l=t.usesFileUrls?t.toFileUrl(a):t.toUrl(t.path(a));t.map.setSourceContent(l,s.source.input.css)}}});else if(this.css){var o=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(o,this.css)}},r.sourcePath=function(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))},r.toBase64=function(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))},r.toFileUrl=function(t){var i=this.memoizedFileURLs.get(t);if(i)return i;if(Jd){var o=Jd(t).toString();return this.memoizedFileURLs.set(t,o),o}else throw new Error("`map.absolute` option is not available in this PostCSS build")},r.toUrl=function(t){var i=this.memoizedURLs.get(t);if(i)return i;wm==="\\"&&(t=t.replace(/\\/g,"/"));var o=encodeURI(t).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(t,o),o},e})(),Sm=r1,n1=js,uu=(function(e){Ne(r,e);function r(n){var t;return t=e.call(this,n)||this,t.type="comment",t}return r})(n1),Vs=uu;uu.default=uu;var xm=pr.isClean,Cm=pr.my,km=Ws,Em=Vs,i1=js,Im,nc,ic,Am;function Om(e){return e.map(function(r){return r.nodes&&(r.nodes=Om(r.nodes)),delete r.source,r})}function Tm(e){if(e[xm]=!1,e.proxyOf.nodes)for(var r=D(e.proxyOf.nodes),n;!(n=r()).done;){var t=n.value;Tm(t)}}var Kt=(function(e){Ne(r,e);function r(){return e.apply(this,arguments)||this}var n=r.prototype;return n.append=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];for(var a=D(o),l;!(l=a()).done;)for(var u=l.value,f=this.normalize(u,this.last),c=D(f),d;!(d=c()).done;){var p=d.value;this.proxyOf.nodes.push(p)}return this.markDirty(),this},n.cleanRaws=function(i){if(e.prototype.cleanRaws.call(this,i),this.nodes)for(var o=D(this.nodes),s;!(s=o()).done;){var a=s.value;a.cleanRaws(i)}},n.each=function(i){if(this.proxyOf.nodes){for(var o=this.getIterator(),s,a;this.indexes[o]<this.proxyOf.nodes.length&&(s=this.indexes[o],a=i(this.proxyOf.nodes[s],s),a!==!1);)this.indexes[o]+=1;return delete this.indexes[o],a}},n.every=function(i){return this.nodes.every(i)},n.getIterator=function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var i=this.lastEach;return this.indexes[i]=0,i},n.getProxyProcessor=function(){return{get:function(o,s){return s==="proxyOf"?o:o[s]?s==="each"||typeof s=="string"&&s.startsWith("walk")?function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var f;return(f=o)[s].apply(f,[].concat(l.map(function(c){return typeof c=="function"?function(d,p){return c(d.toProxy(),p)}:c})))}:s==="every"||s==="some"?function(a){return o[s](function(l){for(var u=arguments.length,f=new Array(u>1?u-1:0),c=1;c<u;c++)f[c-1]=arguments[c];return a.apply(void 0,[].concat([l.toProxy()],f))})}:s==="root"?function(){return o.root().toProxy()}:s==="nodes"?o.nodes.map(function(a){return a.toProxy()}):s==="first"||s==="last"?o[s].toProxy():o[s]:o[s]},set:function(o,s,a){return o[s]===a||(o[s]=a,(s==="name"||s==="params"||s==="selector")&&o.markDirty()),!0}}},n.index=function(i){return typeof i=="number"?i:(i.proxyOf&&(i=i.proxyOf),this.proxyOf.nodes.indexOf(i))},n.insertAfter=function(i,o){var s=this.index(i),a=this.normalize(o,this.proxyOf.nodes[s]).reverse();s=this.index(i);for(var l=D(a),u;!(u=l()).done;){var f=u.value;this.proxyOf.nodes.splice(s+1,0,f)}var c;for(var d in this.indexes)c=this.indexes[d],s<c&&(this.indexes[d]=c+a.length);return this.markDirty(),this},n.insertBefore=function(i,o){var s=this.index(i),a=s===0?"prepend":!1,l=this.normalize(o,this.proxyOf.nodes[s],a).reverse();s=this.index(i);for(var u=D(l),f;!(f=u()).done;){var c=f.value;this.proxyOf.nodes.splice(s,0,c)}var d;for(var p in this.indexes)d=this.indexes[p],s<=d&&(this.indexes[p]=d+l.length);return this.markDirty(),this},n.normalize=function(i,o){var s=this;if(typeof i=="string")i=Om(Im(i).nodes);else if(typeof i>"u")i=[];else if(Array.isArray(i)){i=i.slice(0);for(var a=D(i),l;!(l=a()).done;){var u=l.value;u.parent&&u.parent.removeChild(u,"ignore")}}else if(i.type==="root"&&this.type!=="document"){i=i.nodes.slice(0);for(var f=D(i),c;!(c=f()).done;){var d=c.value;d.parent&&d.parent.removeChild(d,"ignore")}}else if(i.type)i=[i];else if(i.prop){if(typeof i.value>"u")throw new Error("Value field is missed in node creation");typeof i.value!="string"&&(i.value=String(i.value)),i=[new km(i)]}else if(i.selector)i=[new nc(i)];else if(i.name)i=[new ic(i)];else if(i.text)i=[new Em(i)];else throw new Error("Unknown node type in node creation");var p=i.map(function(v){return v[Cm]||r.rebuild(v),v=v.proxyOf,v.parent&&v.parent.removeChild(v),v[xm]&&Tm(v),typeof v.raws.before>"u"&&o&&typeof o.raws.before<"u"&&(v.raws.before=o.raws.before.replace(/\S/g,"")),v.parent=s.proxyOf,v});return p},n.prepend=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];o=o.reverse();for(var a=D(o),l;!(l=a()).done;){for(var u=l.value,f=this.normalize(u,this.first,"prepend").reverse(),c=D(f),d;!(d=c()).done;){var p=d.value;this.proxyOf.nodes.unshift(p)}for(var v in this.indexes)this.indexes[v]=this.indexes[v]+f.length}return this.markDirty(),this},n.push=function(i){return i.parent=this,this.proxyOf.nodes.push(i),this},n.removeAll=function(){for(var i=D(this.proxyOf.nodes),o;!(o=i()).done;){var s=o.value;s.parent=void 0}return this.proxyOf.nodes=[],this.markDirty(),this},n.removeChild=function(i){i=this.index(i),this.proxyOf.nodes[i].parent=void 0,this.proxyOf.nodes.splice(i,1);var o;for(var s in this.indexes)o=this.indexes[s],o>=i&&(this.indexes[s]=o-1);return this.markDirty(),this},n.replaceValues=function(i,o,s){return s||(s=o,o={}),this.walkDecls(function(a){o.props&&!o.props.includes(a.prop)||o.fast&&!a.value.includes(o.fast)||(a.value=a.value.replace(i,s))}),this.markDirty(),this},n.some=function(i){return this.nodes.some(i)},n.walk=function(i){return this.each(function(o,s){var a;try{a=i(o,s)}catch(l){throw o.addToError(l)}return a!==!1&&o.walk&&(a=o.walk(i)),a})},n.walkAtRules=function(i,o){return o?W(i,RegExp)?this.walk(function(s,a){if(s.type==="atrule"&&i.test(s.name))return o(s,a)}):this.walk(function(s,a){if(s.type==="atrule"&&s.name===i)return o(s,a)}):(o=i,this.walk(function(s,a){if(s.type==="atrule")return o(s,a)}))},n.walkComments=function(i){return this.walk(function(o,s){if(o.type==="comment")return i(o,s)})},n.walkDecls=function(i,o){return o?W(i,RegExp)?this.walk(function(s,a){if(s.type==="decl"&&i.test(s.prop))return o(s,a)}):this.walk(function(s,a){if(s.type==="decl"&&s.prop===i)return o(s,a)}):(o=i,this.walk(function(s,a){if(s.type==="decl")return o(s,a)}))},n.walkRules=function(i,o){return o?W(i,RegExp)?this.walk(function(s,a){if(s.type==="rule"&&i.test(s.selector))return o(s,a)}):this.walk(function(s,a){if(s.type==="rule"&&s.selector===i)return o(s,a)}):(o=i,this.walk(function(s,a){if(s.type==="rule")return o(s,a)}))},Ie(r,[{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),r})(i1);Kt.registerParse=function(e){Im=e};Kt.registerRule=function(e){nc=e};Kt.registerAtRule=function(e){ic=e};Kt.registerRoot=function(e){Am=e};var Dr=Kt;Kt.default=Kt;Kt.rebuild=function(e){e.type==="atrule"?Object.setPrototypeOf(e,ic.prototype):e.type==="rule"?Object.setPrototypeOf(e,nc.prototype):e.type==="decl"?Object.setPrototypeOf(e,km.prototype):e.type==="comment"?Object.setPrototypeOf(e,Em.prototype):e.type==="root"&&Object.setPrototypeOf(e,Am.prototype),e[Cm]=!0,e.nodes&&e.nodes.forEach(function(r){Kt.rebuild(r)})};var o1=Dr,Nm,Pm,Ni=(function(e){Ne(r,e);function r(t){var i;return i=e.call(this,re({type:"document"},t))||this,i.nodes||(i.nodes=[]),i}var n=r.prototype;return n.toResult=function(i){i===void 0&&(i={});var o=new Nm(new Pm,this,i);return o.stringify()},r})(o1);Ni.registerLazyResult=function(e){Nm=e};Ni.registerProcessor=function(e){Pm=e};var oc=Ni;Ni.default=Ni;var cu=(function(){function e(n,t){if(t===void 0&&(t={}),this.type="warning",this.text=n,t.node&&t.node.source){var i=t.node.rangeBy(t);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(var o in t)this[o]=t[o]}var r=e.prototype;return r.toString=function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e})(),Mm=cu;cu.default=cu;var s1=Mm,fu=(function(){function e(n,t,i){this.processor=n,this.messages=[],this.root=t,this.opts=i,this.css=void 0,this.map=void 0}var r=e.prototype;return r.toString=function(){return this.css},r.warn=function(t,i){i===void 0&&(i={}),i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);var o=new s1(t,i);return this.messages.push(o),o},r.warnings=function(){return this.messages.filter(function(t){return t.type==="warning"})},Ie(e,[{key:"content",get:function(){return this.css}}]),e})(),sc=fu;fu.default=fu;var ul=39,Qd=34,Mo=92,Xd=47,Do=10,ui=32,Lo=12,Ro=9,Fo=13,a1=91,l1=93,u1=40,c1=41,f1=123,d1=125,h1=59,p1=42,m1=58,v1=64,$o=/[\t\n\f\r "#'()/;[\\\]{}]/g,Bo=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,g1=/.[\r\n"'(/\\]/,Zd=/[\da-f]/i,y1=function(r,n){n===void 0&&(n={});var t=r.css.valueOf(),i=n.ignoreErrors,o,s,a,l,u,f,c,d,p,v,b=t.length,g=0,_=[],w=[];function S(){return g}function x(O){throw r.error("Unclosed "+O,g)}function C(){return w.length===0&&g>=b}function T(O){if(w.length)return w.pop();if(!(g>=b)){var N=O?O.ignoreUnclosed:!1;switch(o=t.charCodeAt(g),o){case Do:case ui:case Ro:case Fo:case Lo:{s=g;do s+=1,o=t.charCodeAt(s);while(o===ui||o===Do||o===Ro||o===Fo||o===Lo);v=["space",t.slice(g,s)],g=s-1;break}case a1:case l1:case f1:case d1:case m1:case h1:case c1:{var P=String.fromCharCode(o);v=[P,P,g];break}case u1:{if(d=_.length?_.pop()[1]:"",p=t.charCodeAt(g+1),d==="url"&&p!==ul&&p!==Qd&&p!==ui&&p!==Do&&p!==Ro&&p!==Lo&&p!==Fo){s=g;do{if(f=!1,s=t.indexOf(")",s+1),s===-1)if(i||N){s=g;break}else x("bracket");for(c=s;t.charCodeAt(c-1)===Mo;)c-=1,f=!f}while(f);v=["brackets",t.slice(g,s+1),g,s],g=s}else s=t.indexOf(")",g+1),l=t.slice(g,s+1),s===-1||g1.test(l)?v=["(","(",g]:(v=["brackets",l,g,s],g=s);break}case ul:case Qd:{a=o===ul?"'":'"',s=g;do{if(f=!1,s=t.indexOf(a,s+1),s===-1)if(i||N){s=g+1;break}else x("string");for(c=s;t.charCodeAt(c-1)===Mo;)c-=1,f=!f}while(f);v=["string",t.slice(g,s+1),g,s],g=s;break}case v1:{$o.lastIndex=g+1,$o.test(t),$o.lastIndex===0?s=t.length-1:s=$o.lastIndex-2,v=["at-word",t.slice(g,s+1),g,s],g=s;break}case Mo:{for(s=g,u=!0;t.charCodeAt(s+1)===Mo;)s+=1,u=!u;if(o=t.charCodeAt(s+1),u&&o!==Xd&&o!==ui&&o!==Do&&o!==Ro&&o!==Fo&&o!==Lo&&(s+=1,Zd.test(t.charAt(s)))){for(;Zd.test(t.charAt(s+1));)s+=1;t.charCodeAt(s+1)===ui&&(s+=1)}v=["word",t.slice(g,s+1),g,s],g=s;break}default:{o===Xd&&t.charCodeAt(g+1)===p1?(s=t.indexOf("*/",g+2)+1,s===0&&(i||N?s=t.length:x("comment")),v=["comment",t.slice(g,s+1),g,s],g=s):(Bo.lastIndex=g+1,Bo.test(t),Bo.lastIndex===0?s=t.length-1:s=Bo.lastIndex-2,v=["word",t.slice(g,s+1),g,s],_.push(v),g=s);break}}return g++,v}}function I(O){w.push(O)}return{back:I,endOfFile:C,nextToken:T,position:S}},Dm=Dr,hs=(function(e){Ne(r,e);function r(t){var i;return i=e.call(this,t)||this,i.type="atrule",i}var n=r.prototype;return n.append=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.append).call.apply(a,[].concat([this],o))},n.prepend=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.prepend).call.apply(a,[].concat([this],o))},r})(Dm),ac=hs;hs.default=hs;Dm.registerAtRule(hs);var Lm=Dr,Rm,Fm,fn=(function(e){Ne(r,e);function r(t){var i;return i=e.call(this,t)||this,i.type="root",i.nodes||(i.nodes=[]),i}var n=r.prototype;return n.normalize=function(i,o,s){var a=e.prototype.normalize.call(this,i);if(o){if(s==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(var l=D(a),u;!(u=l()).done;){var f=u.value;f.raws.before=o.raws.before}}return a},n.removeChild=function(i,o){var s=this.index(i);return!o&&s===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[s].raws.before),e.prototype.removeChild.call(this,i)},n.toResult=function(i){i===void 0&&(i={});var o=new Rm(new Fm,this,i);return o.stringify()},r})(Lm);fn.registerLazyResult=function(e){Rm=e};fn.registerProcessor=function(e){Fm=e};var zi=fn;fn.default=fn;Lm.registerRoot(fn);var Pi={comma:function(r){return Pi.split(r,[","],!0)},space:function(r){var n=[" ",`
`,"	"];return Pi.split(r,n)},split:function(r,n,t){for(var i=[],o="",s=!1,a=0,l=!1,u="",f=!1,c=D(r),d;!(d=c()).done;){var p=d.value;f?f=!1:p==="\\"?f=!0:l?p===u&&(l=!1):p==='"'||p==="'"?(l=!0,u=p):p==="("?a+=1:p===")"?a>0&&(a-=1):a===0&&n.includes(p)&&(s=!0),s?(o!==""&&i.push(o.trim()),o="",s=!1):o+=p}return(t||o!=="")&&i.push(o.trim()),i}},$m=Pi;Pi.default=Pi;var Bm=Dr,_1=$m,ps=(function(e){Ne(r,e);function r(n){var t;return t=e.call(this,n)||this,t.type="rule",t.nodes||(t.nodes=[]),t}return Ie(r,[{key:"selectors",get:function(){return _1.comma(this.selector)},set:function(t){var i=this.selector?this.selector.match(/,\s*/):null,o=i?i[0]:","+this.raw("between","beforeOpen");this.selector=t.join(o)}}]),r})(Bm),lc=ps;ps.default=ps;Bm.registerRule(ps);var b1=Ws,w1=y1,S1=Vs,x1=ac,C1=zi,eh=lc,th={empty:!0,space:!0};function k1(e){for(var r=e.length-1;r>=0;r--){var n=e[r],t=n[3]||n[2];if(t)return t}}var E1=(function(){function e(n){this.input=n,this.root=new C1,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:n,start:{column:1,line:1,offset:0}}}var r=e.prototype;return r.atrule=function(t){var i=new x1;i.name=t[1].slice(1),i.name===""&&this.unnamedAtrule(i,t),this.init(i,t[2]);for(var o,s,a,l=!1,u=!1,f=[],c=[];!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),o=t[0],o==="("||o==="["?c.push(o==="("?")":"]"):o==="{"&&c.length>0?c.push("}"):o===c[c.length-1]&&c.pop(),c.length===0)if(o===";"){i.source.end=this.getPosition(t[2]),i.source.end.offset++,this.semicolon=!0;break}else if(o==="{"){u=!0;break}else if(o==="}"){if(f.length>0){for(a=f.length-1,s=f[a];s&&s[0]==="space";)s=f[--a];s&&(i.source.end=this.getPosition(s[3]||s[2]),i.source.end.offset++)}this.end(t);break}else f.push(t);else f.push(t);if(this.tokenizer.endOfFile()){l=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(f),f.length?(i.raws.afterName=this.spacesAndCommentsFromStart(f),this.raw(i,"params",f),l&&(t=f[f.length-1],i.source.end=this.getPosition(t[3]||t[2]),i.source.end.offset++,this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),u&&(i.nodes=[],this.current=i)},r.checkMissedSemicolon=function(t){var i=this.colon(t);if(i!==!1){for(var o=0,s,a=i-1;a>=0&&(s=t[a],!(s[0]!=="space"&&(o+=1,o===2)));a--);throw this.input.error("Missed semicolon",s[0]==="word"?s[3]+1:s[2])}},r.colon=function(t){for(var i=0,o,s,a,l=D(t.entries()),u;!(u=l()).done;){var f=u.value,c=f[0],d=f[1];if(o=d,s=o[0],s==="("&&(i+=1),s===")"&&(i-=1),i===0&&s===":")if(!a)this.doubleColon(o);else{if(a[0]==="word"&&a[1]==="progid")continue;return c}a=o}return!1},r.comment=function(t){var i=new S1;this.init(i,t[2]),i.source.end=this.getPosition(t[3]||t[2]),i.source.end.offset++;var o=t[1].slice(2,-2);if(/^\s*$/.test(o))i.text="",i.raws.left=o,i.raws.right="";else{var s=o.match(/^(\s*)([^]*\S)(\s*)$/);i.text=s[2],i.raws.left=s[1],i.raws.right=s[3]}},r.createTokenizer=function(){this.tokenizer=w1(this.input)},r.decl=function(t,i){var o=new b1;this.init(o,t[0][2]);var s=t[t.length-1];for(s[0]===";"&&(this.semicolon=!0,t.pop()),o.source.end=this.getPosition(s[3]||s[2]||k1(t)),o.source.end.offset++;t[0][0]!=="word";)t.length===1&&this.unknownWord(t),o.raws.before+=t.shift()[1];for(o.source.start=this.getPosition(t[0][2]),o.prop="";t.length;){var a=t[0][0];if(a===":"||a==="space"||a==="comment")break;o.prop+=t.shift()[1]}o.raws.between="";for(var l;t.length;)if(l=t.shift(),l[0]===":"){o.raws.between+=l[1];break}else l[0]==="word"&&/\w/.test(l[1])&&this.unknownWord([l]),o.raws.between+=l[1];(o.prop[0]==="_"||o.prop[0]==="*")&&(o.raws.before+=o.prop[0],o.prop=o.prop.slice(1));for(var u=[],f;t.length&&(f=t[0][0],!(f!=="space"&&f!=="comment"));)u.push(t.shift());this.precheckMissedSemicolon(t);for(var c=t.length-1;c>=0;c--){if(l=t[c],l[1].toLowerCase()==="!important"){o.important=!0;var d=this.stringFrom(t,c);d=this.spacesFromEnd(t)+d,d!==" !important"&&(o.raws.important=d);break}else if(l[1].toLowerCase()==="important"){for(var p=t.slice(0),v="",b=c;b>0;b--){var g=p[b][0];if(v.trim().indexOf("!")===0&&g!=="space")break;v=p.pop()[1]+v}v.trim().indexOf("!")===0&&(o.important=!0,o.raws.important=v,t=p)}if(l[0]!=="space"&&l[0]!=="comment")break}var _=t.some(function(w){return w[0]!=="space"&&w[0]!=="comment"});_&&(o.raws.between+=u.map(function(w){return w[1]}).join(""),u=[]),this.raw(o,"value",u.concat(t),i),o.value.includes(":")&&!i&&this.checkMissedSemicolon(t)},r.doubleColon=function(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})},r.emptyRule=function(t){var i=new eh;this.init(i,t[2]),i.selector="",i.raws.between="",this.current=i},r.end=function(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)},r.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())},r.freeSemicolon=function(t){if(this.spaces+=t[1],this.current.nodes){var i=this.current.nodes[this.current.nodes.length-1];i&&i.type==="rule"&&!i.raws.ownSemicolon&&(i.raws.ownSemicolon=this.spaces,this.spaces="")}},r.getPosition=function(t){var i=this.input.fromOffset(t);return{column:i.col,line:i.line,offset:t}},r.init=function(t,i){this.current.push(t),t.source={input:this.input,start:this.getPosition(i)},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)},r.other=function(t){for(var i=!1,o=null,s=!1,a=null,l=[],u=t[1].startsWith("--"),f=[],c=t;c;){if(o=c[0],f.push(c),o==="("||o==="[")a||(a=c),l.push(o==="("?")":"]");else if(u&&s&&o==="{")a||(a=c),l.push("}");else if(l.length===0)if(o===";")if(s){this.decl(f,u);return}else break;else if(o==="{"){this.rule(f);return}else if(o==="}"){this.tokenizer.back(f.pop()),i=!0;break}else o===":"&&(s=!0);else o===l[l.length-1]&&(l.pop(),l.length===0&&(a=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(i=!0),l.length>0&&this.unclosedBracket(a),i&&s){if(!u)for(;f.length&&(c=f[f.length-1][0],!(c!=="space"&&c!=="comment"));)this.tokenizer.back(f.pop());this.decl(f,u)}else this.unknownWord(f)},r.parse=function(){for(var t;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()},r.precheckMissedSemicolon=function(){},r.raw=function(t,i,o,s){for(var a,l,u=o.length,f="",c=!0,d,p,v=0;v<u;v+=1)a=o[v],l=a[0],l==="space"&&v===u-1&&!s?c=!1:l==="comment"?(p=o[v-1]?o[v-1][0]:"empty",d=o[v+1]?o[v+1][0]:"empty",!th[p]&&!th[d]?f.slice(-1)===","?c=!1:f+=a[1]:c=!1):f+=a[1];if(!c){var b=o.reduce(function(g,_){return g+_[1]},"");t.raws[i]={raw:b,value:f}}t[i]=f},r.rule=function(t){t.pop();var i=new eh;this.init(i,t[0][2]),i.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(i,"selector",t),this.current=i},r.spacesAndCommentsFromEnd=function(t){for(var i,o="";t.length&&(i=t[t.length-1][0],!(i!=="space"&&i!=="comment"));)o=t.pop()[1]+o;return o},r.spacesAndCommentsFromStart=function(t){for(var i,o="";t.length&&(i=t[0][0],!(i!=="space"&&i!=="comment"));)o+=t.shift()[1];return o},r.spacesFromEnd=function(t){for(var i,o="";t.length&&(i=t[t.length-1][0],i==="space");)o=t.pop()[1]+o;return o},r.stringFrom=function(t,i){for(var o="",s=i;s<t.length;s++)o+=t[s][1];return t.splice(i,t.length-i),o},r.unclosedBlock=function(){var t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)},r.unclosedBracket=function(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})},r.unexpectedClose=function(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})},r.unknownWord=function(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})},r.unnamedAtrule=function(t,i){throw this.input.error("At-rule without name",{offset:i[2]},{offset:i[2]+i[1].length})},e})(),I1=E1,A1=Dr,O1=I1,T1=zs;function ms(e,r){var n=new T1(e,r),t=new O1(n);try{t.parse()}catch(i){throw i}return t.root}var uc=ms;ms.default=ms;A1.registerParse(ms);var Et=pr.isClean,N1=pr.my,P1=Sm,M1=Us,D1=Dr,L1=oc;var rh=sc,R1=uc,F1=zi,$1={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},B1={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},U1={Once:!0,postcssPlugin:!0,prepare:!0},dn=0;function ci(e){return(typeof e>"u"?"undefined":z(e))==="object"&&typeof e.then=="function"}function Um(e){var r=!1,n=$1[e.type];return e.type==="decl"?r=e.prop.toLowerCase():e.type==="atrule"&&(r=e.name.toLowerCase()),r&&e.append?[n,n+"-"+r,dn,n+"Exit",n+"Exit-"+r]:r?[n,n+"-"+r,n+"Exit",n+"Exit-"+r]:e.append?[n,dn,n+"Exit"]:[n,n+"Exit"]}function nh(e){var r;return e.type==="document"?r=["Document",dn,"DocumentExit"]:e.type==="root"?r=["Root",dn,"RootExit"]:r=Um(e),{eventIndex:0,events:r,iterator:0,node:e,visitorIndex:0,visitors:[]}}function du(e){return e[Et]=!1,e.nodes&&e.nodes.forEach(function(r){return du(r)}),e}var hu={},hn=(function(){function e(n,t,i){var o=this;this.stringified=!1,this.processed=!1;var s;if((typeof t>"u"?"undefined":z(t))==="object"&&t!==null&&(t.type==="root"||t.type==="document"))s=du(t);else if(W(t,e)||W(t,rh))s=du(t.root),t.map&&(typeof i.map>"u"&&(i.map={}),i.map.inline||(i.map.inline=!1),i.map.prev=t.map);else{var a=R1;i.syntax&&(a=i.syntax.parse),i.parser&&(a=i.parser),a.parse&&(a=a.parse);try{s=a(t,i)}catch(l){this.processed=!0,this.error=l}s&&!s[N1]&&D1.rebuild(s)}this.result=new rh(n,s,i),this.helpers=re({},hu,{postcss:hu,result:this.result}),this.plugins=this.processor.plugins.map(function(l){return(typeof l>"u"?"undefined":z(l))==="object"&&l.prepare?re({},l,l.prepare(o.result)):l})}var r=e.prototype;return r.async=function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)},r.catch=function(t){return this.async().catch(t)},r.finally=function(t){return this.async().then(t,t)},r.getAsyncError=function(){throw new Error("Use process(css).then(cb) to work with async plugins")},r.handleError=function(t,i){var o=this.result.lastPlugin;try{if(i&&i.addToError(t),this.error=t,t.name==="CssSyntaxError"&&!t.plugin)t.plugin=o.postcssPlugin,t.setMessage();else if(o.postcssVersion&&0)var s,a,l,u,f}catch(c){console&&console.error&&console.error(c)}return t},r.prepareVisitors=function(){var t=this;this.listeners={};for(var i=function(f,c,d){t.listeners[c]||(t.listeners[c]=[]),t.listeners[c].push([f,d])},o=D(this.plugins),s;!(s=o()).done;){var a=s.value;if((typeof a>"u"?"undefined":z(a))==="object")for(var l in a){if(!B1[l]&&/^[A-Z]/.test(l))throw new Error("Unknown event "+l+" in "+a.postcssPlugin+". Try to update PostCSS ("+this.processor.version+" now).");if(!U1[l])if(z(a[l])==="object")for(var u in a[l])u==="*"?i(a,l,a[l][u]):i(a,l+"-"+u.toLowerCase(),a[l][u]);else typeof a[l]=="function"&&i(a,l,a[l])}}this.hasListener=Object.keys(this.listeners).length>0},r.runAsync=function(){var t=this;return As(function(){var i,o,s,a,l,u,f,c,d,p,v,b;return Ir(this,function(g){switch(g.label){case 0:t.plugin=0,i=0,g.label=1;case 1:if(!(i<t.plugins.length))return[3,6];if(o=t.plugins[i],s=t.runOnRoot(o),!ci(s))return[3,5];g.label=2;case 2:return g.trys.push([2,4,,5]),[4,s];case 3:return g.sent(),[3,5];case 4:throw a=g.sent(),t.handleError(a);case 5:return i++,[3,1];case 6:if(t.prepareVisitors(),!t.hasListener)return[3,18];l=t.result.root,g.label=7;case 7:if(l[Et])return[3,14];l[Et]=!0,u=[nh(l)],g.label=8;case 8:if(!(u.length>0))return[3,13];if(f=t.visitTick(u),!ci(f))return[3,12];g.label=9;case 9:return g.trys.push([9,11,,12]),[4,f];case 10:return g.sent(),[3,12];case 11:throw c=g.sent(),d=u[u.length-1].node,t.handleError(c,d);case 12:return[3,8];case 13:return[3,7];case 14:if(!t.listeners.OnceExit)return[3,18];p=function(){var _,w,S,x,C;return Ir(this,function(T){switch(T.label){case 0:_=b.value,w=_[0],S=_[1],t.result.lastPlugin=w,T.label=1;case 1:return T.trys.push([1,6,,7]),l.type!=="document"?[3,3]:(x=l.nodes.map(function(I){return S(I,t.helpers)}),[4,Promise.all(x)]);case 2:return T.sent(),[3,5];case 3:return[4,S(l,t.helpers)];case 4:T.sent(),T.label=5;case 5:return[3,7];case 6:throw C=T.sent(),t.handleError(C);case 7:return[2]}})},v=D(t.listeners.OnceExit),g.label=15;case 15:return(b=v()).done?[3,18]:[5,Tu(p())];case 16:g.sent(),g.label=17;case 17:return[3,15];case 18:return t.processed=!0,[2,t.stringify()]}})})()},r.runOnRoot=function(t){var i=this;this.result.lastPlugin=t;try{if((typeof t>"u"?"undefined":z(t))==="object"&&t.Once){if(this.result.root.type==="document"){var o=this.result.root.nodes.map(function(s){return t.Once(s,i.helpers)});return ci(o[0])?Promise.all(o):o}return t.Once(this.result.root,this.helpers)}else if(typeof t=="function")return t(this.result.root,this.result)}catch(s){throw this.handleError(s)}},r.stringify=function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var t=this.result.opts,i=M1;t.syntax&&(i=t.syntax.stringify),t.stringifier&&(i=t.stringifier),i.stringify&&(i=i.stringify);var o=new P1(i,this.result.root,this.result.opts),s=o.generate();return this.result.css=s[0],this.result.map=s[1],this.result},r.sync=function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var t=D(this.plugins),i;!(i=t()).done;){var o=i.value,s=this.runOnRoot(o);if(ci(s))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var a=this.result.root;!a[Et];)a[Et]=!0,this.walkSync(a);if(this.listeners.OnceExit)if(a.type==="document")for(var l=D(a.nodes),u;!(u=l()).done;){var f=u.value;this.visitSync(this.listeners.OnceExit,f)}else this.visitSync(this.listeners.OnceExit,a)}return this.result},r.then=function(t,i){return this.async().then(t,i)},r.toString=function(){return this.css},r.visitSync=function(t,i){for(var o=D(t),s;!(s=o()).done;){var a=s.value,l=a[0],u=a[1];this.result.lastPlugin=l;var f=void 0;try{f=u(i,this.helpers)}catch(c){throw this.handleError(c,i.proxyOf)}if(i.type!=="root"&&i.type!=="document"&&!i.parent)return!0;if(ci(f))throw this.getAsyncError()}},r.visitTick=function(t){var i=t[t.length-1],o=i.node,s=i.visitors;if(o.type!=="root"&&o.type!=="document"&&!o.parent){t.pop();return}if(s.length>0&&i.visitorIndex<s.length){var a=s[i.visitorIndex],l=a[0],u=a[1];i.visitorIndex+=1,i.visitorIndex===s.length&&(i.visitors=[],i.visitorIndex=0),this.result.lastPlugin=l;try{return u(o.toProxy(),this.helpers)}catch(v){throw this.handleError(v,o)}}if(i.iterator!==0){for(var f=i.iterator,c;c=o.nodes[o.indexes[f]];)if(o.indexes[f]+=1,!c[Et]){c[Et]=!0,t.push(nh(c));return}i.iterator=0,delete o.indexes[f]}for(var d=i.events;i.eventIndex<d.length;){var p=d[i.eventIndex];if(i.eventIndex+=1,p===dn){o.nodes&&o.nodes.length&&(o[Et]=!0,i.iterator=o.getIterator());return}else if(this.listeners[p]){i.visitors=this.listeners[p];return}}t.pop()},r.walkSync=function(t){var i=this;t[Et]=!0;for(var o=Um(t),s=D(o),a;!(a=s()).done;){var l=a.value;if(l===dn)t.nodes&&t.each(function(f){f[Et]||i.walkSync(f)});else{var u=this.listeners[l];if(u&&this.visitSync(u,t.toProxy()))return}}},r.warnings=function(){return this.sync().warnings()},Ie(e,[{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),e})();hn.registerPostcss=function(e){hu=e};var jm=hn;hn.default=hn;F1.registerLazyResult(hn);L1.registerLazyResult(hn);var j1=Sm,W1=Us;var z1=uc,V1=sc,pu=(function(){function e(n,t,i){t=t.toString(),this.stringified=!1,this._processor=n,this._css=t,this._opts=i,this._map=void 0;var o,s=W1;this.result=new V1(this._processor,o,this._opts),this.result.css=t;var a=this;Object.defineProperty(this.result,"root",{get:function(){return a.root}});var l=new j1(s,o,this._opts,t);if(l.isMap()){var u=l.generate(),f=u[0],c=u[1];f&&(this.result.css=f),c&&(this.result.map=c)}else l.clearAnnotation(),this.result.css=l.css}var r=e.prototype;return r.async=function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)},r.catch=function(t){return this.async().catch(t)},r.finally=function(t){return this.async().then(t,t)},r.sync=function(){if(this.error)throw this.error;return this.result},r.then=function(t,i){return this.async().then(t,i)},r.toString=function(){return this._css},r.warnings=function(){return[]},Ie(e,[{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var t,i=z1;try{t=i(this._css,this._opts)}catch(o){this.error=o}if(this.error)throw this.error;return this._root=t,t}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),e})(),q1=pu;pu.default=pu;var H1=q1,G1=jm,K1=oc,Y1=zi,Mi=(function(){function e(n){n===void 0&&(n=[]),this.version="8.4.38",this.plugins=this.normalize(n)}var r=e.prototype;return r.normalize=function(t){for(var i=[],o=D(t),s;!(s=o()).done;){var a=s.value;if(a.postcss===!0?a=a():a.postcss&&(a=a.postcss),(typeof a>"u"?"undefined":z(a))==="object"&&Array.isArray(a.plugins))i=i.concat(a.plugins);else if((typeof a>"u"?"undefined":z(a))==="object"&&a.postcssPlugin)i.push(a);else if(typeof a=="function")i.push(a);else if(!((typeof a>"u"?"undefined":z(a))==="object"&&(a.parse||a.stringify)))throw new Error(a+" is not a PostCSS plugin")}return i},r.process=function(t,i){return i===void 0&&(i={}),!this.plugins.length&&!i.parser&&!i.stringifier&&!i.syntax?new H1(this,t,i):new G1(this,t,i)},r.use=function(t){return this.plugins=this.plugins.concat(this.normalize([t])),this},e})(),J1=Mi;Mi.default=Mi;Y1.registerProcessor(Mi);K1.registerProcessor(Mi);var Q1=Ws,X1=gm,Z1=Vs,ek=ac,tk=zs,rk=zi,nk=lc;function Di(e,r){if(Array.isArray(e))return e.map(function(c){return Di(c)});var n=e.inputs,t=Er(e,["inputs"]);if(n){r=[];for(var i=D(n),o;!(o=i()).done;){var s=o.value,a=re({},s,{__proto__:tk.prototype});a.map&&(a.map=re({},a.map,{__proto__:X1.prototype})),r.push(a)}}if(t.nodes&&(t.nodes=e.nodes.map(function(c){return Di(c,r)})),t.source){var l=t.source,u=l.inputId,f=Er(l,["inputId"]);t.source=f,u!=null&&(t.source.input=r[u])}if(t.type==="root")return new rk(t);if(t.type==="decl")return new Q1(t);if(t.type==="rule")return new nk(t);if(t.type==="comment")return new Z1(t);if(t.type==="atrule")return new ek(t);throw new Error("Unknown node type: "+e.type)}var ik=Di;Di.default=Di;var ok=rc,Wm=Ws,sk=jm,ak=Dr,cc=J1,lk=Us,uk=ik,zm=oc,ck=Mm,Vm=Vs,qm=ac,fk=sc,dk=zs,hk=uc,pk=$m,Hm=lc,Gm=zi,mk=js;function _e(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])&&(r=r[0]),new cc(r)}_e.plugin=function(r,n){var t=!1;function i(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];console&&console.warn&&!t&&(t=!0,console.warn(r+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(r+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));var u=n.apply(void 0,[].concat(a));return u.postcssPlugin=r,u.postcssVersion=new cc().version,u}var o;return Object.defineProperty(i,"postcss",{get:function(){return o||(o=i()),o}}),i.process=function(s,a,l){return _e([i(l)]).process(s,a)},i};_e.stringify=lk;_e.parse=hk;_e.fromJSON=uk;_e.list=pk;_e.comment=function(e){return new Vm(e)};_e.atRule=function(e){return new qm(e)};_e.decl=function(e){return new Wm(e)};_e.rule=function(e){return new Hm(e)};_e.root=function(e){return new Gm(e)};_e.document=function(e){return new zm(e)};_e.CssSyntaxError=ok;_e.Declaration=Wm;_e.Container=ak;_e.Processor=cc;_e.Document=zm;_e.Comment=Vm;_e.Warning=ck;_e.AtRule=qm;_e.Result=fk;_e.Input=dk;_e.Rule=Hm;_e.Root=Gm;_e.Node=mk;sk.registerPostcss(_e);var vk=_e;_e.default=_e;var De=OC(vk);De.stringify;De.fromJSON;De.plugin;De.parse;De.list;De.document;De.comment;De.atRule;De.rule;De.decl;De.root;De.CssSyntaxError;De.Declaration;De.Container;De.Processor;De.Document;De.Comment;De.Warning;De.AtRule;De.Result;De.Input;De.Rule;De.Root;De.Node;var gk=Object.defineProperty,yk=function(e,r,n){return r in e?gk(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n},Uo=function(e,r,n){return yk(e,(typeof r>"u"?"undefined":z(r))!=="symbol"?r+"":r,n)};function _k(e,r,n){try{if(!(r in e))return function(){};var t=e[r],i=n(t);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:t}})),e[r]=i,function(){e[r]=t}}catch{return function(){}}}var Hr=(function(){function e(n){Uo(this,"fileName"),Uo(this,"functionName"),Uo(this,"lineNumber"),Uo(this,"columnNumber"),this.fileName=n.fileName||"",this.functionName=n.functionName||"",this.lineNumber=n.lineNumber,this.columnNumber=n.columnNumber}var r=e.prototype;return r.toString=function(){var t=this.lineNumber||"",i=this.columnNumber||"";return this.functionName?this.functionName+" ("+this.fileName+":"+t+":"+i+")":this.fileName+":"+t+":"+i},e})(),bk=/(^|@)\S+:\d+/,ih=/^\s*at .*(\S+:\d+|\(native\))/m,wk=/^(eval@)?(\[native code])?$/,cl={parse:function(r){return r?typeof r.stacktrace<"u"||typeof r["opera#sourceloc"]<"u"?this.parseOpera(r):r.stack&&r.stack.match(ih)?this.parseV8OrIE(r):r.stack?this.parseFFOrSafari(r):(console.warn("[console-record-plugin]: Failed to parse error object:",r),[]):[]},extractLocation:function(r){if(r.indexOf(":")===-1)return[r];var n=/(.+?)(?::(\d+))?(?::(\d+))?$/,t=n.exec(r.replace(/[()]/g,""));if(!t)throw new Error("Cannot parse given url: "+r);return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(r){var n=r.stack.split(`
`).filter(function(t){return!!t.match(ih)},this);return n.map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var i=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),o=i.match(/ (\((.+):(\d+):(\d+)\)$)/);i=o?i.replace(o[0],""):i;var s=i.split(/\s+/).slice(1),a=this.extractLocation(o?o[1]:s.pop()),l=s.join(" ")||void 0,u=["eval","<anonymous>"].indexOf(a[0])>-1?void 0:a[0];return new Hr({functionName:l,fileName:u,lineNumber:a[1],columnNumber:a[2]})},this)},parseFFOrSafari:function(r){var n=r.stack.split(`
`).filter(function(t){return!t.match(wk)},this);return n.map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),t.indexOf("@")===-1&&t.indexOf(":")===-1)return new Hr({functionName:t});var i=/((.*".+"[^@]*)?[^@]*)(?:@)/,o=t.match(i),s=o&&o[1]?o[1]:void 0,a=this.extractLocation(t.replace(i,""));return new Hr({functionName:s,fileName:a[0],lineNumber:a[1],columnNumber:a[2]})},this)},parseOpera:function(r){return!r.stacktrace||r.message.indexOf(`
`)>-1&&r.message.split(`
`).length>r.stacktrace.split(`
`).length?this.parseOpera9(r):r.stack?this.parseOpera11(r):this.parseOpera10(r)},parseOpera9:function(r){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,t=r.message.split(`
`),i=[],o=2,s=t.length;o<s;o+=2){var a=n.exec(t[o]);a&&i.push(new Hr({fileName:a[2],lineNumber:parseFloat(a[1])}))}return i},parseOpera10:function(r){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,t=r.stacktrace.split(`
`),i=[],o=0,s=t.length;o<s;o+=2){var a=n.exec(t[o]);a&&i.push(new Hr({functionName:a[3]||void 0,fileName:a[2],lineNumber:parseFloat(a[1])}))}return i},parseOpera11:function(r){var n=r.stack.split(`
`).filter(function(t){return!!t.match(bk)&&!t.match(/^Error created at/)},this);return n.map(function(t){var i=t.split("@"),o=this.extractLocation(i.pop()),s=i.shift()||"",a=s.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return new Hr({functionName:a,fileName:o[0],lineNumber:o[1],columnNumber:o[2]})},this)}};function Sk(e){if(!e||!e.outerHTML)return"";for(var r="";e.parentElement;){var n=e.localName;if(!n)break;n=n.toLowerCase();var t=e.parentElement,i=[];if(t.children&&t.children.length>0)for(var o=0;o<t.children.length;o++){var s=t.children[o];s.localName&&s.localName.toLowerCase&&s.localName.toLowerCase()===n&&i.push(s)}i.length>1&&(n+=":eq("+i.indexOf(e)+")"),r=n+(r?">"+r:""),e=t}return r}function mu(e){return Object.prototype.toString.call(e)==="[object Object]"}function Km(e,r){if(r===0)return!0;for(var n=Object.keys(e),t=D(n),i;!(i=t()).done;){var o=i.value;if(mu(e[o])&&Km(e[o],r-1))return!0}return!1}function Gr(e,r){var n={numOfKeysLimit:50,depthOfLimit:4};Object.assign(n,r);var t=[],i=[];return JSON.stringify(e,function(a,l){if(t.length>0){var u=t.indexOf(this);~u?t.splice(u+1):t.push(this),~u?i.splice(u,1/0,a):i.push(a),~t.indexOf(l)&&(t[0]===l?l="[Circular ~]":l="[Circular ~."+i.slice(0,t.indexOf(l)).join(".")+"]")}else t.push(l);if(l===null)return l;if(l===void 0)return"undefined";if(o(l))return s(l);if((typeof l>"u"?"undefined":z(l))==="bigint")return l.toString()+"n";if(W(l,Event)){var f={};for(var c in l){var d=l[c];Array.isArray(d)?f[c]=Sk(d.length?d[0]:null):f[c]=d}return f}else{if(W(l,Node))return W(l,HTMLElement)?l?l.outerHTML:"":l.nodeName;if(W(l,Error))return l.stack?l.stack+`
End of stack for Error object`:l.name+": "+l.message}return l});function o(a){return!!(mu(a)&&Object.keys(a).length>n.numOfKeysLimit||typeof a=="function"||mu(a)&&Km(a,n.depthOfLimit))}function s(a){var l=a.toString();return n.stringLengthLimit&&l.length>n.stringLengthLimit&&(l=""+l.slice(0,n.stringLengthLimit)+"..."),l}}var oh={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],lengthThreshold:1e3,logger:"console"};function xk(e,r,n){var t=n?Object.assign({},oh,n):oh,i=t.logger;if(!i)return function(){};var o;typeof i=="string"?o=r[i]:o=i;var s=0,a=!1,l=[];if(t.level.includes("error")){var u=function(b){var g=b.message,_=b.error,w=cl.parse(_).map(function(x){return x.toString()}),S=[Gr(g,t.stringifyOptions)];e({level:"error",trace:w,payload:S})};r.addEventListener("error",u),l.push(function(){r.removeEventListener("error",u)});var f=function(b){var g,_;W(b.reason,Error)?(g=b.reason,_=[Gr("Uncaught (in promise) "+g.name+": "+g.message,t.stringifyOptions)]):(g=new Error,_=[Gr("Uncaught (in promise)",t.stringifyOptions),Gr(b.reason,t.stringifyOptions)]);var w=cl.parse(g).map(function(S){return S.toString()});e({level:"error",trace:w,payload:_})};r.addEventListener("unhandledrejection",f),l.push(function(){r.removeEventListener("unhandledrejection",f)})}for(var c=D(t.level),d;!(d=c()).done;){var p=d.value;l.push(v(o,p))}return function(){l.forEach(function(b){return b()})};function v(b,g){var _=this;return b[g]?_k(b,g,function(w){var S=_;return function(){for(var x=arguments.length,C=new Array(x),T=0;T<x;T++)C[T]=arguments[T];if(w.apply(S,C),!(g==="assert"&&C[0])&&!a){a=!0;try{var I=cl.parse(new Error).map(function(P){return P.toString()}).splice(1),O=g==="assert"?C.slice(1):C,N=O.map(function(P){return Gr(P,t.stringifyOptions)});s++,s<t.lengthThreshold?e({level:g,trace:I,payload:N}):s===t.lengthThreshold&&e({level:"warn",trace:[],payload:[Gr("The number of log records reached the threshold.")]})}catch(P){w.apply(void 0,[].concat(["rrweb logger error:",P],C))}finally{a=!1}}}}):function(){}}}var Ck="rrweb/console@1",kk=function(e){return{name:Ck,observer:xk,options:e}},sh=M.setImmediate,sr,vu,gu,Ym=Object.prototype.toString,Ek=typeof sh<"u"?function(r){return sh(r)}:setTimeout;try{Object.defineProperty({},"x",{}),sr=function(r,n,t,i){return Object.defineProperty(r,n,{value:t,writable:!0,configurable:i!==!1})}}catch{sr=function(n,t,i){return n[t]=i,n}}gu=(function(){var r,n,t;function i(o,s){this.fn=o,this.self=s,this.next=void 0}return{add:function(s,a){t=new i(s,a),n?n.next=t:r=t,n=t,t=void 0},drain:function(){var s=r;for(r=n=vu=void 0;s;)s.fn.call(s.self),s=s.next}}})();function vs(e,r){gu.add(e,r),vu||(vu=Ek(gu.drain))}function Jm(e){var r,n=typeof e;return e!==null&&(n==="object"||n==="function")&&(r=e.then),typeof r=="function"?r:!1}function fc(){for(var e=0;e<this.chain.length;e++)Ik(this,this.state===1?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function Ik(e,r,n){var t,i;try{r===!1?n.reject(e.msg):(r===!0?t=e.msg:t=r.call(void 0,e.msg),t===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=Jm(t))?i.call(t,n.resolve,n.reject):n.resolve(t))}catch(o){n.reject(o)}}function Qm(e){var r,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(r=Jm(e))?vs(function(){var t=new ah(n);try{r.call(e,function(){Qm.apply(t,arguments)},function(){mi.apply(t,arguments)})}catch(i){mi.call(t,i)}}):(n.msg=e,n.state=1,n.chain.length>0&&vs(fc,n))}catch(t){mi.call(new ah(n),t)}}}function mi(e){var r=this;r.triggered||(r.triggered=!0,r.def&&(r=r.def),r.msg=e,r.state=2,r.chain.length>0&&vs(fc,r))}function Xm(e,r,n,t){for(var i=0;i<r.length;i++)(function(s){e.resolve(r[s]).then(function(l){n(s,l)},t)})(i)}function ah(e){this.def=e,this.triggered=!1}function Ak(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function mr(e){if(typeof e!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var r=new Ak(this);this.then=function(t,i){var o={success:typeof t=="function"?t:!0,failure:typeof i=="function"?i:!1};return o.promise=new this.constructor(function(a,l){if(typeof a!="function"||typeof l!="function")throw TypeError("Not a function");o.resolve=a,o.reject=l}),r.chain.push(o),r.state!==0&&vs(fc,r),o.promise},this.catch=function(t){return this.then(void 0,t)};try{e.call(void 0,function(t){Qm.call(r,t)},function(t){mi.call(r,t)})}catch(n){mi.call(r,n)}}var Zm=sr({},"constructor",mr,!1);mr.prototype=Zm;sr(Zm,"__NPO__",0,!1);sr(mr,"resolve",function(r){var n=this;return r&&typeof r=="object"&&r.__NPO__===1?r:new n(function(i,o){if(typeof i!="function"||typeof o!="function")throw TypeError("Not a function");i(r)})});sr(mr,"reject",function(r){return new this(function(t,i){if(typeof t!="function"||typeof i!="function")throw TypeError("Not a function");i(r)})});sr(mr,"all",function(r){var n=this;return Ym.call(r)!=="[object Array]"?n.reject(TypeError("Not an array")):r.length===0?n.resolve([]):new n(function(i,o){if(typeof i!="function"||typeof o!="function")throw TypeError("Not a function");var s=r.length,a=Array(s),l=0;Xm(n,r,function(f,c){a[f]=c,++l===s&&i(a)},o)})});sr(mr,"race",function(r){var n=this;return Ym.call(r)!=="[object Array]"?n.reject(TypeError("Not an array")):new n(function(i,o){if(typeof i!="function"||typeof o!="function")throw TypeError("Not a function");Xm(n,r,function(a,l){i(l)},o)})});var ce;typeof Promise<"u"&&Promise.toString().indexOf("[native code]")!==-1?ce=Promise:ce=mr;var lt={DEBUG:!1,LIB_VERSION:"2.74.0"},vi=1440*60*1e3,fl=8*1e3,qs=Array.prototype,Ok=Function.prototype,ev=Object.prototype,nr=qs.slice,Vi=ev.toString,Hs=ev.hasOwnProperty,ze=M.console,Vt=M.navigator,J=M.document,fi=M.opera,lh=M.screen,It=Vt.userAgent,dl=Ok.bind,uh=qs.forEach,ch=qs.indexOf,fh=qs.map,Tk=Array.isArray,yu={},y={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},Z={log:function(){if(lt.DEBUG&&!y.isUndefined(ze)&&ze)try{ze.log.apply(ze,arguments)}catch{y.each(arguments,function(r){ze.log(r)})}},warn:function(){if(lt.DEBUG&&!y.isUndefined(ze)&&ze){var e=["Mixpanel warning:"].concat(y.toArray(arguments));try{ze.warn.apply(ze,e)}catch{y.each(e,function(n){ze.warn(n)})}}},error:function(){if(lt.DEBUG&&!y.isUndefined(ze)&&ze){var e=["Mixpanel error:"].concat(y.toArray(arguments));try{ze.error.apply(ze,e)}catch{y.each(e,function(n){ze.error(n)})}}},critical:function(){if(!y.isUndefined(ze)&&ze){var e=["Mixpanel error:"].concat(y.toArray(arguments));try{ze.error.apply(ze,e)}catch{y.each(e,function(n){ze.error(n)})}}}},hl=function(e,r){return function(){return arguments[0]="["+r+"] "+arguments[0],e.apply(Z,arguments)}},Lr=function(e){return{log:hl(Z.log,e),error:hl(Z.error,e),critical:hl(Z.critical,e)}},Li=function(e){return function(){try{return e.apply(this,arguments)}catch(r){Z.critical("Implementation error. Please turn on debug and contact support@mixpanel.com."),lt.DEBUG&&Z.critical(r)}}},tv=function(e){var r=e.prototype;for(var n in r)typeof r[n]=="function"&&(r[n]=Li(r[n]))};y.bind=function(e,r){var n,t;if(dl&&e.bind===dl)return dl.apply(e,nr.call(arguments,1));if(!y.isFunction(e))throw new TypeError;return n=nr.call(arguments,2),t=function(){if(!(this instanceof t))return e.apply(r,n.concat(nr.call(arguments)));var i={};i.prototype=e.prototype;var o=new i;i.prototype=null;var s=e.apply(o,n.concat(nr.call(arguments)));return Object(s)===s?s:o},t};y.each=function(e,r,n){if(e!=null){if(uh&&e.forEach===uh)e.forEach(r,n);else if(e.length===+e.length){for(var t=0,i=e.length;t<i;t++)if(t in e&&r.call(n,e[t],t,e)===yu)return}else for(var o in e)if(Hs.call(e,o)&&r.call(n,e[o],o,e)===yu)return}};y.extend=function(e){return y.each(nr.call(arguments,1),function(r){for(var n in r)r[n]!==void 0&&(e[n]=r[n])}),e};y.isArray=Tk||function(e){return Vi.call(e)==="[object Array]"};y.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch{return!1}};y.isArguments=function(e){return!!(e&&Hs.call(e,"callee"))};y.toArray=function(e){return e?e.toArray?e.toArray():y.isArray(e)||y.isArguments(e)?nr.call(e):y.values(e):[]};y.map=function(e,r,n){if(fh&&e.map===fh)return e.map(r,n);var t=[];return y.each(e,function(i){t.push(r.call(n,i))}),t};y.keys=function(e){var r=[];return e===null||y.each(e,function(n,t){r[r.length]=t}),r};y.values=function(e){var r=[];return e===null||y.each(e,function(n){r[r.length]=n}),r};y.include=function(e,r){var n=!1;return e===null?n:ch&&e.indexOf===ch?e.indexOf(r)!=-1:(y.each(e,function(t){if(n||(n=t===r))return yu}),n)};y.includes=function(e,r){return e.indexOf(r)!==-1};y.inherit=function(e,r){return e.prototype=new r,e.prototype.constructor=e,e.superclass=r.prototype,e};y.isObject=function(e){return e===Object(e)&&!y.isArray(e)};y.isEmptyObject=function(e){if(y.isObject(e)){for(var r in e)if(Hs.call(e,r))return!1;return!0}return!1};y.isUndefined=function(e){return e===void 0};y.isString=function(e){return Vi.call(e)=="[object String]"};y.isDate=function(e){return Vi.call(e)=="[object Date]"};y.isNumber=function(e){return Vi.call(e)=="[object Number]"};y.isElement=function(e){return!!(e&&e.nodeType===1)};y.encodeDates=function(e){return y.each(e,function(r,n){y.isDate(r)?e[n]=y.formatDate(r):y.isObject(r)&&(e[n]=y.encodeDates(r))}),e};y.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};y.formatDate=function(e){function r(n){return n<10?"0"+n:n}return e.getUTCFullYear()+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())};y.strip_empty_properties=function(e){var r={};return y.each(e,function(n,t){y.isString(n)&&n.length>0&&(r[t]=n)}),r};y.truncate=function(e,r){var n;return typeof e=="string"?n=e.slice(0,r):y.isArray(e)?(n=[],y.each(e,function(t){n.push(y.truncate(t,r))})):y.isObject(e)?(n={},y.each(e,function(t,i){n[i]=y.truncate(t,r)})):n=e,n};y.JSONEncode=(function(){return function(e){var r=e,n=function(i){var o=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return o.lastIndex=0,o.test(i)?'"'+i.replace(o,function(a){var l=s[a];return typeof l=="string"?l:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+i+'"'},t=function(i,o){var s="",a="    ",l=0,u="",f="",c=0,d=s,p=[],v=o[i];switch(v&&typeof v=="object"&&typeof v.toJSON=="function"&&(v=v.toJSON(i)),typeof v){case"string":return n(v);case"number":return isFinite(v)?String(v):"null";case"boolean":case"null":return String(v);case"object":if(!v)return"null";if(s+=a,p=[],Vi.apply(v)==="[object Array]"){for(c=v.length,l=0;l<c;l+=1)p[l]=t(l,v)||"null";return f=p.length===0?"[]":s?`[
`+s+p.join(`,
`+s)+`
`+d+"]":"["+p.join(",")+"]",s=d,f}for(u in v)Hs.call(v,u)&&(f=t(u,v),f&&p.push(n(u)+(s?": ":":")+f));return f=p.length===0?"{}":s?"{"+p.join(",")+d+"}":"{"+p.join(",")+"}",s=d,f}};return t("",{"":r})}})();y.JSONDecode=(function(){var e,r,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},t,i=function(p){var v=new SyntaxError(p);throw v.at=e,v.text=t,v},o=function(p){return p&&p!==r&&i("Expected '"+p+"' instead of '"+r+"'"),r=t.charAt(e),e+=1,r},s=function(){var p,v="";for(r==="-"&&(v="-",o("-"));r>="0"&&r<="9";)v+=r,o();if(r===".")for(v+=".";o()&&r>="0"&&r<="9";)v+=r;if(r==="e"||r==="E")for(v+=r,o(),(r==="-"||r==="+")&&(v+=r,o());r>="0"&&r<="9";)v+=r,o();if(p=+v,!isFinite(p))i("Bad number");else return p},a=function(){var p,v,b="",g;if(r==='"')for(;o();){if(r==='"')return o(),b;if(r==="\\")if(o(),r==="u"){for(g=0,v=0;v<4&&(p=parseInt(o(),16),!!isFinite(p));v+=1)g=g*16+p;b+=String.fromCharCode(g)}else if(typeof n[r]=="string")b+=n[r];else break;else b+=r}i("Bad string")},l=function(){for(;r&&r<=" ";)o()},u=function(){switch(r){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null}i('Unexpected "'+r+'"')},f,c=function(){var p=[];if(r==="["){if(o("["),l(),r==="]")return o("]"),p;for(;r;){if(p.push(f()),l(),r==="]")return o("]"),p;o(","),l()}}i("Bad array")},d=function(){var p,v={};if(r==="{"){if(o("{"),l(),r==="}")return o("}"),v;for(;r;){if(p=a(),l(),o(":"),Object.hasOwnProperty.call(v,p)&&i('Duplicate key "'+p+'"'),v[p]=f(),l(),r==="}")return o("}"),v;o(","),l()}}i("Bad object")};return f=function(){switch(l(),r){case"{":return d();case"[":return c();case'"':return a();case"-":return s();default:return r>="0"&&r<="9"?s():u()}},function(p){var v;return t=p,e=0,r=" ",v=f(),l(),r&&i("Syntax error"),v}})();y.base64Encode=function(e){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n,t,i,o,s,a,l,u,f=0,c=0,d="",p=[];if(!e)return e;e=y.utf8Encode(e);do n=e.charCodeAt(f++),t=e.charCodeAt(f++),i=e.charCodeAt(f++),u=n<<16|t<<8|i,o=u>>18&63,s=u>>12&63,a=u>>6&63,l=u&63,p[c++]=r.charAt(o)+r.charAt(s)+r.charAt(a)+r.charAt(l);while(f<e.length);switch(d=p.join(""),e.length%3){case 1:d=d.slice(0,-2)+"==";break;case 2:d=d.slice(0,-1)+"=";break}return d};y.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var r="",n,t,i=0,o;for(n=t=0,i=e.length,o=0;o<i;o++){var s=e.charCodeAt(o),a=null;s<128?t++:s>127&&s<2048?a=String.fromCharCode(s>>6|192,s&63|128):a=String.fromCharCode(s>>12|224,s>>6&63|128,s&63|128),a!==null&&(t>n&&(r+=e.substring(n,t)),r+=a,n=t=o+1)}return t>n&&(r+=e.substring(n,e.length)),r};y.UUID=function(){try{return M.crypto.randomUUID()}catch{for(var e=new Array(36),r=0;r<36;r++)e[r]=Math.floor(Math.random()*16);return e[14]=4,e[19]=e[19]&=-5,e[19]=e[19]|=8,e[8]=e[13]=e[18]=e[23]="-",y.map(e,function(t){return t.toString(16)}).join("")}};var dh=["ahrefsbot","ahrefssiteaudit","amazonbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandex","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];y.isBlockedUA=function(e){var r;for(e=e.toLowerCase(),r=0;r<dh.length;r++)if(e.indexOf(dh[r])!==-1)return!0;return!1};y.HTTPBuildQuery=function(e,r){var n,t,i=[];return y.isUndefined(r)&&(r="&"),y.each(e,function(o,s){n=encodeURIComponent(o.toString()),t=encodeURIComponent(s),i[i.length]=t+"="+n}),i.join(r)};y.getQueryParam=function(e,r){r=r.replace(/[[]/g,"\\[").replace(/[\]]/g,"\\]");var n="[\\?&]"+r+"=([^&#]*)",t=new RegExp(n),i=t.exec(e);if(i===null||i&&typeof i[1]!="string"&&i[1].length)return"";var o=i[1];try{o=decodeURIComponent(o)}catch{Z.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")};y.cookie={get:function(e){for(var r=e+"=",n=J.cookie.split(";"),t=0;t<n.length;t++){for(var i=n[t];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(r)===0)return decodeURIComponent(i.substring(r.length,i.length))}return null},parse:function(e){var r;try{r=y.JSONDecode(y.cookie.get(e))||{}}catch{}return r},set_seconds:function(e,r,n,t,i,o,s){var a="",l="",u="";if(s)a="; domain="+s;else if(t){var f=hh(J.location.hostname);a=f?"; domain=."+f:""}if(n){var c=new Date;c.setTime(c.getTime()+n*1e3),l="; expires="+c.toGMTString()}o&&(i=!0,u="; SameSite=None"),i&&(u+="; secure"),J.cookie=e+"="+encodeURIComponent(r)+l+"; path=/"+a+u},set:function(e,r,n,t,i,o,s){var a="",l="",u="";if(s)a="; domain="+s;else if(t){var f=hh(J.location.hostname);a=f?"; domain=."+f:""}if(n){var c=new Date;c.setTime(c.getTime()+n*24*60*60*1e3),l="; expires="+c.toGMTString()}o&&(i=!0,u="; SameSite=None"),i&&(u+="; secure");var d=e+"="+encodeURIComponent(r)+l+"; path=/"+a+u;return J.cookie=d,d},remove:function(e,r,n){y.cookie.set(e,"",-1,r,!1,!1,n)}};var rv=function(e){var r=!0;try{var n="__mplss_"+dc(8),t="xyz";e.setItem(n,t),e.getItem(n)!==t&&(r=!1),e.removeItem(n)}catch{r=!1}return r},pl=null,Ri=function(e,r){return pl!==null&&!r?pl:pl=rv(e||M.localStorage)},ml=null,Nk=function(e,r){return ml!==null&&!r?ml:ml=rv(e||M.sessionStorage)};function nv(e,r,n){var t=function(i){Z.error(r+" error: "+i)};return{is_supported:function(i){var o=n(e,i);return o||Z.error(r+" unsupported"),o},error:t,get:function(i){try{return e.getItem(i)}catch(o){t(o)}return null},parse:function(i){try{return y.JSONDecode(e.getItem(i))||{}}catch{}return null},set:function(i,o){try{e.setItem(i,o)}catch(s){t(s)}},remove:function(i){try{e.removeItem(i)}catch(o){t(o)}}}}var iv=null,ov=null;try{iv=M.localStorage,ov=M.sessionStorage}catch{}y.localStorage=nv(iv,"localStorage",Ri);y.sessionStorage=nv(ov,"sessionStorage",Nk);y.register_event=(function(){var e=function(t,i,o,s,a){if(!t){Z.error("No valid element provided to register_event");return}if(t.addEventListener&&!s)t.addEventListener(i,o,!!a);else{var l="on"+i,u=t[l];t[l]=r(t,o,u)}};function r(t,i,o){var s=function(a){if(a=a||n(M.event),!!a){var l=!0,u,f;return y.isFunction(o)&&(u=o(a)),f=i.call(t,a),(u===!1||f===!1)&&(l=!1),l}};return s}function n(t){return t&&(t.preventDefault=n.preventDefault,t.stopPropagation=n.stopPropagation),t}return n.preventDefault=function(){this.returnValue=!1},n.stopPropagation=function(){this.cancelBubble=!0},e})();var Pk=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');y.dom_query=(function(){function e(i){return i.all?i.all:i.getElementsByTagName("*")}var r=/[\t\r\n]/g;function n(i,o){var s=" "+o+" ";return(" "+i.className+" ").replace(r," ").indexOf(s)>=0}function t(i){if(!J.getElementsByTagName)return[];var o=i.split(" "),s,a,l,u,f,c,d,p,v,b,g=[J];for(c=0;c<o.length;c++){if(s=o[c].replace(/^\s+/,"").replace(/\s+$/,""),s.indexOf("#")>-1){a=s.split("#"),l=a[0];var _=a[1],w=J.getElementById(_);if(!w||l&&w.nodeName.toLowerCase()!=l)return[];g=[w];continue}if(s.indexOf(".")>-1){a=s.split("."),l=a[0];var S=a[1];for(l||(l="*"),u=[],f=0,d=0;d<g.length;d++)for(l=="*"?v=e(g[d]):v=g[d].getElementsByTagName(l),p=0;p<v.length;p++)u[f++]=v[p];for(g=[],b=0,d=0;d<u.length;d++)u[d].className&&y.isString(u[d].className)&&n(u[d],S)&&(g[b++]=u[d]);continue}var x=s.match(Pk);if(x){l=x[1];var C=x[2],T=x[3],I=x[4];for(l||(l="*"),u=[],f=0,d=0;d<g.length;d++)for(l=="*"?v=e(g[d]):v=g[d].getElementsByTagName(l),p=0;p<v.length;p++)u[f++]=v[p];g=[],b=0;var O;switch(T){case"=":O=function(N){return N.getAttribute(C)==I};break;case"~":O=function(N){return N.getAttribute(C).match(new RegExp("\\b"+I+"\\b"))};break;case"|":O=function(N){return N.getAttribute(C).match(new RegExp("^"+I+"-?"))};break;case"^":O=function(N){return N.getAttribute(C).indexOf(I)===0};break;case"$":O=function(N){return N.getAttribute(C).lastIndexOf(I)==N.getAttribute(C).length-I.length};break;case"*":O=function(N){return N.getAttribute(C).indexOf(I)>-1};break;default:O=function(N){return N.getAttribute(C)}}for(g=[],b=0,d=0;d<u.length;d++)O(u[d])&&(g[b++]=u[d]);continue}for(l=s,u=[],f=0,d=0;d<g.length;d++)for(v=g[d].getElementsByTagName(l),p=0;p<v.length;p++)u[f++]=v[p];g=u}return g}return function(i){return y.isElement(i)?[i]:y.isObject(i)&&!y.isUndefined(i.length)?i:t.call(this,i)}})();var Mk=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","utm_id","utm_source_platform","utm_campaign_id","utm_creative_format","utm_marketing_tactic"],Dk=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","sccid","ttclid","twclid","wbraid"];y.info={campaignParams:function(e){var r="",n={};return y.each(Mk,function(t){r=y.getQueryParam(J.URL,t),r.length?n[t]=r:e!==void 0&&(n[t]=e)}),n},clickParams:function(){var e="",r={};return y.each(Dk,function(n){e=y.getQueryParam(J.URL,n),e.length&&(r[n]=e)}),r},marketingParams:function(){return y.extend(y.info.campaignParams(),y.info.clickParams())},searchEngine:function(e){return e.search("https?://(.*)google.([^/?]*)")===0?"google":e.search("https?://(.*)bing.com")===0?"bing":e.search("https?://(.*)yahoo.com")===0?"yahoo":e.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(e){var r=y.info.searchEngine(e),n=r!="yahoo"?"q":"p",t={};if(r!==null){t.$search_engine=r;var i=y.getQueryParam(e,n);i.length&&(t.mp_keyword=i)}return t},browser:function(e,r,n){return r=r||"",n||y.includes(e," OPR/")?y.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":y.includes(e,"IEMobile")||y.includes(e,"WPDesktop")?"Internet Explorer Mobile":y.includes(e,"SamsungBrowser/")?"Samsung Internet":y.includes(e,"Edge")||y.includes(e,"Edg/")?"Microsoft Edge":y.includes(e,"FBIOS")?"Facebook Mobile":y.includes(e,"Whale/")?"Whale Browser":y.includes(e,"Chrome")?"Chrome":y.includes(e,"CriOS")?"Chrome iOS":y.includes(e,"UCWEB")||y.includes(e,"UCBrowser")?"UC Browser":y.includes(e,"FxiOS")?"Firefox iOS":y.includes(r,"Apple")?y.includes(e,"Mobile")?"Mobile Safari":"Safari":y.includes(e,"Android")?"Android Mobile":y.includes(e,"Konqueror")?"Konqueror":y.includes(e,"Firefox")?"Firefox":y.includes(e,"MSIE")||y.includes(e,"Trident/")?"Internet Explorer":y.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,r,n){var t=y.info.browser(e,r,n),i={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/,"Whale Browser":/Whale\/(\d+(\.\d+)?)/},o=i[t];if(o===void 0)return null;var s=e.match(o);return s?parseFloat(s[s.length-2]):null},os:function(){var e=It;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var r=e.split("/");return r.length>=3?r[2]:""},currentUrl:function(){return M.location.href},properties:function(e){return typeof e!="object"&&(e={}),y.extend(y.strip_empty_properties({$os:y.info.os(),$browser:y.info.browser(It,Vt.vendor,fi),$referrer:J.referrer,$referring_domain:y.info.referringDomain(J.referrer),$device:y.info.device(It)}),{$current_url:y.info.currentUrl(),$browser_version:y.info.browserVersion(It,Vt.vendor,fi),$screen_height:lh.height,$screen_width:lh.width,mp_lib:"web",$lib_version:lt.LIB_VERSION,$insert_id:dc(),time:y.timestamp()/1e3},y.strip_empty_properties(e))},people_properties:function(){return y.extend(y.strip_empty_properties({$os:y.info.os(),$browser:y.info.browser(It,Vt.vendor,fi)}),{$browser_version:y.info.browserVersion(It,Vt.vendor,fi)})},mpPageViewProperties:function(){return y.strip_empty_properties({current_page_title:J.title,current_domain:M.location.hostname,current_url_path:M.location.pathname,current_url_protocol:M.location.protocol,current_url_search:M.location.search})}};var Lk=function(e,r){var n=null,t=[];return function(i){var o=this;return t.push(i),n||(n=new ce(function(s){setTimeout(function(){var a=e.apply(o,[t]);n=null,t=[],s(a)},r)})),n}},dc=function(e){var r=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?r.substring(0,e):r},Rk=function(){var e=y.UUID().replace(/-/g,""),r=y.UUID().replace(/-/g,"").substring(0,16),n="01";return"00-"+e+"-"+r+"-"+n},Fk=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,$k=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,hh=function(e){var r=$k,n=e.split("."),t=n[n.length-1];(t.length>4||t==="com"||t==="org")&&(r=Fk);var i=e.match(r);return i?i[0]:""},Bk=function(){var e=M.navigator.onLine;return y.isUndefined(e)||e},or=function(){},pn=null,gs=null;typeof JSON<"u"&&(pn=JSON.stringify,gs=JSON.parse);pn=pn||y.JSONEncode;gs=gs||y.JSONDecode;var Uk=function(e,r,n){if(!M.CompressionStream)return!1;var t=y.info.browser(e,r,n),i=y.info.browserVersion(e,r,n);return!((t==="Safari"||t==="Mobile Safari")&&i>=16.4&&i<16.6)};y.info=y.info;y.info.browser=y.info.browser;y.info.browserVersion=y.info.browserVersion;y.info.device=y.info.device;y.info.properties=y.info.properties;y.isBlockedUA=y.isBlockedUA;y.isEmptyObject=y.isEmptyObject;y.isObject=y.isObject;y.JSONDecode=y.JSONDecode;y.JSONEncode=y.JSONEncode;y.toArray=y.toArray;y.NPO=mr;var jk="mixpanelBrowserDb",sv="mixpanelRecordingEvents",hc="mixpanelRecordingRegistry",Wk=1,zk=[sv,hc],_t=function(e){this.dbPromise=null,this.storeName=e};_t.prototype._openDb=function(){return new ce(function(e,r){var n=M.indexedDB.open(jk,Wk);n.onerror=function(){r(n.error)},n.onsuccess=function(){e(n.result)},n.onupgradeneeded=function(t){var i=t.target.result;zk.forEach(function(o){i.createObjectStore(o)})}})};_t.prototype.init=function(){return M.indexedDB?(this.dbPromise||(this.dbPromise=this._openDb()),this.dbPromise.then(function(e){return e instanceof M.IDBDatabase?ce.resolve():ce.reject(e)})):ce.reject("indexedDB is not supported in this browser")};_t.prototype.isInitialized=function(){return!!this.dbPromise};_t.prototype.makeTransaction=function(e,r){var n=this.storeName,t=function(i){return new ce(function(o,s){var a=i.transaction(n,e);a.oncomplete=function(){o(a)},a.onabort=a.onerror=function(){s(a.error)},r(a.objectStore(n))})};return this.dbPromise.then(t).catch(function(i){return i&&i.name==="InvalidStateError"?(this.dbPromise=this._openDb(),this.dbPromise.then(t)):ce.reject(i)}.bind(this))};_t.prototype.setItem=function(e,r){return this.makeTransaction("readwrite",function(n){n.put(r,e)})};_t.prototype.getItem=function(e){var r;return this.makeTransaction("readonly",function(n){r=n.get(e)}).then(function(){return r.result})};_t.prototype.removeItem=function(e){return this.makeTransaction("readwrite",function(r){r.delete(e)})};_t.prototype.getAll=function(){var e;return this.makeTransaction("readonly",function(r){e=r.getAll()}).then(function(){return e.result})};var Vk="__mp_opt_in_out_";function qk(e,r){uv(!0,e,r)}function Hk(e,r){uv(!1,e,r)}function Gk(e,r){return lv(e,r)==="1"}function av(e,r){if(Yk(r))return Z.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var n=lv(e,r)==="0";return n&&Z.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),n}function vr(e){return vc(e,function(r){return this.get_config(r)})}function gr(e){return vc(e,function(r){return this._get_config(r)})}function gn(e){return vc(e,function(r){return this._get_config(r)})}function Kk(e,r){r=r||{},pc(r).remove(mc(e,r),!!r.crossSubdomainCookie,r.cookieDomain)}function pc(e){return e=e||{},e.persistenceType==="localStorage"?y.localStorage:y.cookie}function mc(e,r){return r=r||{},(r.persistencePrefix||Vk)+e}function lv(e,r){return pc(r).get(mc(e,r))}function Yk(e){if(e&&e.ignoreDnt)return!1;var r=e&&e.window||M,n=r.navigator||{},t=!1;return y.each([n.doNotTrack,n.msDoNotTrack,r.doNotTrack],function(i){y.includes([!0,1,"1","yes"],i)&&(t=!0)}),t}function uv(e,r,n){if(!y.isString(r)||!r.length){Z.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token");return}n=n||{},pc(n).set(mc(r,n),e?1:0,y.isNumber(n.cookieExpiration)?n.cookieExpiration:null,!!n.crossSubdomainCookie,!!n.secureCookie,!!n.crossSiteCookie,n.cookieDomain),n.track&&e&&n.track(n.trackEventName||"$opt_in",n.trackProperties,{send_immediately:!0})}function vc(e,r){return function(){var n=!1;try{var t=r.call(this,"token"),i=r.call(this,"ignore_dnt"),o=r.call(this,"opt_out_tracking_persistence_type"),s=r.call(this,"opt_out_tracking_cookie_prefix"),a=r.call(this,"window");t&&(n=av(t,{ignoreDnt:i,persistenceType:o,persistencePrefix:s,window:a}))}catch(u){Z.error("Unexpected error when checking tracking opt-out status: "+u)}if(!n)return e.apply(this,arguments);var l=arguments[arguments.length-1];typeof l=="function"&&l(0)}}var Jk=Lr("lock"),cv=function(e,r){r=r||{},this.storageKey=e,this.storage=r.storage||M.localStorage,this.pollIntervalMS=r.pollIntervalMS||100,this.timeoutMS=r.timeoutMS||2e3,this.promiseImpl=r.promiseImpl||ce};cv.prototype.withLock=function(e,r){var n=this.promiseImpl;return new n(y.bind(function(t,i){var o=r||new Date().getTime()+"|"+Math.random(),s=new Date().getTime(),a=this.storageKey,l=this.pollIntervalMS,u=this.timeoutMS,f=this.storage,c=a+":X",d=a+":Y",p=a+":Z",v=function(S){if(new Date().getTime()-s>u){Jk.error("Timeout waiting for mutex on "+a+"; clearing lock. ["+o+"]"),f.removeItem(p),f.removeItem(d),_();return}setTimeout(function(){try{S()}catch(x){i(x)}},l*(Math.random()+.1))},b=function(S,x){S()?x():v(function(){b(S,x)})},g=function(){var S=f.getItem(d);return S&&S!==o?!1:(f.setItem(d,o),f.getItem(d)===o?!0:(Ri(f,!0)||i(new Error("localStorage support dropped while acquiring lock")),!1))},_=function(){f.setItem(c,o),b(g,function(){if(f.getItem(c)===o){w();return}v(function(){if(f.getItem(d)!==o){_();return}b(function(){return!f.getItem(p)},w)})})},w=function(){f.setItem(p,"1");var S=function(){f.removeItem(p),f.getItem(d)===o&&f.removeItem(d),f.getItem(c)===o&&f.removeItem(c)};e().then(function(x){S(),t(x)}).catch(function(x){S(),i(x)})};try{if(Ri(f,!0))_();else throw new Error("localStorage support check failed")}catch(S){i(S)}},this))};var yn=function(e){this.storage=e||M.localStorage};yn.prototype.init=function(){return ce.resolve()};yn.prototype.isInitialized=function(){return!0};yn.prototype.setItem=function(e,r){return new ce(y.bind(function(n,t){try{this.storage.setItem(e,pn(r))}catch(i){t(i)}n()},this))};yn.prototype.getItem=function(e){return new ce(y.bind(function(r,n){var t;try{t=gs(this.storage.getItem(e))}catch(i){n(i)}r(t)},this))};yn.prototype.removeItem=function(e){return new ce(y.bind(function(r,n){try{this.storage.removeItem(e)}catch(t){n(t)}r()},this))};var ph=Lr("batch"),Tt=function(e,r){r=r||{},this.storageKey=e,this.usePersistence=r.usePersistence,this.usePersistence&&(this.queueStorage=r.queueStorage||new yn,this.lock=new cv(e,{storage:r.sharedLockStorage||M.localStorage,timeoutMS:r.sharedLockTimeoutMS})),this.reportError=r.errorReporter||y.bind(ph.error,ph),this.pid=r.pid||null,this.memQueue=[],this.initialized=!1,r.enqueueThrottleMs?this.enqueuePersisted=Lk(y.bind(this._enqueuePersisted,this),r.enqueueThrottleMs):this.enqueuePersisted=y.bind(function(n){return this._enqueuePersisted([n])},this)};Tt.prototype.ensureInit=function(){return this.initialized||!this.usePersistence?ce.resolve():this.queueStorage.init().then(y.bind(function(){this.initialized=!0},this)).catch(y.bind(function(e){this.reportError("Error initializing queue persistence. Disabling persistence",e),this.initialized=!0,this.usePersistence=!1},this))};Tt.prototype.enqueue=function(e,r){var n={id:dc(),flushAfter:new Date().getTime()+r*2,payload:e};return this.usePersistence?this.enqueuePersisted(n):(this.memQueue.push(n),ce.resolve(!0))};Tt.prototype._enqueuePersisted=function(e){var r=y.bind(function(){return this.ensureInit().then(y.bind(function(){return this.readFromStorage()},this)).then(y.bind(function(n){return this.saveToStorage(n.concat(e))},this)).then(y.bind(function(n){return n&&(this.memQueue=this.memQueue.concat(e)),n},this)).catch(y.bind(function(n){return this.reportError("Error enqueueing items",n,e),!1},this))},this);return this.lock.withLock(r,this.pid).catch(y.bind(function(n){return this.reportError("Error acquiring storage lock",n),!1},this))};Tt.prototype.fillBatch=function(e){var r=this.memQueue.slice(0,e);return this.usePersistence&&r.length<e?this.ensureInit().then(y.bind(function(){return this.readFromStorage()},this)).then(y.bind(function(n){if(n.length){var t={};y.each(r,function(s){t[s.id]=!0});for(var i=0;i<n.length;i++){var o=n[i];if(new Date().getTime()>o.flushAfter&&!t[o.id]&&(o.orphaned=!0,r.push(o),r.length>=e))break}}return r},this)):ce.resolve(r)};var mh=function(e,r){var n=[];return y.each(e,function(t){t.id&&!r[t.id]&&n.push(t)}),n};Tt.prototype.removeItemsByID=function(e){var r={};if(y.each(e,function(t){r[t]=!0}),this.memQueue=mh(this.memQueue,r),this.usePersistence){var n=y.bind(function(){return this.ensureInit().then(y.bind(function(){return this.readFromStorage()},this)).then(y.bind(function(t){return t=mh(t,r),this.saveToStorage(t)},this)).then(y.bind(function(){return this.readFromStorage()},this)).then(y.bind(function(t){for(var i=0;i<t.length;i++){var o=t[i];if(o.id&&r[o.id])throw new Error("Item not removed from storage")}return!0},this)).catch(y.bind(function(t){return this.reportError("Error removing items",t,e),!1},this))},this);return this.lock.withLock(n,this.pid).catch(y.bind(function(t){return this.reportError("Error acquiring storage lock",t),Ri(this.lock.storage,!0)?!1:n().then(y.bind(function(i){return i||this.queueStorage.removeItem(this.storageKey).then(function(){return i})},this)).catch(y.bind(function(i){return this.reportError("Error clearing queue",i),!1},this))},this))}else return ce.resolve(!0)};var vh=function(e,r){var n=[];return y.each(e,function(t){var i=t.id;if(i in r){var o=r[i];o!==null&&(t.payload=o,n.push(t))}else n.push(t)}),n};Tt.prototype.updatePayloads=function(e){return this.memQueue=vh(this.memQueue,e),this.usePersistence?this.lock.withLock(y.bind(function(){return this.ensureInit().then(y.bind(function(){return this.readFromStorage()},this)).then(y.bind(function(n){return n=vh(n,e),this.saveToStorage(n)},this)).catch(y.bind(function(n){return this.reportError("Error updating items",e,n),!1},this))},this),this.pid).catch(y.bind(function(r){return this.reportError("Error acquiring storage lock",r),!1},this)):ce.resolve(!0)};Tt.prototype.readFromStorage=function(){return this.ensureInit().then(y.bind(function(){return this.queueStorage.getItem(this.storageKey)},this)).then(y.bind(function(e){return e&&(y.isArray(e)||(this.reportError("Invalid storage entry:",e),e=null)),e||[]},this)).catch(y.bind(function(e){return this.reportError("Error retrieving queue",e),[]},this))};Tt.prototype.saveToStorage=function(e){return this.ensureInit().then(y.bind(function(){return this.queueStorage.setItem(this.storageKey,e)},this)).then(function(){return!0}).catch(y.bind(function(r){return this.reportError("Error saving queue",r),!1},this))};Tt.prototype.clear=function(){return this.memQueue=[],this.usePersistence?this.ensureInit().then(y.bind(function(){return this.queueStorage.removeItem(this.storageKey)},this)):ce.resolve()};var Qk=600*1e3,gi=Lr("batch"),ht=function(e,r){this.errorReporter=r.errorReporter,this.queue=new Tt(e,{errorReporter:y.bind(this.reportError,this),queueStorage:r.queueStorage,sharedLockStorage:r.sharedLockStorage,sharedLockTimeoutMS:r.sharedLockTimeoutMS,usePersistence:r.usePersistence,enqueueThrottleMs:r.enqueueThrottleMs}),this.libConfig=r.libConfig,this.sendRequest=r.sendRequestFunc,this.beforeSendHook=r.beforeSendHook,this.stopAllBatching=r.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={},this.flushOnlyOnInterval=r.flushOnlyOnInterval||!1,this._flushPromise=null};ht.prototype.enqueue=function(e){return this.queue.enqueue(e,this.flushInterval)};ht.prototype.start=function(){return this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};ht.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};ht.prototype.clear=function(){return this.queue.clear()};ht.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};ht.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};ht.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(y.bind(function(){this.stopped||(this._flushPromise=this.flush())},this),this.flushInterval))};ht.prototype.sendRequestPromise=function(e,r){return new ce(y.bind(function(n){this.sendRequest(e,r,n)},this))};ht.prototype.flush=function(e){if(this.requestInProgress)return gi.log("Flush: Request already in progress"),ce.resolve();this.requestInProgress=!0,e=e||{};var r=this.libConfig.batch_request_timeout_ms,n=new Date().getTime(),t=this.batchSize;return this.queue.fillBatch(t).then(y.bind(function(i){var o=i.length===t,s=[],a={};if(y.each(i,function(c){var d=c.payload;if(this.beforeSendHook&&!c.orphaned&&(d=this.beforeSendHook(d)),d){d.event&&d.properties&&(d.properties=y.extend({},d.properties,{mp_sent_by_lib_version:lt.LIB_VERSION}));var p=!0,v=c.id;v?(this.itemIdsSentSuccessfully[v]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:c,batchSize:i.length,timesSent:this.itemIdsSentSuccessfully[v]}),p=!1):this.reportError("[dupe] found item with no ID",{item:c}),p&&s.push(d)}a[c.id]=d},this),s.length<1)return this.requestInProgress=!1,this.resetFlush(),ce.resolve();var l=y.bind(function(){return this.queue.removeItemsByID(y.map(i,function(c){return c.id})).then(y.bind(function(c){return y.each(i,y.bind(function(d){var p=d.id;p?(this.itemIdsSentSuccessfully[p]=this.itemIdsSentSuccessfully[p]||0,this.itemIdsSentSuccessfully[p]++,this.itemIdsSentSuccessfully[p]>5&&this.reportError("[dupe] item ID sent too many times",{item:d,batchSize:i.length,timesSent:this.itemIdsSentSuccessfully[p]})):this.reportError("[dupe] found item with no ID while removing",{item:d})},this)),c?(this.consecutiveRemovalFailures=0,this.flushOnlyOnInterval&&!o?(this.resetFlush(),ce.resolve()):this.flush()):(++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush(),ce.resolve())},this))},this),u=y.bind(function(c){this.requestInProgress=!1;try{if(e.unloading)return this.queue.updatePayloads(a);if(y.isObject(c)&&c.error==="timeout"&&new Date().getTime()-n>=r)return this.reportError("Network timeout; retrying"),this.flush();if(y.isObject(c)&&(c.httpStatusCode>=500||c.httpStatusCode===429||c.httpStatusCode<=0&&!Bk()||c.error==="timeout")){var d=this.flushInterval*2;return c.retryAfter&&(d=parseInt(c.retryAfter,10)*1e3||d),d=Math.min(Qk,d),this.reportError("Error; retry in "+d+" ms"),this.scheduleFlush(d),ce.resolve()}else if(y.isObject(c)&&c.httpStatusCode===413)if(i.length>1){var p=Math.max(1,Math.floor(t/2));return this.batchSize=Math.min(this.batchSize,p,i.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush(),ce.resolve()}else return this.reportError("Single-event request too large; dropping",i),this.resetBatchSize(),l();else return l()}catch(v){this.reportError("Error handling API response",v),this.resetFlush()}},this),f={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:r};return e.unloading&&(f.transport="sendBeacon"),gi.log("MIXPANEL REQUEST:",s),this.sendRequestPromise(s,f).then(u)},this)).catch(y.bind(function(i){this.reportError("Error flushing request queue",i),this.resetFlush()},this))};ht.prototype.reportError=function(e,r){if(gi.error.apply(gi.error,arguments),this.errorReporter)try{r instanceof Error||(r=new Error(e)),this.errorReporter(e,r)}catch(n){gi.error(n)}};var gc=function(e){var r=Date.now();return!e||r>e.maxExpires||r>e.idleExpires},Xk=250,Fi="change",Yt="click",_u="hashchange",Zk="input",gh="load",ir="mp_locationchange",yh="popstate",Gs="scrollend",yc="scroll",eE="select",ys="submit",tE="toggle",_h="visibilitychange",rE=["clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","x","y"],bh=["mp-include"],bu=["mp-no-track"],wh=bu.concat(["mp-sensitive"]),nE=["aria-label","aria-labelledby","aria-describedby","href","name","role","title","type"],iE={button:!0,checkbox:!0,combobox:!0,grid:!0,link:!0,listbox:!0,menu:!0,menubar:!0,menuitem:!0,menuitemcheckbox:!0,menuitemradio:!0,navigation:!0,option:!0,radio:!0,radiogroup:!0,searchbox:!0,slider:!0,spinbutton:!0,switch:!0,tab:!0,tablist:!0,textbox:!0,tree:!0,treegrid:!0,treeitem:!0},oE={base:!0,head:!0,html:!0,link:!0,meta:!0,script:!0,style:!0,title:!0,br:!0,hr:!0,wbr:!0,noscript:!0,picture:!0,source:!0,template:!0,track:!0},sE={article:!0,div:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,p:!0,section:!0,span:!0},Sh=["onclick","onmousedown","onmouseup","onpointerdown","onpointerup","ontouchend","ontouchstart"],aE=5,we=Lr("autocapture");function wu(e){for(var r={},n=fv(e).split(" "),t=0;t<n.length;t++){var i=n[t];i&&(r[i]=!0)}return r}function fv(e){switch(typeof e.className){case"string":return e.className;case"object":return e.className.baseVal||e.getAttribute("class")||"";default:return""}}function lE(e){if(e.previousElementSibling)return e.previousElementSibling;do e=e.previousSibling;while(e&&!dv(e));return e}function xh(e,r,n,t,i,o){var s={$classes:fv(e).split(" "),$tag_name:e.tagName.toLowerCase()},a=e.id;a&&(s.$id=a),_c(e,r,i,o)&&y.each(nE.concat(t),function(c){if(e.hasAttribute(c)&&!n[c]){var d=e.getAttribute(c);_s(d)&&(s["$attr-"+c]=d)}});for(var l=1,u=1,f=e;f=lE(f);)l++,f.tagName===e.tagName&&u++;return s.$nth_child=l,s.$nth_of_type=u,s}function uE(e,r){var n=r.allowElementCallback,t=r.allowSelectors||[],i=r.blockAttrs||[],o=r.blockElementCallback,s=r.blockSelectors||[],a=r.captureTextContent||!1,l=r.captureExtraAttrs||[],u=r.capturedForHeatMap||!1,f={};y.each(i,function(C){f[C]=!0});var c=null,d=typeof e.target>"u"?e.srcElement:e.target;if(hv(d)&&(d=d.parentNode),hE(d,e)&&Su(d,e,n,t)&&!vl(d,e,o,s)){for(var p=[d],v=d;v.parentNode&&!At(v,"body");)p.push(v.parentNode),v=v.parentNode;var b=[],g,_=!1;if(y.each(p,function(C){var T=_c(C,e,n,t);!f.href&&C.tagName.toLowerCase()==="a"&&(g=C.getAttribute("href"),g=T&&_s(g)&&g),vl(C,e,o,s)&&(_=!0),b.push(xh(C,e,f,l,n,t))},this),!_){var w=J.documentElement;if(c={$event_type:e.type,$host:M.location.host,$pathname:M.location.pathname,$elements:b,$el_attr__href:g,$viewportHeight:Math.max(w.clientHeight,M.innerHeight||0),$viewportWidth:Math.max(w.clientWidth,M.innerWidth||0),$pageHeight:J.body.offsetHeight||0,$pageWidth:J.body.offsetWidth||0},y.each(l,function(C){if(!f[C]&&d.hasAttribute(C)){var T=d.getAttribute(C);_s(T)&&(c["$el_attr__"+C]=T)}}),a&&(S=Ch(d,e,n,t),S&&S.length&&(c.$el_text=S)),e.type===Yt&&(y.each(rE,function(C){C in e&&(c["$"+C]=e[C])}),u&&(c.$captured_for_heatmap=!0),d=cE(e)),a){var S=Ch(d,e,n,t);S&&S.length&&(c.$el_text=S)}if(d){if(!Su(d,e,n,t)||vl(d,e,o,s))return null;var x=xh(d,e,f,l,n,t);c.$target=x,c.$el_classes=x.$classes,y.extend(c,y.strip_empty_properties({$el_id:x.$id,$el_tag_name:x.$tag_name}))}}}return c}function Ch(e,r,n,t){var i="";return _c(e,r,n,t)&&e.childNodes&&e.childNodes.length&&y.each(e.childNodes,function(o){hv(o)&&o.textContent&&(i+=y.trim(o.textContent).split(/(\s+)/).filter(_s).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),y.trim(i)}function cE(e){for(var r=e.target,n=e.composedPath(),t=0;t<n.length;t++){var i=n[t];if(At(i,"a")||At(i,"button")||At(i,"input")||At(i,"select")||i.getAttribute&&i.getAttribute("role")==="button"){r=i;break}if(i===r)break}return r}function Su(e,r,n,t){if(n)try{if(!n(e,r))return!1}catch(s){return we.critical("Error while checking element in allowElementCallback",s),!1}if(!t.length)return!0;for(var i=0;i<t.length;i++){var o=t[i];try{if(e.matches(o))return!0}catch(s){we.critical("Error while checking selector: "+o,s)}}return!1}function vl(e,r,n,t){var i;if(n)try{if(n(e,r))return!0}catch(a){return we.critical("Error while checking element in blockElementCallback",a),!0}if(t&&t.length)for(i=0;i<t.length;i++){var o=t[i];try{if(e.matches(o))return!0}catch(a){we.critical("Error while checking selector: "+o,a)}}var s=wu(e);for(i=0;i<bu.length;i++)if(s[bu[i]])return!0;return!1}function dv(e){return e&&e.nodeType===1}function At(e,r){return e&&e.tagName&&e.tagName.toLowerCase()===r.toLowerCase()}function hv(e){return e&&e.nodeType===3}function fE(){try{var e=J.createElement("div");return!!e.matches}catch{return!1}}function dE(){return typeof WeakSet<"u"}function hE(e,r){if(!e||At(e,"html")||!dv(e))return!1;var n=e.tagName.toLowerCase();switch(n){case"form":return r.type===ys;case"input":return["button","submit"].indexOf(e.getAttribute("type"))===-1?r.type===Fi:r.type===Yt;case"select":case"textarea":return r.type===Fi;default:return r.type===Yt}}function pv(e){var r=(e.name||e.id||"").toString().toLowerCase();if(typeof r=="string"){var n=/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i;if(n.test(r.replace(/[^a-zA-Z0-9]/g,"")))return!0}return!1}function _c(e,r,n,t){var i;if(!Su(e,r,n,t))return!1;for(var o=e;o.parentNode&&!At(o,"body");o=o.parentNode){var s=wu(o);for(i=0;i<wh.length;i++)if(s[wh[i]])return!1}var a=wu(e);for(i=0;i<bh.length;i++)if(a[bh[i]])return!0;if(At(e,"input")||At(e,"select")||At(e,"textarea")||e.getAttribute("contenteditable")==="true")return!1;var l=e.type||"";if(typeof l=="string")switch(l.toLowerCase()){case"hidden":return!1;case"password":return!1}return!pv(e)}function _s(e){if(e===null||y.isUndefined(e))return!1;if(typeof e=="string"){e=y.trim(e);var r=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(r.test((e||"").replace(/[- ]/g,"")))return!1;var n=/(^\d{3}-?\d{2}-?\d{4}$)/;if(n.test(e))return!1}return!0}function mv(e){var r="onscrollend"in M,n=Li(e),t=Gs;if(!r){var i=null,o=100;n=Li(function(){clearTimeout(i),i=setTimeout(e,o)}),t=yc}return{listener:n,eventType:t}}function pE(e){for(var r=0;r<Sh.length;r++)if(e.hasAttribute(Sh[r]))return!0;return!1}function mE(e){var r=e.getAttribute("role");if(!r)return!1;var n=r.trim().split(/\s+/)[0].toLowerCase();return iE[n]}function gl(e){var r=e.tagName.toLowerCase();return!!(r==="button"||r==="input"||r==="select"||r==="textarea"||r==="details"||r==="dialog"||e.isContentEditable||e.onclick||e.onmousedown||e.onmouseup||e.ontouchstart||e.ontouchend||pE(e)||mE(e)||r==="a"&&e.hasAttribute("href")||e.hasAttribute("tabindex"))}function vv(e){if(!e||!e.tagName)return!0;var r=e.tagName.toLowerCase();if(oE[r])return!0;if(gl(e))return!1;for(var n=e.parentElement,t=0;n&&t<aE;){if(gl(n))return!1;if(n.getRootNode&&n.getRootNode()!==J){var i=n.getRootNode();if(i.host&&gl(i.host))return!1}n=n.parentElement,t++}return!!sE[r]}function gv(e){return"composedPath"in e?e.composedPath():[]}function yv(e){var r=gv(e);return r&&r.length>0?r[0]:e.target||e.srcElement}var _v=".mp-mask, .fs-mask, .amp-mask, .rr-mask, .ph-mask",vE="data-rr-is-password",gE=["password","email","tel","hidden"];function jo(e){return e?Array.isArray(e)?e:[e]:[]}function yE(e){var r={input:{maskingSelector:"",unmaskingSelector:"",maskAll:!0},text:{maskingSelector:"",unmaskingSelector:"",maskAll:!0}},n=e.get_config("record_mask_input_selector"),t=e.get_config("record_unmask_input_selector"),i=e.get_config("record_mask_all_inputs");r.input.maskingSelector=jo(n).join(","),r.input.unmaskingSelector=jo(t).join(","),i!==void 0&&(r.input.maskAll=i);var o=e.get_config("record_mask_text_selector"),s=e.get_config("record_unmask_text_selector"),a=e.get_config("record_mask_all_text"),l=e.get_config("record_mask_text_class"),u=jo(o);if(l)if(l instanceof RegExp)r.text._legacyClassRegex=l;else{var f="."+l;u.indexOf(f)===-1&&u.push(f)}return r.text.maskingSelector=u.join(","),r.text.unmaskingSelector=jo(s).join(","),a===void 0&&o!==void 0?r.text.maskAll=!1:a!==void 0&&(r.text.maskAll=a),r}function en(e,r){return r?!!e.closest(r):!1}function _E(e,r){var n=(e.getAttribute("type")||"").toLowerCase();if(gE.indexOf(n)!==-1)return!0;var t=(e.getAttribute("autocomplete")||"").toLowerCase();return t&&t!==""&&t!=="off"||e.hasAttribute(vE)||pv(e)?!0:r.input.maskAll?!en(e,r.input.unmaskingSelector):!!(en(e,r.input.maskingSelector)||en(e,_v))}function bE(e,r){return e?r.text._legacyClassRegex&&Zl(e,r.text._legacyClassRegex)?!0:r.text.maskAll?!en(e,r.text.unmaskingSelector):!!(en(e,r.text.maskingSelector)||en(e,_v)):!1}var tn=Lr("recorder"),wE=M.CompressionStream,SE={batch_size:1e3,batch_flush_interval_ms:10*1e3,batch_request_timeout_ms:90*1e3,batch_autostart:!0},xE=new Set([Y.MouseMove,Y.MouseInteraction,Y.Scroll,Y.ViewportResize,Y.Input,Y.TouchMove,Y.MediaInteraction,Y.Drag,Y.Selection]);function CE(e){return e.type===ue.IncrementalSnapshot&&xE.has(e.data.source)}var Ve=function(e){this._mixpanel=e.mixpanelInstance,this._onIdleTimeout=e.onIdleTimeout||or,this._onMaxLengthReached=e.onMaxLengthReached||or,this._onBatchSent=e.onBatchSent||or,this._rrwebRecord=e.rrwebRecord||null,this._stopRecording=null,this.replayId=e.replayId,this.batchStartUrl=e.batchStartUrl||null,this.replayStartUrl=e.replayStartUrl||null,this.idleExpires=e.idleExpires||null,this.maxExpires=e.maxExpires||null,this.replayStartTime=e.replayStartTime||null,this.lastEventTimestamp=e.lastEventTimestamp||null,this.seqNo=e.seqNo||0,this.idleTimeoutId=null,this.maxTimeoutId=null,this.recordMaxMs=vi,this.recordMinMs=0;var r=Ri(e.sharedLockStorage,!0)&&!this.getConfig("disable_persistence");this.batcherKey="__mprec_"+this.getConfig("name")+"_"+this.getConfig("token")+"_"+this.replayId,this.queueStorage=new _t(sv),this.batcher=new ht(this.batcherKey,{errorReporter:this.reportError.bind(this),flushOnlyOnInterval:!0,libConfig:SE,sendRequestFunc:this.flushEventsWithOptOut.bind(this),queueStorage:this.queueStorage,sharedLockStorage:e.sharedLockStorage,usePersistence:r,stopAllBatchingFunc:this.stopRecording.bind(this),enqueueThrottleMs:Xk,sharedLockTimeoutMS:10*1e3})};Ve.prototype.getUserIdInfo=function(){if(this.finalFlushUserIdInfo)return this.finalFlushUserIdInfo;var e={distinct_id:String(this._mixpanel.get_distinct_id())},r=this._mixpanel.get_property("$device_id");r&&(e.$device_id=r);var n=this._mixpanel.get_property("$user_id");return n&&(e.$user_id=n),e};Ve.prototype.unloadPersistedData=function(){return this.batcher.stop(),this.queueStorage.init().catch(function(){this.reportError("Error initializing IndexedDB storage for unloading persisted data.")}.bind(this)).then(function(){return this.getDurationMs()<this._getRecordMinMs()?this.queueStorage.removeItem(this.batcherKey):this.batcher.flush().then(function(){return this.queueStorage.removeItem(this.batcherKey)}.bind(this))}.bind(this))};Ve.prototype.getConfig=function(e){return this._mixpanel.get_config(e)};Ve.prototype.get_config=function(e){return this.getConfig(e)};Ve.prototype.startRecording=function(e){if(this._rrwebRecord===null){this.reportError("rrweb record function not provided. ");return}if(this._stopRecording!==null){tn.log("Recording already in progress, skipping startRecording.");return}this.recordMaxMs=this.getConfig("record_max_ms"),this.recordMaxMs>vi&&(this.recordMaxMs=vi,tn.critical("record_max_ms cannot be greater than "+vi+"ms. Capping value.")),this.maxExpires||(this.maxExpires=new Date().getTime()+this.recordMaxMs),this.recordMinMs=this._getRecordMinMs(),this.replayStartTime||(this.replayStartTime=new Date().getTime(),this.batchStartUrl=y.info.currentUrl(),this.replayStartUrl=y.info.currentUrl()),e||this.recordMinMs>0?this.batcher.stop():this.batcher.start();var r=function(){clearTimeout(this.idleTimeoutId);var o=this.getConfig("record_idle_timeout_ms");this.idleTimeoutId=setTimeout(this._onIdleTimeout,o),this.idleExpires=new Date().getTime()+o}.bind(this);r();var n=this.getConfig("record_block_selector");(n===""||n===null)&&(n=void 0);var t=yE(this._mixpanel);try{this._stopRecording=this._rrwebRecord({emit:function(o){if(this.idleExpires&&this.idleExpires<o.timestamp){this._onIdleTimeout();return}CE(o)&&(this.batcher.stopped&&new Date().getTime()-this.replayStartTime>=this.recordMinMs&&this.batcher.start(),r()),this.__enqueuePromise=this.batcher.enqueue(o),(this.lastEventTimestamp===null||o.timestamp>this.lastEventTimestamp)&&(this.lastEventTimestamp=o.timestamp)}.bind(this),blockClass:this.getConfig("record_block_class"),blockSelector:n,collectFonts:this.getConfig("record_collect_fonts"),dataURLOptions:{type:"image/webp",quality:.6},maskAllInputs:!0,maskTextSelector:"*",maskInputFn:this._getMaskFn(_E,t),maskTextFn:this._getMaskFn(bE,t),recordCanvas:this.getConfig("record_canvas"),sampling:{canvas:15},plugins:this.getConfig("record_console")?[kk({stringifyOptions:{stringLengthLimit:1e3,numOfKeysLimit:50,depthOfLimit:2}})]:[]})}catch(o){this.reportError("Unexpected error when starting rrweb recording.",o)}if(typeof this._stopRecording!="function"){this.reportError("rrweb failed to start, skipping this recording."),this._stopRecording=null,this.stopRecording();return}var i=this.maxExpires-new Date().getTime();this.maxTimeoutId=setTimeout(this._onMaxLengthReached.bind(this),i)};Ve.prototype.stopRecording=function(e){if(this.finalFlushUserIdInfo=this.getUserIdInfo(),!this.isRrwebStopped()){try{this._stopRecording()}catch(n){this.reportError("Error with rrweb stopRecording",n)}this._stopRecording=null}var r;return this.batcher.stopped?r=this.batcher.clear():e||(r=this.batcher.flush()),this.batcher.stop(),clearTimeout(this.idleTimeoutId),clearTimeout(this.maxTimeoutId),r};Ve.prototype.isRrwebStopped=function(){return this._stopRecording===null};Ve.prototype.flushEventsWithOptOut=function(e,r,n){var t=function(i){i===0&&(this.stopRecording(),n({error:"Tracking has been opted out, stopping recording."}))}.bind(this);this._flushEvents(e,r,n,t)};Ve.prototype.serialize=function(){var e;try{e=this._mixpanel.get_tab_id()}catch(r){this.reportError("Error getting tab ID for serialization ",r),e=null}return{replayId:this.replayId,seqNo:this.seqNo,replayStartTime:this.replayStartTime,batchStartUrl:this.batchStartUrl,replayStartUrl:this.replayStartUrl,lastEventTimestamp:this.lastEventTimestamp,idleExpires:this.idleExpires,maxExpires:this.maxExpires,tabId:e}};Ve.deserialize=function(e,r){var n=new Ve(y.extend({},r,{replayId:e.replayId,batchStartUrl:e.batchStartUrl,replayStartUrl:e.replayStartUrl,idleExpires:e.idleExpires,maxExpires:e.maxExpires,replayStartTime:e.replayStartTime,lastEventTimestamp:e.lastEventTimestamp,seqNo:e.seqNo,sharedLockStorage:r.sharedLockStorage}));return n};Ve.prototype._sendRequest=function(e,r,n,t){var i=function(s,a){s.status===200&&this.replayId===e&&(this.seqNo++,this.batchStartUrl=y.info.currentUrl()),this._onBatchSent(),t({status:0,httpStatusCode:s.status,responseBody:a,retryAfter:s.headers.get("Retry-After")})}.bind(this),o=this._mixpanel.get_api_host&&this._mixpanel.get_api_host("record")||this.getConfig("api_host");M.fetch(o+"/"+this.getConfig("api_routes").record+"?"+new URLSearchParams(r),{method:"POST",headers:{Authorization:"Basic "+btoa(this.getConfig("token")+":"),"Content-Type":"application/octet-stream"},body:n}).then(function(s){s.json().then(function(a){i(s,a)}).catch(function(a){t({error:a})})}).catch(function(s){t({error:s,httpStatusCode:0})})};Ve.prototype._flushEvents=vr(function(e,r,n){var t=e.length;if(t>0){for(var i=this.replayId,o=1/0,s=-1/0,a=!1,l=0;l<t;l++)o=Math.min(o,e[l].timestamp),s=Math.max(s,e[l].timestamp),e[l].type===ue.FullSnapshot&&(a=!0);if(this.seqNo===0){if(!a){n({error:"First batch does not contain a full snapshot. Aborting recording."}),this.stopRecording(!0);return}this.replayStartTime=o}else this.replayStartTime||(this.reportError("Replay start time not set but seqNo is not 0. Using current batch start time as a fallback."),this.replayStartTime=o);var u=s-this.replayStartTime,f={$current_url:this.batchStartUrl,$lib_version:lt.LIB_VERSION,batch_start_time:o/1e3,mp_lib:"web",replay_id:i,replay_length_ms:u,replay_start_time:this.replayStartTime/1e3,replay_start_url:this.replayStartUrl,seq:this.seqNo},c=JSON.stringify(e);if(Object.assign(f,this.getUserIdInfo()),Uk(It,Vt.vendor,fi)){var d=new Blob([c],{type:"application/json"}).stream(),p=d.pipeThrough(new wE("gzip"));new Response(p).blob().then(function(v){f.format="gzip",this._sendRequest(i,f,v,n)}.bind(this))}else f.format="body",this._sendRequest(i,f,c,n)}});Ve.prototype.reportError=function(e,r){tn.error.apply(tn.error,arguments);try{!r&&!(e instanceof Error)&&(e=new Error(e)),this.getConfig("error_reporter")(e,r)}catch(n){tn.error(n)}};Ve.prototype.getDurationMs=function(){return this.replayStartTime===null?0:this.lastEventTimestamp===null?new Date().getTime()-this.replayStartTime:this.lastEventTimestamp-this.replayStartTime};Ve.prototype._getRecordMinMs=function(){var e=this.getConfig("record_min_ms");return e>fl?(tn.critical("record_min_ms cannot be greater than "+fl+"ms. Capping value."),fl):e};Ve.prototype._getMaskFn=function(e,r){return function(n,t){if(!n.trim().length)return"";var i=!0;try{i=e(t,r)}catch(s){this.reportError("Error checking if text should be masked, defaulting to masked",s)}if(i){var o=Math.min(n.length,1e4);return"*".repeat(o)}else return n}.bind(this)};var Jt=function(e){this.idb=new _t(hc),this.errorReporter=e.errorReporter,this.mixpanelInstance=e.mixpanelInstance,this.sharedLockStorage=e.sharedLockStorage};Jt.prototype.isPersistenceEnabled=function(){return!this.mixpanelInstance.get_config("disable_persistence")};Jt.prototype.handleError=function(e){this.errorReporter("IndexedDB error: ",e)};Jt.prototype.setActiveRecording=function(e){if(!this.isPersistenceEnabled())return ce.resolve();var r=e.tabId;return r?this.idb.init().then(function(){return this.idb.setItem(r,e)}.bind(this)).catch(this.handleError.bind(this)):(console.warn("No tab ID is set, cannot persist recording metadata."),ce.resolve())};Jt.prototype.getActiveRecording=function(){return this.isPersistenceEnabled()?this.idb.init().then(function(){return this.idb.getItem(this.mixpanelInstance.get_tab_id())}.bind(this)).then(function(e){return gc(e)?null:e}.bind(this)).catch(this.handleError.bind(this)):ce.resolve(null)};Jt.prototype.clearActiveRecording=function(){return this.isPersistenceEnabled()?this.markActiveRecordingExpired():this.deleteActiveRecording()};Jt.prototype.markActiveRecordingExpired=function(){return this.getActiveRecording().then(function(e){if(e)return e.maxExpires=0,this.setActiveRecording(e)}.bind(this)).catch(this.handleError.bind(this))};Jt.prototype.deleteActiveRecording=function(){return this.idb.isInitialized()?this.idb.removeItem(this.mixpanelInstance.get_tab_id()).catch(this.handleError.bind(this)):ce.resolve()};Jt.prototype.flushInactiveRecordings=function(){return this.isPersistenceEnabled()?this.idb.init().then(function(){return this.idb.getAll()}.bind(this)).then(function(e){var r=e.filter(function(n){return gc(n)}).map(function(n){var t=Ve.deserialize(n,{mixpanelInstance:this.mixpanelInstance,sharedLockStorage:this.sharedLockStorage});return t.unloadPersistedData().then(function(){return this.idb.removeItem(n.tabId)}.bind(this)).catch(this.handleError.bind(this))}.bind(this));return ce.all(r)}.bind(this)).catch(this.handleError.bind(this)):ce.resolve([])};var yi=Lr("recorder"),Qt=function(e,r,n){this.mixpanelInstance=e,this.rrwebRecord=r||dr,this.sharedLockStorage=n,this.recordingRegistry=new Jt({mixpanelInstance:this.mixpanelInstance,errorReporter:yi.error,sharedLockStorage:n}),this._flushInactivePromise=this.recordingRegistry.flushInactiveRecordings(),this.activeRecording=null,this.stopRecordingInProgress=!1};Qt.prototype.startRecording=function(e){if(e=e||{},this.activeRecording&&!this.activeRecording.isRrwebStopped()){yi.log("Recording already in progress, skipping startRecording.");return}var r=function(){yi.log("Idle timeout reached, restarting recording."),this.resetRecording()}.bind(this),n=function(){yi.log("Max recording length reached, stopping recording."),this.resetRecording()}.bind(this),t=function(){this.recordingRegistry.setActiveRecording(this.activeRecording.serialize()),this.__flushPromise=this.activeRecording.batcher._flushPromise}.bind(this),i={mixpanelInstance:this.mixpanelInstance,onBatchSent:t,onIdleTimeout:r,onMaxLengthReached:n,replayId:y.UUID(),rrwebRecord:this.rrwebRecord,sharedLockStorage:this.sharedLockStorage};return e.activeSerializedRecording?this.activeRecording=Ve.deserialize(e.activeSerializedRecording,i):this.activeRecording=new Ve(i),this.activeRecording.startRecording(e.shouldStopBatcher),this.recordingRegistry.setActiveRecording(this.activeRecording.serialize())};Qt.prototype.stopRecording=function(){return this.stopRecordingInProgress=!0,this._stopCurrentRecording(!1,!0).then(function(){return this.recordingRegistry.clearActiveRecording()}.bind(this)).then(function(){this.stopRecordingInProgress=!1}.bind(this))};Qt.prototype.pauseRecording=function(){return this._stopCurrentRecording(!1)};Qt.prototype._stopCurrentRecording=function(e,r){if(this.activeRecording){var n=this.activeRecording.stopRecording(e);return r&&(this.activeRecording=null),n}return ce.resolve()};Qt.prototype.resumeRecording=function(e){return this.activeRecording&&this.activeRecording.isRrwebStopped()?(this.activeRecording.startRecording(!1),ce.resolve(null)):this.recordingRegistry.getActiveRecording().then(function(r){return r&&!this.stopRecordingInProgress?this.startRecording({activeSerializedRecording:r}):e?this.startRecording({shouldStopBatcher:!1}):(yi.log("No resumable recording found."),null)}.bind(this))};Qt.prototype.resetRecording=function(){this.stopRecording(),this.startRecording({shouldStopBatcher:!0})};Qt.prototype.getActiveReplayId=function(){return this.activeRecording&&!this.activeRecording.isRrwebStopped()?this.activeRecording.replayId:null};Object.defineProperty(Qt.prototype,"replayId",{get:function(){return this.getActiveReplayId()}});M.__mp_recorder=Qt;var kE=30,EE=1e3,IE=4,AE=!1;function bv(){this.clicks=[]}bv.prototype.isRageClick=function(e,r){r=r||{};var n=r.threshold_px||kE,t=r.timeout_ms||EE,i=r.click_count||IE,o=r.interactive_elements_only||AE;if(o){var s=yv(e);if(!s||vv(s))return!1}var a=Date.now(),l=e.pageX,u=e.pageY,f=this.clicks[this.clicks.length-1];if(f&&a-f.timestamp<t&&Math.sqrt(Math.pow(l-f.x,2)+Math.pow(u-f.y,2))<n){if(this.clicks.push({x:l,y:u,timestamp:a}),this.clicks.length>=i)return this.clicks=[],!0}else this.clicks=[{x:l,y:u,timestamp:a}];return!1};function _n(e,r){this.changeCallback=e||function(){},this.observerConfig=r,this.observedShadowRoots=null,this.shadowObservers=[]}_n.prototype.getEventTarget=function(e){if(this.observedShadowRoots)return yv(e)};_n.prototype.observeFromEvent=function(e){if(this.observedShadowRoots)for(var r=gv(e),n=0;n<r.length;n++){var t=r[n];t&&t.shadowRoot&&this.observeShadowRoot(t.shadowRoot)}};_n.prototype.observeShadowRoot=function(e){if(!(!this.observedShadowRoots||this.observedShadowRoots.has(e))){var r=this;try{this.observedShadowRoots.add(e);var n=new window.MutationObserver(function(){r.changeCallback()});n.observe(e,this.observerConfig),this.shadowObservers.push(n)}catch(t){we.critical("Error while observing shadow root",t)}}};_n.prototype.start=function(){if(!this.observedShadowRoots){if(!dE()){we.critical("Shadow DOM observation unavailable: WeakSet not supported");return}this.observedShadowRoots=new WeakSet}};_n.prototype.stop=function(){if(this.observedShadowRoots){for(var e=0;e<this.shadowObservers.length;e++)try{this.shadowObservers[e].disconnect()}catch(r){we.critical("Error while disconnecting shadow DOM observer",r)}this.shadowObservers=[],this.observedShadowRoots=null}};var OE=500,TE=[Fi,Zk,ys,eE,tE],NE=[Gs],PE=[_u],kh={characterData:!0,childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class","hidden","checked","selected","value","display","visibility"]};function Nt(e){this.eventListeners=[],this.mutationObserver=null,this.shadowDOMObserver=null,this.isTracking=!1,this.lastChangeEventTimestamp=0,this.pendingClicks=[],this.onDeadClickCallback=e,this.processingActive=!1,this.processingTimeout=null}Nt.prototype.addClick=function(e){var r=this.shadowDOMObserver&&this.shadowDOMObserver.getEventTarget(e);return r||(r=e.target||e.srcElement),!r||vv(r)?!1:(this.shadowDOMObserver&&this.shadowDOMObserver.observeFromEvent(e),this.pendingClicks.push({element:r,event:e,timestamp:Date.now()}),!0)};Nt.prototype.trackClick=function(e,r){if(!this.isTracking)return!1;var n=this.addClick(e);return n&&this.triggerProcessing(r),n};Nt.prototype.getDeadClicks=function(e){if(this.pendingClicks.length===0)return[];var r=e.timeout_ms,n=Date.now(),t=this.pendingClicks.slice();this.pendingClicks=[];for(var i=[],o=0;o<t.length;o++){var s=t[o];n-s.timestamp>=r?this.hasChangesAfter(s.timestamp)||i.push(s):this.pendingClicks.push(s)}return i};Nt.prototype.hasChangesAfter=function(e){return this.lastChangeEventTimestamp>=e-100};Nt.prototype.recordChangeEvent=function(){this.lastChangeEventTimestamp=Date.now()};Nt.prototype.triggerProcessing=function(e){this.processingActive||(this.processingActive=!0,this.processRecursively(e))};Nt.prototype.processRecursively=function(e){if(!this.isTracking||!this.onDeadClickCallback){this.processingActive=!1;return}var r=e.timeout_ms,n=this;this.processingTimeout=setTimeout(function(){if(n.processingActive){for(var t=n.getDeadClicks(e),i=0;i<t.length;i++)n.onDeadClickCallback(t[i].event);n.pendingClicks.length>0?n.processRecursively(e):n.processingActive=!1}},r)};Nt.prototype.startTracking=function(){if(!this.isTracking){this.isTracking=!0;var e=this;TE.forEach(function(n){var t=function(){e.recordChangeEvent()};document.addEventListener(n,t,{capture:!0,passive:!0}),e.eventListeners.push({target:document,event:n,handler:t,options:{capture:!0,passive:!0}})}),PE.forEach(function(n){var t=function(){e.recordChangeEvent()};window.addEventListener(n,t),e.eventListeners.push({target:window,event:n,handler:t})}),NE.forEach(function(n){var t=function(){e.recordChangeEvent()};window.addEventListener(n,t,{passive:!0}),e.eventListeners.push({target:window,event:n,handler:t,options:{passive:!0}})});var r=function(){e.recordChangeEvent()};if(document.addEventListener("selectionchange",r),e.eventListeners.push({target:document,event:"selectionchange",handler:r}),window.MutationObserver)try{this.mutationObserver=new window.MutationObserver(function(){e.recordChangeEvent()}),this.mutationObserver.observe(document.body||document.documentElement,kh)}catch(n){we.critical("Error while setting up mutation observer",n)}if(window.customElements)try{this.shadowDOMObserver=new _n(function(){e.recordChangeEvent()},kh),this.shadowDOMObserver.start()}catch(n){we.critical("Error while setting up shadow DOM observer",n),this.shadowDOMObserver=null}}};Nt.prototype.stopTracking=function(){if(this.isTracking){this.isTracking=!1,this.pendingClicks=[],this.lastChangeEventTimestamp=0,this.processingActive=!1,this.processingTimeout&&(clearTimeout(this.processingTimeout),this.processingTimeout=null);for(var e=0;e<this.eventListeners.length;e++){var r=this.eventListeners[e];try{r.target.removeEventListener(r.event,r.handler,r.options)}catch(n){we.critical("Error while removing event listener",n)}}if(this.eventListeners=[],this.mutationObserver){try{this.mutationObserver.disconnect()}catch(n){we.critical("Error while disconnecting mutation observer",n)}this.mutationObserver=null}if(this.shadowDOMObserver){try{this.shadowDOMObserver.stop()}catch(n){we.critical("Error while stopping shadow DOM observer",n)}this.shadowDOMObserver=null}}};var wv="autocapture",ME="track_pageview",Sv="full-url",DE="url-with-path-and-query-string",LE="url-with-path",RE="allow_element_callback",xv="allow_selectors",Cv="allow_url_regexes",kv="block_attrs",Ev="block_element_callback",Iv="block_selectors",Av="block_url_regexes",Ov="capture_extra_attrs",Tv="capture_text_content",Nv="scroll_capture_all",Pv="scroll_depth_percent_checkpoints",bs="click",ws="dead_click",xu="input",Mv="pageview",Ss="rage_click",Cu="scroll",Ks="page_leave",ku="submit",qe={};qe[xv]=[];qe[Cv]=[];qe[kv]=[];qe[Ev]=null;qe[Iv]=[];qe[Av]=[];qe[Ov]=[];qe[Tv]=!1;qe[Nv]=!1;qe[Pv]=[25,50,75,100];qe[bs]=!0;qe[ws]=!0;qe[xu]=!0;qe[Mv]=Sv;qe[Ss]=!0;qe[Cu]=!0;qe[Ks]=!1;qe[ku]=!0;var $i={$mp_autocapture:!0},Dv="$mp_click",Lv="$mp_dead_click",FE="$mp_input_change",Rv="$mp_rage_click",$E="$mp_scroll",BE="$mp_submit",UE="$mp_page_leave",We=function(e){this.mp=e,this.maxScrollViewDepth=0,this.hasTrackedScrollSession=!1,this.previousScrollHeight=0};We.prototype.init=function(){if(!fE()){we.critical("Autocapture unavailable: missing required DOM APIs");return}this.initPageListeners(),this.initPageviewTracking(),this.initClickTracking(),this.initDeadClickTracking(),this.initInputTracking(),this.initScrollTracking(),this.initSubmitTracking(),this.initRageClickTracking(),this.initPageLeaveTracking()};We.prototype.getFullConfig=function(){var e=this.mp.get_config(wv);return e?y.isObject(e)?y.extend({},qe,e):qe:{}};We.prototype.getConfig=function(e){return this.getFullConfig()[e]};We.prototype.currentUrlBlocked=function(){var e,r=y.info.currentUrl(),n=this.getConfig(Cv)||[];if(n.length){var t=!1;for(e=0;e<n.length;e++){var i=n[e];try{if(r.match(i)){t=!0;break}}catch(s){return we.critical("Error while checking block URL regex: "+i,s),!0}}if(!t)return!0}var o=this.getConfig(Av)||[];if(!o||!o.length)return!1;for(e=0;e<o.length;e++)try{if(r.match(o[e]))return!0}catch(s){return we.critical("Error while checking block URL regex: "+o[e],s),!0}return!1};We.prototype.pageviewTrackingConfig=function(){return this.mp.get_config(wv)?this.getConfig(Mv):this.mp.get_config(ME)};We.prototype.trackDomEvent=function(e,r){if(!this.currentUrlBlocked()){var n=this.mp.is_recording_heatmap_data()&&(r===Dv&&!this.getConfig(bs)||r===Rv&&!this._getClickTrackingConfig(Ss)||r===Lv&&!this._getClickTrackingConfig(ws)),t=uE(e,{allowElementCallback:this.getConfig(RE),allowSelectors:this.getConfig(xv),blockAttrs:this.getConfig(kv),blockElementCallback:this.getConfig(Ev),blockSelectors:this.getConfig(Iv),captureExtraAttrs:this.getConfig(Ov),captureTextContent:this.getConfig(Tv),capturedForHeatMap:n});t&&(y.extend(t,$i),this.mp.track(r,t))}};We.prototype.initPageListeners=function(){if(M.removeEventListener(yh,this.listenerPopstate),M.removeEventListener(_u,this.listenerHashchange),!(!this.pageviewTrackingConfig()&&!this.getConfig(Ks)&&!this.mp.get_config("record_heatmap_data"))){this.listenerPopstate=function(){M.dispatchEvent(new Event(ir))},this.listenerHashchange=function(){M.dispatchEvent(new Event(ir))},M.addEventListener(yh,this.listenerPopstate),M.addEventListener(_u,this.listenerHashchange);var e=M.history.pushState;typeof e=="function"&&(M.history.pushState=function(n,t,i){e.call(M.history,n,t,i),M.dispatchEvent(new Event(ir))});var r=M.history.replaceState;typeof r=="function"&&(M.history.replaceState=function(n,t,i){r.call(M.history,n,t,i),M.dispatchEvent(new Event(ir))})}};We.prototype._getClickTrackingConfig=function(e){var r=this.getConfig(e);return r?r===!0?{}:typeof r=="object"?r:{}:null};We.prototype._trackPageLeave=function(e,r,n){if(!this.hasTrackedScrollSession&&!(!this.getConfig(Ks)&&!this.mp.is_recording_heatmap_data())){this.hasTrackedScrollSession=!0;var t=Math.max(J.documentElement.clientHeight,M.innerHeight||0),i=Math.round(Math.max(this.maxScrollViewDepth-t,0)/(n-t)*100),o=Math.round(t/n*100);n<=t&&(i=100,o=100);var s=y.extend({$max_scroll_view_depth:this.maxScrollViewDepth,$max_scroll_percentage:i,$fold_line_percentage:o,$scroll_height:n,$event_type:e.type,$current_url:r||y.info.currentUrl(),$viewportHeight:t,$viewportWidth:Math.max(J.documentElement.clientWidth,M.innerWidth||0),$captured_for_heatmap:this.mp.is_recording_heatmap_data()},$i);this.mp.track(UE,s,{transport:"sendBeacon"})}};We.prototype._initScrollDepthTracking=function(){if(M.removeEventListener(yc,this.listenerScrollDepth),M.removeEventListener(Gs,this.listenerScrollDepth),!!this.mp.get_config("record_heatmap_data")){we.log("Initializing scroll depth tracking"),this.maxScrollViewDepth=Math.max(J.documentElement.clientHeight,M.innerHeight||0);var e=function(){if(!this.currentUrlBlocked()){var n=Math.max(J.documentElement.clientHeight,M.innerHeight||0)+M.scrollY;n>this.maxScrollViewDepth&&(this.maxScrollViewDepth=n),this.previousScrollHeight=J.body.scrollHeight}}.bind(this),r=mv(e);this.listenerScrollDepth=r.listener,M.addEventListener(r.eventType,this.listenerScrollDepth)}};We.prototype.initClickTracking=function(){M.removeEventListener(Yt,this.listenerClick),!(!this.getConfig(bs)&&!this.mp.get_config("record_heatmap_data"))&&(we.log("Initializing click tracking"),this.listenerClick=function(e){!this.getConfig(bs)&&!this.mp.is_recording_heatmap_data()||this.trackDomEvent(e,Dv)}.bind(this),M.addEventListener(Yt,this.listenerClick))};We.prototype.initDeadClickTracking=function(){var e=this._getClickTrackingConfig(ws);if(!e&&!this.mp.get_config("record_heatmap_data")){this.stopDeadClickTracking();return}we.log("Initializing dead click tracking"),this._deadClickTracker||(this._deadClickTracker=new Nt(function(r){this.trackDomEvent(r,Lv)}.bind(this)),this._deadClickTracker.startTracking()),this.listenerDeadClick||(this.listenerDeadClick=function(r){var n=this._getClickTrackingConfig(ws);if(!(!n&&!this.mp.is_recording_heatmap_data())&&!this.currentUrlBlocked()){var t=n||{};t.timeout_ms||(t.timeout_ms=OE),this._deadClickTracker.trackClick(r,t)}}.bind(this),M.addEventListener(Yt,this.listenerDeadClick))};We.prototype.initInputTracking=function(){M.removeEventListener(Fi,this.listenerChange),this.getConfig(xu)&&(we.log("Initializing input tracking"),this.listenerChange=function(e){this.getConfig(xu)&&this.trackDomEvent(e,FE)}.bind(this),M.addEventListener(Fi,this.listenerChange))};We.prototype.initPageviewTracking=function(){if(M.removeEventListener(ir,this.listenerLocationchange),!!this.pageviewTrackingConfig()){we.log("Initializing pageview tracking");var e="",r=!1;this.currentUrlBlocked()||(r=this.mp.track_pageview($i)),r&&(e=y.info.currentUrl()),this.listenerLocationchange=Li(function(){if(!this.currentUrlBlocked()){var n=y.info.currentUrl(),t=!1,i=n.split("#")[0].split("?")[0]!==e.split("#")[0].split("?")[0],o=this.pageviewTrackingConfig();if(o===Sv?t=n!==e:o===DE?t=n.split("#")[0]!==e.split("#")[0]:o===LE&&(t=i),t){var s=this.mp.track_pageview($i);s&&(e=n),i&&(this.lastScrollCheckpoint=0,we.log("Path change: re-initializing scroll depth checkpoints"))}}}.bind(this)),M.addEventListener(ir,this.listenerLocationchange)}};We.prototype.initRageClickTracking=function(){M.removeEventListener(Yt,this.listenerRageClick);var e=this._getClickTrackingConfig(Ss);!e&&!this.mp.get_config("record_heatmap_data")||(we.log("Initializing rage click tracking"),this._rageClickTracker||(this._rageClickTracker=new bv),this.listenerRageClick=function(r){var n=this._getClickTrackingConfig(Ss);!n&&!this.mp.is_recording_heatmap_data()||this.currentUrlBlocked()||this._rageClickTracker.isRageClick(r,n)&&this.trackDomEvent(r,Rv)}.bind(this),M.addEventListener(Yt,this.listenerRageClick))};We.prototype.initScrollTracking=function(){if(M.removeEventListener(Gs,this.listenerScroll),M.removeEventListener(yc,this.listenerScroll),!!this.getConfig(Cu)){we.log("Initializing scroll tracking"),this.lastScrollCheckpoint=0;var e=function(){if(this.getConfig(Cu)&&!this.currentUrlBlocked()){var n=this.getConfig(Nv),t=(this.getConfig(Pv)||[]).slice().sort(function(f,c){return f-c}),i=M.scrollY,o=y.extend({$scroll_top:i},$i);try{var s=J.body.scrollHeight,a=Math.round(i/(s-M.innerHeight)*100);if(o.$scroll_height=s,o.$scroll_percentage=a,a>this.lastScrollCheckpoint)for(var l=0;l<t.length;l++){var u=t[l];a>=u&&this.lastScrollCheckpoint<u&&(o.$scroll_checkpoint=u,this.lastScrollCheckpoint=u,n=!0)}}catch(f){we.critical("Error while calculating scroll percentage",f)}n&&this.mp.track($E,o)}}.bind(this),r=mv(e);this.listenerScroll=r.listener,M.addEventListener(r.eventType,this.listenerScroll)}};We.prototype.initSubmitTracking=function(){M.removeEventListener(ys,this.listenerSubmit),this.getConfig(ku)&&(we.log("Initializing submit tracking"),this.listenerSubmit=function(e){this.getConfig(ku)&&this.trackDomEvent(e,BE)}.bind(this),M.addEventListener(ys,this.listenerSubmit))};We.prototype.initPageLeaveTracking=function(){if(J.removeEventListener(_h,this.listenerPageLeaveVisibilitychange),M.removeEventListener(ir,this.listenerPageLeaveLocationchange),M.removeEventListener(gh,this.listenerPageLoad),!(!this.getConfig(Ks)&&!this.mp.get_config("record_heatmap_data"))){we.log("Initializing page visibility tracking."),this._initScrollDepthTracking();var e=y.info.currentUrl();this.listenerPageLoad=function(){this.previousScrollHeight=J.body.scrollHeight}.bind(this),M.addEventListener(gh,this.listenerPageLoad),this.listenerPageLeaveLocationchange=Li(function(r){if(!this.currentUrlBlocked()){var n=y.info.currentUrl(),t=n!==e;t&&(this._trackPageLeave(r,e,this.previousScrollHeight),e=n,this.maxScrollViewDepth=Math.max(J.documentElement.clientHeight,M.innerHeight||0),this.previousScrollHeight=J.body.scrollHeight,this.hasTrackedScrollSession=!1)}}.bind(this)),M.addEventListener(ir,this.listenerPageLeaveLocationchange),this.listenerPageLeaveVisibilitychange=function(r){J.hidden&&this._trackPageLeave(r,e,this.previousScrollHeight)}.bind(this),J.addEventListener(_h,this.listenerPageLeaveVisibilitychange)}};We.prototype.stopDeadClickTracking=function(){this.listenerDeadClick&&(M.removeEventListener(Yt,this.listenerDeadClick),this.listenerDeadClick=null),this._deadClickTracker&&(this._deadClickTracker.stopTracking(),this._deadClickTracker=null)};tv(We);var rt=Lr("flags"),xs="flags",Cs="context",Eu={};Eu[Cs]={};var oe=function(e){this.fetch=M.fetch,this.getFullApiRoute=e.getFullApiRoute,this.getMpConfig=e.getConfigFunc,this.setMpConfig=e.setConfigFunc,this.getMpProperty=e.getPropertyFunc,this.track=e.trackingFunc};oe.prototype.init=function(){if(!this.minApisSupported()){rt.critical("Feature Flags unavailable: missing minimum required APIs");return}this.flags=null,this.fetchFlags(),this.trackedFeatures=new Set};oe.prototype.getFullConfig=function(){var e=this.getMpConfig(xs);return e?y.isObject(e)?y.extend({},Eu,e):Eu:{}};oe.prototype.getConfig=function(e){return this.getFullConfig()[e]};oe.prototype.isSystemEnabled=function(){return!!this.getMpConfig(xs)};oe.prototype.updateContext=function(e,r){if(!this.isSystemEnabled())return rt.critical("Feature Flags not enabled, cannot update context"),Promise.resolve();var n=this.getMpConfig(xs);y.isObject(n)||(n={});var t=r&&r.replace?{}:this.getConfig(Cs);return n[Cs]=y.extend({},t,e),this.setMpConfig(xs,n),this.fetchFlags()};oe.prototype.areFlagsReady=function(){return this.isSystemEnabled()||rt.error("Feature Flags not enabled"),!!this.flags};oe.prototype.fetchFlags=function(){if(!this.isSystemEnabled())return Promise.resolve();var e=this.getMpProperty("distinct_id"),r=this.getMpProperty("$device_id"),n=Rk();rt.log("Fetching flags for distinct ID: "+e);var t=y.extend({distinct_id:e,device_id:r},this.getConfig(Cs)),i=new URLSearchParams;i.set("context",JSON.stringify(t)),i.set("token",this.getMpConfig("token")),i.set("mp_lib","web"),i.set("$lib_version",lt.LIB_VERSION);var o=this.getFullApiRoute()+"?"+i.toString();return this._fetchInProgressStartTime=Date.now(),this.fetchPromise=this.fetch.call(M,o,{method:"GET",headers:{Authorization:"Basic "+btoa(this.getMpConfig("token")+":"),traceparent:n}}).then(function(s){return this.markFetchComplete(),s.json().then(function(a){var l=a.flags;if(!l)throw new Error("No flags in API response");var u=new Map;y.each(l,function(f,c){u.set(c,{key:f.variant_key,value:f.variant_value,experiment_id:f.experiment_id,is_experiment_active:f.is_experiment_active,is_qa_tester:f.is_qa_tester})}),this.flags=u,this._traceparent=n}.bind(this)).catch(function(a){this.markFetchComplete(),rt.error(a)}.bind(this))}.bind(this)).catch(function(s){this.markFetchComplete(),rt.error(s)}.bind(this)),this.fetchPromise};oe.prototype.markFetchComplete=function(){if(!this._fetchInProgressStartTime){rt.error("Fetch in progress started time not set, cannot mark fetch complete");return}this._fetchStartTime=this._fetchInProgressStartTime,this._fetchCompleteTime=Date.now(),this._fetchLatency=this._fetchCompleteTime-this._fetchStartTime,this._fetchInProgressStartTime=null};oe.prototype.getVariant=function(e,r){return this.fetchPromise?this.fetchPromise.then(function(){return this.getVariantSync(e,r)}.bind(this)).catch(function(n){return rt.error(n),r}):new Promise(function(n){rt.critical("Feature Flags not initialized"),n(r)})};oe.prototype.getVariantSync=function(e,r){if(!this.areFlagsReady())return rt.log("Flags not loaded yet"),r;var n=this.flags.get(e);return n?(this.trackFeatureCheck(e,n),n):(rt.log('No flag found: "'+e+'"'),r)};oe.prototype.getVariantValue=function(e,r){return this.getVariant(e,{value:r}).then(function(n){return n.value}).catch(function(n){return rt.error(n),r})};oe.prototype.getFeatureData=function(e,r){return rt.critical("mixpanel.flags.get_feature_data() is deprecated and will be removed in a future release. Use mixpanel.flags.get_variant_value() instead."),this.getVariantValue(e,r)};oe.prototype.getVariantValueSync=function(e,r){return this.getVariantSync(e,{value:r}).value};oe.prototype.isEnabled=function(e,r){return this.getVariantValue(e).then(function(){return this.isEnabledSync(e,r)}.bind(this)).catch(function(n){return rt.error(n),r})};oe.prototype.isEnabledSync=function(e,r){r=r||!1;var n=this.getVariantValueSync(e,r);return n!==!0&&n!==!1&&(rt.error('Feature flag "'+e+'" value: '+n+" is not a boolean; returning fallback value: "+r),n=r),n};oe.prototype.trackFeatureCheck=function(e,r){if(!this.trackedFeatures.has(e)){this.trackedFeatures.add(e);var n={"Experiment name":e,"Variant name":r.key,$experiment_type:"feature_flag","Variant fetch start time":new Date(this._fetchStartTime).toISOString(),"Variant fetch complete time":new Date(this._fetchCompleteTime).toISOString(),"Variant fetch latency (ms)":this._fetchLatency,"Variant fetch traceparent":this._traceparent};r.experiment_id!=="undefined"&&(n.$experiment_id=r.experiment_id),r.is_experiment_active!=="undefined"&&(n.$is_experiment_active=r.is_experiment_active),r.is_qa_tester!=="undefined"&&(n.$is_qa_tester=r.is_qa_tester),this.track("$experiment_started",n)}};oe.prototype.minApisSupported=function(){return!!this.fetch&&typeof Promise<"u"&&typeof Map<"u"&&typeof Set<"u"};tv(oe);oe.prototype.are_flags_ready=oe.prototype.areFlagsReady;oe.prototype.get_variant=oe.prototype.getVariant;oe.prototype.get_variant_sync=oe.prototype.getVariantSync;oe.prototype.get_variant_value=oe.prototype.getVariantValue;oe.prototype.get_variant_value_sync=oe.prototype.getVariantValueSync;oe.prototype.is_enabled=oe.prototype.isEnabled;oe.prototype.is_enabled_sync=oe.prototype.isEnabledSync;oe.prototype.update_context=oe.prototype.updateContext;oe.prototype.get_feature_data=oe.prototype.getFeatureData;var Xt=function(){};Xt.prototype.create_properties=function(){};Xt.prototype.event_handler=function(){};Xt.prototype.after_track_handler=function(){};Xt.prototype.init=function(e){return this.mp=e,this};Xt.prototype.track=function(e,r,n,t){var i=this,o=y.dom_query(e);if(o.length===0){Z.error("The DOM query ("+e+") returned 0 elements");return}return y.each(o,function(s){y.register_event(s,this.override_event,function(a){var l={},u=i.create_properties(n,this),f=i.mp.get_config("track_links_timeout");i.event_handler(a,this,l),window.setTimeout(i.track_callback(t,u,l,!0),f),i.mp.track(r,u,i.track_callback(t,u,l))})},this),!0};Xt.prototype.track_callback=function(e,r,n,t){t=t||!1;var i=this;return function(){n.callback_fired||(n.callback_fired=!0,!(e&&e(t,r)===!1)&&i.after_track_handler(r,n,t))}};Xt.prototype.create_properties=function(e,r){var n;return typeof e=="function"?n=e(r):n=y.extend({},e),n};var mn=function(){this.override_event="click"};y.inherit(mn,Xt);mn.prototype.create_properties=function(e,r){var n=mn.superclass.create_properties.apply(this,arguments);return r.href&&(n.url=r.href),n};mn.prototype.event_handler=function(e,r,n){n.new_tab=e.which===2||e.metaKey||e.ctrlKey||r.target==="_blank",n.href=r.href,n.new_tab||e.preventDefault()};mn.prototype.after_track_handler=function(e,r){r.new_tab||setTimeout(function(){window.location=r.href},0)};var Ys=function(){this.override_event="submit"};y.inherit(Ys,Xt);Ys.prototype.event_handler=function(e,r,n){n.element=r,e.preventDefault()};Ys.prototype.after_track_handler=function(e,r){setTimeout(function(){r.element.submit()},0)};var ar="$set",vn="$set_once",yt="$unset",Or="$add",Ot="$append",Tr="$union",qt="$remove",jE="$delete",Fv={set_action:function(e,r){var n={},t={};return y.isObject(e)?y.each(e,function(i,o){this._is_reserved_property(o)||(t[o]=i)},this):t[e]=r,n[ar]=t,n},unset_action:function(e){var r={},n=[];return y.isArray(e)||(e=[e]),y.each(e,function(t){this._is_reserved_property(t)||n.push(t)},this),r[yt]=n,r},set_once_action:function(e,r){var n={},t={};return y.isObject(e)?y.each(e,function(i,o){this._is_reserved_property(o)||(t[o]=i)},this):t[e]=r,n[vn]=t,n},union_action:function(e,r){var n={},t={};return y.isObject(e)?y.each(e,function(i,o){this._is_reserved_property(o)||(t[o]=y.isArray(i)?i:[i])},this):t[e]=y.isArray(r)?r:[r],n[Tr]=t,n},append_action:function(e,r){var n={},t={};return y.isObject(e)?y.each(e,function(i,o){this._is_reserved_property(o)||(t[o]=i)},this):t[e]=r,n[Ot]=t,n},remove_action:function(e,r){var n={},t={};return y.isObject(e)?y.each(e,function(i,o){this._is_reserved_property(o)||(t[o]=i)},this):t[e]=r,n[qt]=t,n},delete_action:function(){var e={};return e[jE]="",e}},Ee=function(){};y.extend(Ee.prototype,Fv);Ee.prototype._init=function(e,r,n){this._mixpanel=e,this._group_key=r,this._group_id=n};Ee.prototype.set=gn(function(e,r,n){var t=this.set_action(e,r);return y.isObject(e)&&(n=r),this._send_request(t,n)});Ee.prototype.set_once=gn(function(e,r,n){var t=this.set_once_action(e,r);return y.isObject(e)&&(n=r),this._send_request(t,n)});Ee.prototype.unset=gn(function(e,r){var n=this.unset_action(e);return this._send_request(n,r)});Ee.prototype.union=gn(function(e,r,n){y.isObject(e)&&(n=r);var t=this.union_action(e,r);return this._send_request(t,n)});Ee.prototype.delete=gn(function(e){var r=this.delete_action();return this._send_request(r,e)});Ee.prototype.remove=gn(function(e,r,n){var t=this.remove_action(e,r);return this._send_request(t,n)});Ee.prototype._send_request=function(e,r){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var n=y.encodeDates(e);return this._mixpanel._track_or_batch({type:"groups",data:n,endpoint:this._mixpanel.get_api_host("groups")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},r)};Ee.prototype._is_reserved_property=function(e){return e==="$group_key"||e==="$group_id"};Ee.prototype._get_config=function(e){return this._mixpanel.get_config(e)};Ee.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};Ee.prototype.remove=Ee.prototype.remove;Ee.prototype.set=Ee.prototype.set;Ee.prototype.set_once=Ee.prototype.set_once;Ee.prototype.union=Ee.prototype.union;Ee.prototype.unset=Ee.prototype.unset;Ee.prototype.toString=Ee.prototype.toString;var Q=function(){};y.extend(Q.prototype,Fv);Q.prototype._init=function(e){this._mixpanel=e};Q.prototype.set=gr(function(e,r,n){var t=this.set_action(e,r);return y.isObject(e)&&(n=r),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),t[ar]=y.extend({},y.info.people_properties(),t[ar]),this._send_request(t,n)});Q.prototype.set_once=gr(function(e,r,n){var t=this.set_once_action(e,r);return y.isObject(e)&&(n=r),this._send_request(t,n)});Q.prototype.unset=gr(function(e,r){var n=this.unset_action(e);return this._send_request(n,r)});Q.prototype.increment=gr(function(e,r,n){var t={},i={};return y.isObject(e)?(y.each(e,function(o,s){if(!this._is_reserved_property(s))if(isNaN(parseFloat(o))){Z.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else i[s]=o},this),n=r):(y.isUndefined(r)&&(r=1),i[e]=r),t[Or]=i,this._send_request(t,n)});Q.prototype.append=gr(function(e,r,n){y.isObject(e)&&(n=r);var t=this.append_action(e,r);return this._send_request(t,n)});Q.prototype.remove=gr(function(e,r,n){y.isObject(e)&&(n=r);var t=this.remove_action(e,r);return this._send_request(t,n)});Q.prototype.union=gr(function(e,r,n){y.isObject(e)&&(n=r);var t=this.union_action(e,r);return this._send_request(t,n)});Q.prototype.track_charge=gr(function(){Z.error("mixpanel.people.track_charge() is deprecated and no longer has any effect.")});Q.prototype.clear_charges=function(e){return this.set("$transactions",[],e)};Q.prototype.delete_user=function(){if(!this._identify_called()){Z.error("mixpanel.people.delete_user() requires you to call identify() first");return}var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)};Q.prototype.toString=function(){return this._mixpanel.toString()+".people"};Q.prototype._send_request=function(e,r){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var n=this._mixpanel.get_property("$device_id"),t=this._mixpanel.get_property("$user_id"),i=this._mixpanel.get_property("$had_persisted_distinct_id");n&&(e.$device_id=n),t&&(e.$user_id=t),i&&(e.$had_persisted_distinct_id=i);var o=y.encodeDates(e);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:o,endpoint:this._mixpanel.get_api_host("people")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},r):(this._enqueue(e),y.isUndefined(r)||(this._get_config("verbose")?r({status:-1,error:null}):r(-1)),y.truncate(o,255))};Q.prototype._get_config=function(e){return this._mixpanel.get_config(e)};Q.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};Q.prototype._enqueue=function(e){ar in e?this._mixpanel.persistence._add_to_people_queue(ar,e):vn in e?this._mixpanel.persistence._add_to_people_queue(vn,e):yt in e?this._mixpanel.persistence._add_to_people_queue(yt,e):Or in e?this._mixpanel.persistence._add_to_people_queue(Or,e):Ot in e?this._mixpanel.persistence._add_to_people_queue(Ot,e):qt in e?this._mixpanel.persistence._add_to_people_queue(qt,e):Tr in e?this._mixpanel.persistence._add_to_people_queue(Tr,e):Z.error("Invalid call to _enqueue():",e)};Q.prototype._flush_one_queue=function(e,r,n,t){var i=this,o=y.extend({},this._mixpanel.persistence.load_queue(e)),s=o;!y.isUndefined(o)&&y.isObject(o)&&!y.isEmptyObject(o)&&(i._mixpanel.persistence._pop_from_people_queue(e,o),i._mixpanel.persistence.save(),t&&(s=t(o)),r.call(i,s,function(a,l){a===0&&i._mixpanel.persistence._add_to_people_queue(e,o),y.isUndefined(n)||n(a,l)}))};Q.prototype._flush=function(e,r,n,t,i,o,s){var a=this;this._flush_one_queue(ar,this.set,e),this._flush_one_queue(vn,this.set_once,t),this._flush_one_queue(yt,this.unset,o,function(g){return y.keys(g)}),this._flush_one_queue(Or,this.increment,r),this._flush_one_queue(Tr,this.union,i);var l=this._mixpanel.persistence.load_queue(Ot);if(!y.isUndefined(l)&&y.isArray(l)&&l.length)for(var u,f=function(g,_){g===0&&a._mixpanel.persistence._add_to_people_queue(Ot,u),y.isUndefined(n)||n(g,_)},c=l.length-1;c>=0;c--)l=this._mixpanel.persistence.load_queue(Ot),u=l.pop(),a._mixpanel.persistence.save(),y.isEmptyObject(u)||a.append(u,f);var d=this._mixpanel.persistence.load_queue(qt);if(!y.isUndefined(d)&&y.isArray(d)&&d.length)for(var p,v=function(g,_){g===0&&a._mixpanel.persistence._add_to_people_queue(qt,p),y.isUndefined(s)||s(g,_)},b=d.length-1;b>=0;b--)d=this._mixpanel.persistence.load_queue(qt),p=d.pop(),a._mixpanel.persistence.save(),y.isEmptyObject(p)||a.remove(p,v)};Q.prototype._is_reserved_property=function(e){return e==="$distinct_id"||e==="$token"||e==="$device_id"||e==="$user_id"||e==="$had_persisted_distinct_id"};Q.prototype.set=Q.prototype.set;Q.prototype.set_once=Q.prototype.set_once;Q.prototype.unset=Q.prototype.unset;Q.prototype.increment=Q.prototype.increment;Q.prototype.append=Q.prototype.append;Q.prototype.remove=Q.prototype.remove;Q.prototype.union=Q.prototype.union;Q.prototype.track_charge=Q.prototype.track_charge;Q.prototype.clear_charges=Q.prototype.clear_charges;Q.prototype.delete_user=Q.prototype.delete_user;Q.prototype.toString=Q.prototype.toString;var bc="__mps",wc="__mpso",Sc="__mpus",xc="__mpa",Cc="__mpap",kc="__mpr",Ec="__mpu",$v="$people_distinct_id",ks="__alias",Bi="__timers",WE=[bc,wc,Sc,xc,Cc,kc,Ec,$v,ks,Bi],ie=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var r=e.persistence;r!=="cookie"&&r!=="localStorage"&&(Z.critical("Unknown persistence type "+r+"; falling back to cookie"),r=e.persistence="cookie"),r==="localStorage"&&y.localStorage.is_supported()?this.storage=y.localStorage:this.storage=y.cookie,this.load(),this.update_config(e),this.upgrade(),this.save()};ie.prototype.properties=function(){var e={};return this.load(),y.each(this.props,function(r,n){y.include(WE,n)||(e[n]=r)}),e};ie.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=y.extend({},e))}};ie.prototype.upgrade=function(){var e,r;this.storage===y.localStorage?(e=y.cookie.parse(this.name),y.cookie.remove(this.name),y.cookie.remove(this.name,!0),e&&this.register_once(e)):this.storage===y.cookie&&(r=y.localStorage.parse(this.name),y.localStorage.remove(this.name),r&&this.register_once(r))};ie.prototype.save=function(){this.disabled||this.storage.set(this.name,pn(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};ie.prototype.load_prop=function(e){return this.load(),this.props[e]};ie.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};ie.prototype.clear=function(){this.remove(),this.props={}};ie.prototype.register_once=function(e,r,n){return y.isObject(e)?(typeof r>"u"&&(r="None"),this.expire_days=typeof n>"u"?this.default_expiry:n,this.load(),y.each(e,function(t,i){(!this.props.hasOwnProperty(i)||this.props[i]===r)&&(this.props[i]=t)},this),this.save(),!0):!1};ie.prototype.register=function(e,r){return y.isObject(e)?(this.expire_days=typeof r>"u"?this.default_expiry:r,this.load(),y.extend(this.props,e),this.save(),!0):!1};ie.prototype.unregister=function(e){this.load(),e in this.props&&(delete this.props[e],this.save())};ie.prototype.update_search_keyword=function(e){this.register(y.info.searchInfo(e))};ie.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:y.info.referringDomain(e)||"$direct"},"")};ie.prototype.get_referrer_info=function(){return y.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};ie.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)};ie.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()};ie.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())};ie.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())};ie.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())};ie.prototype.get_cross_subdomain=function(){return this.cross_subdomain};ie.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())};ie.prototype._add_to_people_queue=function(e,r){var n=this._get_queue_key(e),t=r[e],i=this._get_or_create_queue(ar),o=this._get_or_create_queue(vn),s=this._get_or_create_queue(yt),a=this._get_or_create_queue(Or),l=this._get_or_create_queue(Tr),u=this._get_or_create_queue(qt,[]),f=this._get_or_create_queue(Ot,[]);n===bc?(y.extend(i,t),this._pop_from_people_queue(Or,t),this._pop_from_people_queue(Tr,t),this._pop_from_people_queue(yt,t)):n===wc?(y.each(t,function(c,d){d in o||(o[d]=c)}),this._pop_from_people_queue(yt,t)):n===Sc?y.each(t,function(c){y.each([i,o,a,l],function(d){c in d&&delete d[c]}),y.each(f,function(d){c in d&&delete d[c]}),s[c]=!0}):n===xc?(y.each(t,function(c,d){d in i?i[d]+=c:(d in a||(a[d]=0),a[d]+=c)},this),this._pop_from_people_queue(yt,t)):n===Ec?(y.each(t,function(c,d){y.isArray(c)&&(d in l||(l[d]=[]),y.each(c,function(p){y.include(l[d],p)||l[d].push(p)}))}),this._pop_from_people_queue(yt,t)):n===kc?(u.push(t),this._pop_from_people_queue(Ot,t)):n===Cc&&(f.push(t),this._pop_from_people_queue(yt,t)),Z.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),Z.log(r),this.save()};ie.prototype._pop_from_people_queue=function(e,r){var n=this.props[this._get_queue_key(e)];y.isUndefined(n)||y.each(r,function(t,i){e===Ot||e===qt?y.each(n,function(o){o[i]===t&&delete o[i]}):delete n[i]},this)};ie.prototype.load_queue=function(e){return this.load_prop(this._get_queue_key(e))};ie.prototype._get_queue_key=function(e){if(e===ar)return bc;if(e===vn)return wc;if(e===yt)return Sc;if(e===Or)return xc;if(e===Ot)return Cc;if(e===qt)return kc;if(e===Tr)return Ec;Z.error("Invalid queue:",e)};ie.prototype._get_or_create_queue=function(e,r){var n=this._get_queue_key(e);return r=y.isUndefined(r)?{}:r,this.props[n]||(this.props[n]=r)};ie.prototype.set_event_timer=function(e,r){var n=this.load_prop(Bi)||{};n[e]=r,this.props[Bi]=n,this.save()};ie.prototype.remove_event_timer=function(e){var r=this.load_prop(Bi)||{},n=r[e];return y.isUndefined(n)||(delete this.props[Bi][e],this.save()),n};var Es,Bv=function(e,r){throw new Error(e+" not available in this build.")},Qe,Iu=0,zE=1,dt="mixpanel",Uv="base64",VE="json",Ic="$device:",qE="strict",HE="fallback",GE="disabled",rn=M.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,jv=!rn&&It.indexOf("MSIE")===-1&&It.indexOf("Mozilla")===-1,Is=null;Vt.sendBeacon&&(Is=function(){return Vt.sendBeacon.apply(Vt,arguments)});var Wv={track:"track/",engage:"engage/",groups:"groups/",record:"record/",flags:"flags/",settings:"settings/"},Au={api_host:"https://api-js.mixpanel.com",api_hosts:{},api_routes:Wv,api_extra_query_params:{},api_method:"POST",api_transport:"XHR",api_payload_format:Uv,app_host:"https://mixpanel.com",autocapture:!1,cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:or,flags:!1,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:or,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{},record_block_class:new RegExp("^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$"),record_block_selector:"img, video, audio",record_canvas:!1,record_collect_fonts:!1,record_console:!0,record_heatmap_data:!1,record_idle_timeout_ms:1800*1e3,record_mask_inputs:!0,record_max_ms:vi,record_min_ms:0,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js",remote_settings_mode:GE},zv=!1,k=function(){},Ou=function(e,r,n){var t,i=n===dt?Qe:Qe[n];if(i&&Es===Iu)t=i;else{if(i&&!y.isArray(i)){Z.error("You have already initialized "+n);return}t=new k}if(t._cached_groups={},t._init(e,r,n),t.people=new Q,t.people._init(t),!t.get_config("skip_first_touch_marketing")){var o=y.info.campaignParams(null),s={},a=!1;y.each(o,function(u,f){s["initial_"+f]=u,u&&(a=!0)}),a&&t.people.set_once(s)}lt.DEBUG=lt.DEBUG||t.get_config("debug");var l=Es===Iu?"module":"snippet";return M.dispatchEvent(new M.CustomEvent("$mp_sdk_to_extension_event",{detail:{instance:t,source:l,token:e,name:n,info:y.info}})),!y.isUndefined(i)&&y.isArray(i)&&(t._execute_array.call(t.people,i.people),t._execute_array(i)),t};k.prototype.init=function(e,r,n){if(y.isUndefined(n)){this.report_error("You must name your new library: init(token, config, name)");return}if(n===dt){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var t=Ou(e,r,n);return Qe[n]=t,t._loaded(),t};k.prototype._init=function(e,r,n){r=r||{},this.__loaded=!0,this.config={};var t={};if(!("api_payload_format"in r)){var i=r.api_host||Au.api_host;i.match(/\.mixpanel\.com/)&&(t.api_payload_format=VE)}if(this.hooks={},this.set_config(y.extend({},Au,t,r,{name:n,token:e,callback_fn:(n===dt?n:dt+"."+n)+"._jsc"})),this._jsc=or,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!y.localStorage.is_supported(!0)||!rn)this._batch_requests=!1,Z.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),y.each(this.get_batcher_configs(),function(l){Z.log("Clearing batch queue "+l.queue_key),y.localStorage.remove(l.queue_key)});else if(this.init_batchers(),Is&&M.addEventListener){var o=y.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);M.addEventListener("pagehide",function(l){l.persisted&&o()}),M.addEventListener("visibilitychange",function(){J.visibilityState==="hidden"&&o()})}}this.persistence=this.cookie=new ie(this.config),this.unpersisted_superprops={},this._gdpr_init();var s=y.UUID();this.get_distinct_id()||this.register_once({distinct_id:Ic+s,$device_id:s},""),this.flags=new oe({getFullApiRoute:y.bind(function(){return this.get_api_host("flags")+"/"+this.get_config("api_routes").flags},this),getConfigFunc:y.bind(this.get_config,this),setConfigFunc:y.bind(this.set_config,this),getPropertyFunc:y.bind(this.get_property,this),trackingFunc:y.bind(this.track,this)}),this.flags.init(),this.flags=this.flags,this.autocapture=new We(this),this.autocapture.init(),this._init_tab_id();var a=this.get_config("remote_settings_mode");a===qE||a===HE?this._fetch_remote_settings(a).then(y.bind(function(){this._check_and_start_session_recording()},this)):this._check_and_start_session_recording()};k.prototype._init_tab_id=function(){if(this.get_config("disable_persistence"))Z.log("Tab ID initialization skipped due to disable_persistence config");else if(y.sessionStorage.is_supported())try{var e=this.get_config("name")+"_"+this.get_config("token"),r="mp_tab_id_"+e,n="mp_gen_new_tab_id_"+e;(y.sessionStorage.get(n)||!y.sessionStorage.get(r))&&y.sessionStorage.set(r,"$tab-"+y.UUID()),y.sessionStorage.set(n,"1"),this.tab_id=y.sessionStorage.get(r),M.addEventListener("beforeunload",function(){y.sessionStorage.remove(n)})}catch(t){this.report_error("Error initializing tab id",t)}else this.report_error("Session storage is not supported, cannot keep track of unique tab ID.")};k.prototype.get_tab_id=function(){return this.tab_id||null};k.prototype._should_load_recorder=function(){if(this.get_config("disable_persistence"))return Z.log("Load recorder check skipped due to disable_persistence config"),Promise.resolve(!1);var e=new _t(hc),r=this.get_tab_id();return e.init().then(function(){return e.getAll()}).then(function(n){for(var t=0;t<n.length;t++)if(gc(n[t])||n[t].tabId===r)return!0;return!1}).catch(y.bind(function(n){this.report_error("Error checking recording registry",n)},this))};k.prototype._check_and_start_session_recording=vr(function(e){if(!M.MutationObserver){Z.critical("Browser does not support MutationObserver; skipping session recording");return}var r=y.bind(function(t){var i=y.bind(function(){this._recorder=this._recorder||new M.__mp_recorder(this),this._recorder.resumeRecording(t)},this);y.isUndefined(M.__mp_recorder)?Bv(this.get_config("recorder_src"),i):i()},this),n=this.get_config("record_sessions_percent")>0&&Math.random()*100<=this.get_config("record_sessions_percent");e||n?r(!0):this._should_load_recorder().then(function(t){t&&r(!1)})});k.prototype.start_session_recording=function(){this._check_and_start_session_recording(!0)};k.prototype.stop_session_recording=function(){return this._recorder?this._recorder.stopRecording():Promise.resolve()};k.prototype.pause_session_recording=function(){return this._recorder?this._recorder.pauseRecording():Promise.resolve()};k.prototype.resume_session_recording=function(){return this._recorder?this._recorder.resumeRecording():Promise.resolve()};k.prototype.is_recording_heatmap_data=function(){return this._get_session_replay_id()&&this.get_config("record_heatmap_data")};k.prototype.get_session_recording_properties=function(){var e={},r=this._get_session_replay_id();return r&&(e.$mp_replay_id=r),e};k.prototype.get_session_replay_url=function(){var e=null,r=this._get_session_replay_id();if(r){var n=y.HTTPBuildQuery({replay_id:r,distinct_id:this.get_distinct_id(),token:this.get_config("token")});e="https://mixpanel.com/projects/replay-redirect?"+n}return e};k.prototype._get_session_replay_id=function(){var e=null;return this._recorder&&(e=this._recorder.replayId),e||null};k.prototype.__get_recorder=function(){return this._recorder};k.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var e=y.info.campaignParams(null);y.each(e,function(r,n){this.unregister(n)}.bind(this))}};k.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(J.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(y.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(J.referrer)};k.prototype._dom_loaded=function(){y.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),this.has_opted_out_tracking()||y.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue};k.prototype._track_dom=function(e,r){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!zv)return this.__dom_loaded_queue.push([e,r]),!1;var n=new e().init(this);return n.track.apply(n,r)};k.prototype._prepare_callback=function(e,r){if(y.isUndefined(e))return null;if(rn){var n=function(s){e(s,r)};return n}else{var t=this._jsc,i=""+Math.floor(Math.random()*1e8),o=this.get_config("callback_fn")+"["+i+"]";return t[i]=function(s){delete t[i],e(s,r)},o}};k.prototype._send_request=function(e,r,n,t){var i=!0;if(jv)return this.__request_queue.push(arguments),i;var o={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},s=null;!t&&(y.isFunction(n)||typeof n=="string")&&(t=n,n=null),n=y.extend(o,n||{}),rn||(n.method="GET");var a=n.method==="POST",l=Is&&a&&n.transport.toLowerCase()==="sendbeacon",u=n.verbose;r.verbose&&(u=!0),this.get_config("test")&&(r.test=1),u&&(r.verbose=1),this.get_config("img")&&(r.img=1),rn||(t?r.callback=t:(u||this.get_config("test"))&&(r.callback="(function(){})")),r.ip=this.get_config("ip")?1:0,r._=new Date().getTime().toString(),a&&(s="data="+encodeURIComponent(r.data),delete r.data),y.extend(r,this.get_config("api_extra_query_params")),e+="?"+y.HTTPBuildQuery(r);var f=this;if("img"in r){var c=J.createElement("img");c.src=e,J.body.appendChild(c)}else if(l){try{i=Is(e,s)}catch(_){f.report_error(_),i=!1}try{t&&t(i?1:0)}catch(_){f.report_error(_)}}else if(rn)try{var d=new XMLHttpRequest;d.open(n.method,e,!0);var p=this.get_config("xhr_headers");if(a&&(p["Content-Type"]="application/x-www-form-urlencoded"),y.each(p,function(_,w){d.setRequestHeader(w,_)}),n.timeout_ms&&typeof d.timeout<"u"){d.timeout=n.timeout_ms;var v=new Date().getTime()}d.withCredentials=!0,d.onreadystatechange=function(){if(d.readyState===4)if(d.status===200){if(t)if(u){var _;try{_=y.JSONDecode(d.responseText)}catch(x){if(f.report_error(x),n.ignore_json_errors)_=d.responseText;else return}t(_)}else t(Number(d.responseText))}else{var w;if(d.timeout&&!d.status&&new Date().getTime()-v>=d.timeout?w="timeout":w="Bad HTTP status: "+d.status+" "+d.statusText,f.report_error(w),t)if(u){var S=d.responseHeaders||{};t({status:0,httpStatusCode:d.status,error:w,retryAfter:S["Retry-After"]})}else t(0)}},d.send(s)}catch(_){f.report_error(_),i=!1}else{var b=J.createElement("script");b.type="text/javascript",b.async=!0,b.defer=!0,b.src=e;var g=J.getElementsByTagName("script")[0];g.parentNode.insertBefore(b,g)}return i};k.prototype._fetch_remote_settings=function(e){var r=function(){e==="strict"&&s.set_config({record_sessions_percent:0})};if(!M.AbortController)return Z.critical("Remote settings unavailable: missing minimum required APIs"),r(),Promise.resolve();var n=this.get_api_host("settings")+"/"+this.get_config("api_routes").settings,t={$lib_version:lt.LIB_VERSION,mp_lib:"web",sdk_config:"1"},i=y.HTTPBuildQuery(t),o=n+"?"+i,s=this,a=new AbortController,l=setTimeout(function(){a.abort()},500),u={method:"GET",headers:{Authorization:"Basic "+btoa(s.get_config("token")+":")},signal:a.signal};return M.fetch(o,u).then(function(f){if(clearTimeout(l),!f.ok){Z.critical("Network response was not ok"),r();return}return f.json()}).then(function(f){if(f&&f.sdk_config&&f.sdk_config.config){var c=f.sdk_config.config,d={};y.each(c,function(p,v){Au.hasOwnProperty(v)&&(d[v]=p)}),y.isEmptyObject(d)?(Z.critical("No valid config keys found in remote settings."),r()):s.set_config(d)}else r()}).catch(function(f){clearTimeout(l),Z.critical("Failed to fetch remote settings",f),r()})};k.prototype._execute_array=function(e){var r,n=[],t=[],i=[];y.each(e,function(s){s&&(r=s[0],y.isArray(r)?i.push(s):typeof s=="function"?s.call(this):y.isArray(s)&&r==="alias"?n.push(s):y.isArray(s)&&r.indexOf("track")!==-1&&typeof this[r]=="function"?i.push(s):t.push(s))},this);var o=function(s,a){y.each(s,function(l){if(y.isArray(l[0])){var u=a;y.each(l,function(f){u=u[f[0]].apply(u,f.slice(1))})}else this[l[0]].apply(this,l.slice(1))},a)};o(n,this),o(t,this),o(i,this)};k.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};k.prototype.get_batcher_configs=function(){var e="__mpq_"+this.get_config("token");return this._batcher_configs=this._batcher_configs||{events:{type:"events",api_name:"track",queue_key:e+"_ev"},people:{type:"people",api_name:"engage",queue_key:e+"_pp"},groups:{type:"groups",api_name:"groups",queue_key:e+"_gr"}},this._batcher_configs};k.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var e=y.bind(function(n){return new ht(n.queue_key,{libConfig:this.config,errorReporter:this.get_config("error_reporter"),sendRequestFunc:y.bind(function(t,i,o){var s=this.get_config("api_routes");this._send_request(this.get_api_host(n.api_name)+"/"+s[n.api_name],this._encode_data_for_request(t),i,this._prepare_callback(o,t))},this),beforeSendHook:y.bind(function(t){var i=this._run_hook("before_send_"+n.type,t);return i?i[0]:null},this),stopAllBatchingFunc:y.bind(this.stop_batch_senders,this),usePersistence:!0})},this),r=this.get_batcher_configs();this.request_batchers={events:e(r.events),people:e(r.people),groups:e(r.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()};k.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,y.each(this.request_batchers,function(e){e.start()}))};k.prototype.stop_batch_senders=function(){this._batch_requests=!1,y.each(this.request_batchers,function(e){e.stop(),e.clear()})};k.prototype.push=function(e){this._execute_array([e])};k.prototype.disable=function(e){typeof e>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)};k.prototype._encode_data_for_request=function(e){var r=pn(e);return this.get_config("api_payload_format")===Uv&&(r=y.base64Encode(r)),{data:r}};k.prototype._track_or_batch=function(e,r){var n=y.truncate(e.data,255),t=e.endpoint,i=e.batcher,o=e.should_send_immediately,s=e.send_request_options||{};r=r||or;var a=!0,l=y.bind(function(){return s.skip_hooks||(n=this._run_hook("before_send_"+e.type,n),n&&(n=n[0])),n?(Z.log("MIXPANEL REQUEST:"),Z.log(n),this._send_request(t,this._encode_data_for_request(n),s,this._prepare_callback(r,n))):null},this);return this._batch_requests&&!o?i.enqueue(n).then(function(u){u?r(1,n):l()}):a=l(),a&&n};k.prototype.track=vr(function(e,r,n,t){var i;if(!(n&&n.skip_hooks)){if(i=this._run_hook("before_track",e,r),i===null)return;e=i[0],r=i[1]}!t&&typeof n=="function"&&(t=n,n=null),n=n||{};var o=n.transport;o&&(n.transport=o);var s=n.send_immediately;if(typeof t!="function"&&(t=or),y.isUndefined(e)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(e)){t(0);return}r=y.extend({},r),r.token=this.get_config("token");var a=this.persistence.remove_event_timer(e);if(!y.isUndefined(a)){var l=new Date().getTime()-a;r.$duration=parseFloat((l/1e3).toFixed(3))}this._set_default_superprops();var u=this.get_config("track_marketing")?y.info.marketingParams():{};r=y.extend({},y.info.properties({mp_loader:this.get_config("mp_loader")}),u,this.persistence.properties(),this.unpersisted_superprops,this.get_session_recording_properties(),r);var f=this.get_config("property_blacklist");y.isArray(f)?y.each(f,function(d){delete r[d]}):this.report_error("Invalid value for property_blacklist config: "+f);var c={event:e,properties:r};return i=this._track_or_batch({type:"events",data:c,endpoint:this.get_api_host("events")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:s,send_request_options:n},t),i});k.prototype.set_group=vr(function(e,r,n){y.isArray(r)||(r=[r]);var t={};return t[e]=r,this.register(t),this.people.set(e,r,n)});k.prototype.add_group=vr(function(e,r,n){var t=this.get_property(e),i={};return t===void 0?(i[e]=[r],this.register(i)):t.indexOf(r)===-1&&(t.push(r),i[e]=t,this.register(i)),this.people.union(e,r,n)});k.prototype.remove_group=vr(function(e,r,n){var t=this.get_property(e);if(t!==void 0){var i=t.indexOf(r);i>-1&&(t.splice(i,1),this.register({group_key:t})),t.length===0&&this.unregister(e)}return this.people.remove(e,r,n)});k.prototype.track_with_groups=vr(function(e,r,n,t){var i=y.extend({},r||{});return y.each(n,function(o,s){o!=null&&(i[s]=o)}),this.track(e,i,t)});k.prototype._create_map_key=function(e,r){return e+"_"+JSON.stringify(r)};k.prototype._remove_group_from_cache=function(e,r){delete this._cached_groups[this._create_map_key(e,r)]};k.prototype.get_group=function(e,r){var n=this._create_map_key(e,r),t=this._cached_groups[n];return(t===void 0||t._group_key!==e||t._group_id!==r)&&(t=new Ee,t._init(this,e,r),this._cached_groups[n]=t),t};k.prototype.track_pageview=vr(function(e,r){typeof e!="object"&&(e={}),r=r||{};var n=r.event_name||"$mp_web_page_view",t=y.extend(y.info.mpPageViewProperties(),y.info.campaignParams(),y.info.clickParams()),i=y.extend({},t,e);return this.track(n,i)});k.prototype.track_links=function(){return this._track_dom.call(this,mn,arguments)};k.prototype.track_forms=function(){return this._track_dom.call(this,Ys,arguments)};k.prototype.time_event=function(e){if(y.isUndefined(e)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(e)||this.persistence.set_event_timer(e,new Date().getTime())};var KE={persistent:!0},Ac=function(e){var r;return y.isObject(e)?r=e:y.isUndefined(e)?r={}:r={days:e},y.extend({},KE,r)};k.prototype.register=function(e,r){var n=this._run_hook("before_register",e,r);if(n!==null){e=n[0],r=n[1];var t=Ac(r);t.persistent?this.persistence.register(e,t.days):y.extend(this.unpersisted_superprops,e)}};k.prototype.register_once=function(e,r,n){var t=this._run_hook("before_register_once",e,r,n);if(t!==null){e=t[0],r=t[1],n=t[2];var i=Ac(n);i.persistent?this.persistence.register_once(e,r,i.days):(typeof r>"u"&&(r="None"),y.each(e,function(o,s){(!this.unpersisted_superprops.hasOwnProperty(s)||this.unpersisted_superprops[s]===r)&&(this.unpersisted_superprops[s]=o)},this))}};k.prototype.unregister=function(e,r){var n=this._run_hook("before_unregister",e,r);n!==null&&(e=n[0],r=n[1],r=Ac(r),r.persistent?this.persistence.unregister(e):delete this.unpersisted_superprops[e])};k.prototype._register_single=function(e,r){var n={};n[e]=r,this.register(n)};k.prototype.identify=function(e,r,n,t,i,o,s,a){var l=this._run_hook("before_identify",e);if(l===null)return-1;e=l[0];var u=this.get_distinct_id();if(e&&u!==e){if(typeof e=="string"&&e.indexOf(Ic)===0)return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:e})}if(!this.get_property("$device_id")){var f=u;this.register_once({$had_persisted_distinct_id:!0,$device_id:f},"")}e!==u&&e!==this.get_property(ks)&&(this.unregister(ks),this.register({distinct_id:e})),this._flags.identify_called=!0,this.people._flush(r,n,t,i,o,s,a),e!==u&&this.track("$identify",{distinct_id:e,$anon_distinct_id:u},{skip_hooks:!0}),e!==u&&this.flags.fetchFlags()};k.prototype.reset=function(){this.stop_session_recording(),this.persistence.clear(),this._flags.identify_called=!1;var e=y.UUID();this.register_once({distinct_id:Ic+e,$device_id:e},""),this._check_and_start_session_recording()};k.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};k.prototype.alias=function(e,r){if(e===this.get_property($v))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var n=this;return y.isUndefined(r)&&(r=this.get_distinct_id()),e!==r?(this._register_single(ks,e),this.track("$create_alias",{alias:e,distinct_id:r},{skip_hooks:!0},function(){n.identify(e)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)};k.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)};k.prototype.set_config=function(e){if(y.isObject(e)){y.extend(this.config,e);var r=e.batch_size;r&&y.each(this.request_batchers,function(n){n.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),lt.DEBUG=lt.DEBUG||this.get_config("debug"),("autocapture"in e||"record_heatmap_data"in e)&&this.autocapture&&this.autocapture.init(),y.isObject(e.hooks)&&(this.hooks={},y.each(e.hooks,function(n,t){if(y.isFunction(n))this.hooks[t]=[n];else if(y.isArray(n)){this.hooks[t]=[];for(var i=0;i<n.length;i++)y.isFunction(n[i])||Z.critical("Invalid hook added. Hook is not a function"),this.hooks[t].push(n[i])}else Z.critical("Invalid hooks added. Ensure that the hook values passed into config.hooks are functions or arrays of functions.")},this))}};k.prototype.get_config=function(e){return this.config[e]};k.prototype._run_hook=function(e){var r=nr.call(arguments,1);return y.each(this.hooks[e],function(n){if(r===null)return null;var t=n.apply(this,r);typeof t>"u"?(this.report_error(e+" hook did not return a valid value"),r=null):(y.isArray(t)||(t=[t]),r.splice.apply(r,[0,t.length].concat(t)))},this),r};k.prototype.get_property=function(e){return this.persistence.load_prop([e])};k.prototype.get_api_host=function(e){return this.get_config("api_hosts")[e]||this.get_config("api_host")};k.prototype.toString=function(){var e=this.get_config("name");return e!==dt&&(e=dt+"."+e),e};k.prototype._event_is_disabled=function(e){return y.isBlockedUA(It)||this._flags.disable_all_events||y.include(this.__disabled_events,e)};k.prototype._gdpr_init=function(){var e=this.get_config("opt_out_tracking_persistence_type")==="localStorage";e&&y.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||y.cookie.get("mp_optout"))&&(y.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};k.prototype._gdpr_update_persistence=function(e){var r;if(e&&e.clear_persistence)r=!0;else if(e&&e.enable_persistence)r=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==r&&this.persistence.set_disabled(r),r?(this.stop_batch_senders(),this.stop_session_recording()):this._batchers_were_started&&this.start_batch_senders()};k.prototype._gdpr_call_func=function(e,r){return r=y.extend({track:y.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},r),y.localStorage.is_supported()||(r.persistence_type="cookie"),e(this.get_config("token"),{track:r.track,trackEventName:r.track_event_name,trackProperties:r.track_properties,persistenceType:r.persistence_type,persistencePrefix:r.cookie_prefix,cookieDomain:r.cookie_domain,cookieExpiration:r.cookie_expiration,crossSiteCookie:r.cross_site_cookie,crossSubdomainCookie:r.cross_subdomain_cookie,secureCookie:r.secure_cookie,ignoreDnt:r.ignore_dnt})};k.prototype.opt_in_tracking=function(e){e=y.extend({enable_persistence:!0},e),this._gdpr_call_func(qk,e),this._gdpr_update_persistence(e)};k.prototype.opt_out_tracking=function(e){e=y.extend({clear_persistence:!0,delete_user:!0},e),e.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(Hk,e),this._gdpr_update_persistence(e)};k.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func(Gk,e)};k.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func(av,e)};k.prototype.clear_opt_in_out_tracking=function(e){e=y.extend({enable_persistence:!0},e),this._gdpr_call_func(Kk,e),this._gdpr_update_persistence(e)};k.prototype.report_error=function(e,r){Z.error.apply(Z.error,arguments);try{!r&&!(e instanceof Error)&&(e=new Error(e)),this.get_config("error_reporter")(e,r)}catch(n){Z.error(n)}};k.prototype.add_hook=function(e,r){this.hooks[e]||(this.hooks[e]=[]),this.hooks[e].push(r)};k.prototype.remove_hook=function(e,r){var n;this.hooks[e]&&(n=this.hooks[e].indexOf(r),n!==-1?this.hooks[e].splice(n,1):Z.log("remove_hook failed. Matching hook was not found"))};k.prototype.init=k.prototype.init;k.prototype.reset=k.prototype.reset;k.prototype.disable=k.prototype.disable;k.prototype.time_event=k.prototype.time_event;k.prototype.track=k.prototype.track;k.prototype.track_links=k.prototype.track_links;k.prototype.track_forms=k.prototype.track_forms;k.prototype.track_pageview=k.prototype.track_pageview;k.prototype.register=k.prototype.register;k.prototype.register_once=k.prototype.register_once;k.prototype.unregister=k.prototype.unregister;k.prototype.identify=k.prototype.identify;k.prototype.alias=k.prototype.alias;k.prototype.name_tag=k.prototype.name_tag;k.prototype.set_config=k.prototype.set_config;k.prototype.get_config=k.prototype.get_config;k.prototype.get_api_host=k.prototype.get_api_host;k.prototype.get_property=k.prototype.get_property;k.prototype.get_distinct_id=k.prototype.get_distinct_id;k.prototype.toString=k.prototype.toString;k.prototype.opt_out_tracking=k.prototype.opt_out_tracking;k.prototype.opt_in_tracking=k.prototype.opt_in_tracking;k.prototype.has_opted_out_tracking=k.prototype.has_opted_out_tracking;k.prototype.has_opted_in_tracking=k.prototype.has_opted_in_tracking;k.prototype.clear_opt_in_out_tracking=k.prototype.clear_opt_in_out_tracking;k.prototype.get_group=k.prototype.get_group;k.prototype.set_group=k.prototype.set_group;k.prototype.add_group=k.prototype.add_group;k.prototype.remove_group=k.prototype.remove_group;k.prototype.add_hook=k.prototype.add_hook;k.prototype.remove_hook=k.prototype.remove_hook;k.prototype.track_with_groups=k.prototype.track_with_groups;k.prototype.start_batch_senders=k.prototype.start_batch_senders;k.prototype.stop_batch_senders=k.prototype.stop_batch_senders;k.prototype.start_session_recording=k.prototype.start_session_recording;k.prototype.stop_session_recording=k.prototype.stop_session_recording;k.prototype.pause_session_recording=k.prototype.pause_session_recording;k.prototype.resume_session_recording=k.prototype.resume_session_recording;k.prototype.get_session_recording_properties=k.prototype.get_session_recording_properties;k.prototype.get_session_replay_url=k.prototype.get_session_replay_url;k.prototype.get_tab_id=k.prototype.get_tab_id;k.prototype.DEFAULT_API_ROUTES=Wv;k.prototype.__get_recorder=k.prototype.__get_recorder;ie.prototype.properties=ie.prototype.properties;ie.prototype.update_search_keyword=ie.prototype.update_search_keyword;ie.prototype.update_referrer_info=ie.prototype.update_referrer_info;ie.prototype.get_cross_subdomain=ie.prototype.get_cross_subdomain;ie.prototype.clear=ie.prototype.clear;var Zr={},YE=function(){y.each(Zr,function(e,r){r!==dt&&(Qe[r]=e)}),Qe._=y},JE=function(){Qe.init=function(e,r,n){if(n)return Qe[n]||(Qe[n]=Zr[n]=Ou(e,r,n),Qe[n]._loaded()),Qe[n];var t=Qe;Zr[dt]?t=Zr[dt]:e&&(t=Ou(e,r,dt),t._loaded(),Zr[dt]=t),Qe=t,Es===zE&&(M[dt]=Qe),YE()}},QE=function(){function e(){e.done||(e.done=!0,zv=!0,jv=!1,y.each(Zr,function(t){t._dom_loaded()}))}function r(){try{J.documentElement.doScroll("left")}catch{setTimeout(r,1);return}e()}if(J.addEventListener)J.readyState==="complete"?e():J.addEventListener("DOMContentLoaded",e,!1);else if(J.attachEvent){J.attachEvent("onreadystatechange",e);var n=!1;try{n=M.frameElement===null}catch{}J.documentElement.doScroll&&n&&r()}y.register_event(M,"load",e,!0)};function XE(e){return Bv=e,Es=Iu,Qe=new k,JE(),Qe.init(),QE(),Qe}function ZE(e,r){r()}var qi=XE(ZE);var Ae=(e,r,n={})=>{let t={output1:String(r)};Object.values(n).forEach((i,o)=>{t[`output${o+2}`]=String(i)}),window.BubbleBridge?(console.log(`\u{1F4E1} [${e}]`,{action:r,...n}),window.BubbleBridge.send(e,t)):console.warn(`\u26A0\uFE0F BubbleBridge not found [${e}]`,{action:r,...n})};var Hi="https://0fc323560b9c4d8afc3a7d487716abb6.cdn.bubble.io",Js="v1.0.0-alpha-83a7b05ca2fe";var eI=({deviceId:e,onAction:r})=>{let n=`${Hi}/f1744960311608x780031988693140400/BG%20%281%29.png`,t=i=>{i!=="signin"&&Ae("bubble_fn_welcome",i),r&&r(i)};return m.createElement("div",{className:"relative w-full h-full bg-black font-jakarta overflow-hidden"},m.createElement("div",{className:"absolute inset-0 z-0"},m.createElement("img",{src:n,className:"w-full h-full object-cover opacity-80",alt:"Couple"}),m.createElement("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/90"})),m.createElement("div",{className:"relative z-10 flex flex-col h-full px-6 py-10"},m.createElement("div",{className:"mx-auto flex flex-col items-center"},m.createElement("svg",{width:"56",height:"56",viewBox:"0 0 64 64",fill:"none"},m.createElement("circle",{cx:"32",cy:"32",r:"32",fill:"white"}),m.createElement("rect",{x:"19",y:"19",width:"26",height:"26",fill:"#FF2258"})),m.createElement("div",{className:"text-white text-center mt-2 font-bold tracking-widest text-[10px]"},"BONDS")),m.createElement("div",{className:"flex-1 min-h-[20px]"}),m.createElement("div",{className:"mb-8"},m.createElement("h1",{className:"text-white text-[32px] leading-[38px] font-normal mb-3"},"Your Relationship",m.createElement("br",null),"Superpower"),m.createElement("p",{className:"text-white/80 text-base font-light leading-relaxed"},"We learn your dynamics and tailor expert built, AI powered insights & actions")),m.createElement("div",{className:"space-y-6"},m.createElement("button",{onClick:()=>t("go"),className:"w-full h-[58px] rounded-[40px] bg-gradient-to-l from-[#B900B0] to-[#D8003F] flex items-center justify-center shadow-lg transform transition active:scale-95 btn-pressed"},m.createElement("span",{className:"font-jakarta font-semibold text-[18px] text-white tracking-[3px] uppercase"},"LET\u2019S GO")),m.createElement("div",{className:"text-center"},m.createElement("span",{className:"font-jakarta text-[16px] text-white tracking-[0.2px]"},"Got an account? "," ",m.createElement("button",{onClick:()=>t("signin"),className:"font-bold border-b border-white hover:opacity-80 transition"},"Sign In here"))),m.createElement("p",{className:"text-center text-white/20 text-[10px] mt-4"},Js))))},Qs=eI;var tI=()=>m.createElement("svg",{width:"20",height:"20",viewBox:"0 0 48 48"},m.createElement("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),m.createElement("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),m.createElement("path",{fill:"#FBBC05",d:"M10.53 28.59a14.5 14.5 0 0 1 0-9.18l-7.98-6.19a24.1 24.1 0 0 0 0 21.56l7.98-6.19z"}),m.createElement("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"})),rI=({theme:e,onBack:r})=>{let n=()=>{localStorage.setItem("bonds_auth_pending","true"),Ae("bubble_fn_signin","google_signin")};return m.createElement("div",{style:{background:e.bg},className:"relative w-full h-full font-jakarta overflow-hidden"},m.createElement("div",{className:"flex flex-col h-full px-6 py-10"},m.createElement("button",{onClick:r,className:"w-10 h-10 rounded-full flex items-center justify-center transition-opacity active:opacity-60",style:{background:e.surface,border:`1px solid ${e.border}`}},m.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},m.createElement("path",{d:"M12.5 15L7.5 10L12.5 5",stroke:e.textPrimary,strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"}))),m.createElement("div",{className:"mx-auto flex flex-col items-center mt-8"},m.createElement("svg",{width:"56",height:"56",viewBox:"0 0 64 64",fill:"none"},m.createElement("circle",{cx:"32",cy:"32",r:"32",fill:e.textPrimary}),m.createElement("rect",{x:"19",y:"19",width:"26",height:"26",fill:"#FF2258"})),m.createElement("div",{className:"text-center mt-2 font-bold tracking-widest text-[0.625rem]",style:{color:e.textPrimary}},"BONDS")),m.createElement("div",{className:"flex-1 min-h-[1.25rem]"}),m.createElement("div",{className:"mb-8"},m.createElement("h1",{className:"text-[2rem] leading-[2.375rem] font-normal mb-3",style:{color:e.textPrimary}},"Welcome back"),m.createElement("p",{className:"text-base font-light leading-relaxed",style:{color:e.textSecondary}},"Sign in to continue your relationship journey")),m.createElement("button",{onClick:n,className:"w-full h-[3.625rem] rounded-[2.5rem] bg-white flex items-center justify-center gap-3 shadow-md transform transition active:scale-95",style:{border:"1px solid rgba(0,0,0,0.1)"}},m.createElement(tI,null),m.createElement("span",{className:"font-jakarta font-semibold text-[1rem] text-[#3c4043] tracking-[0.25px]"},"Continue with Google")),m.createElement("div",{className:"flex-1 min-h-[1.25rem]"}),m.createElement("p",{className:"text-center text-[0.6875rem] leading-relaxed",style:{color:e.textMuted}},"By continuing, you agree to our Terms of Service and Privacy Policy")))},Vv=rI;function Rr(e,r,n){let t=n.initialDeps??[],i,o=!0;function s(){var a,l,u;let f;n.key&&((a=n.debug)!=null&&a.call(n))&&(f=Date.now());let c=e();if(!(c.length!==t.length||c.some((v,b)=>t[b]!==v)))return i;t=c;let p;if(n.key&&((l=n.debug)!=null&&l.call(n))&&(p=Date.now()),i=r(...c),n.key&&((u=n.debug)!=null&&u.call(n))){let v=Math.round((Date.now()-f)*100)/100,b=Math.round((Date.now()-p)*100)/100,g=b/16,_=(w,S)=>{for(w=String(w);w.length<S;)w=" "+w;return w};console.info(`%c\u23F1 ${_(b,5)} /${_(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(o&&n.skipInitialOnChange)&&n.onChange(i),o=!1,i}return s.updateDeps=a=>{t=a},s}function Oc(e,r){if(e===void 0)throw new Error(`Unexpected undefined${r?`: ${r}`:""}`);return e}var qv=(e,r)=>Math.abs(e-r)<1.01,Hv=(e,r,n)=>{let t;return function(...i){e.clearTimeout(t),t=e.setTimeout(()=>r.apply(this,i),n)}};var Gv=e=>{let{offsetWidth:r,offsetHeight:n}=e;return{width:r,height:n}},nI=e=>e,iI=e=>{let r=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),t=[];for(let i=r;i<=n;i++)t.push(i);return t},Jv=(e,r)=>{let n=e.scrollElement;if(!n)return;let t=e.targetWindow;if(!t)return;let i=s=>{let{width:a,height:l}=s;r({width:Math.round(a),height:Math.round(l)})};if(i(Gv(n)),!t.ResizeObserver)return()=>{};let o=new t.ResizeObserver(s=>{let a=()=>{let l=s[0];if(l?.borderBoxSize){let u=l.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(Gv(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},Kv={passive:!0};var Yv=typeof window>"u"?!0:"onscrollend"in window,Qv=(e,r)=>{let n=e.scrollElement;if(!n)return;let t=e.targetWindow;if(!t)return;let i=0,o=e.options.useScrollendEvent&&Yv?()=>{}:Hv(t,()=>{r(i,!1)},e.options.isScrollingResetDelay),s=f=>()=>{let{horizontal:c,isRtl:d}=e.options;i=c?n.scrollLeft*(d&&-1||1):n.scrollTop,o(),r(i,f)},a=s(!0),l=s(!1);n.addEventListener("scroll",a,Kv);let u=e.options.useScrollendEvent&&Yv;return u&&n.addEventListener("scrollend",l,Kv),()=>{n.removeEventListener("scroll",a),u&&n.removeEventListener("scrollend",l)}};var oI=(e,r,n)=>{if(r?.borderBoxSize){let t=r.borderBoxSize[0];if(t)return Math.round(t[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]};var Xv=(e,{adjustments:r=0,behavior:n},t)=>{var i,o;let s=e+r;(o=(i=t.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[t.options.horizontal?"left":"top"]:s,behavior:n})},Xs=class{constructor(r){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null,t=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{let s=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=t())==null||i.disconnect(),n=null},observe:i=>{var o;return(o=t())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=t())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([t,i])=>{typeof i>"u"&&delete n[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:nI,rangeExtractor:iI,onChange:()=>{},measureElement:oI,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var t,i;(i=(t=this.options).onChange)==null||i.call(t,this,n)},this.maybeNotify=Rr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;let t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t){this.maybeNotify();return}this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,t)=>{let i=new Map,o=new Map;for(let s=t-1;s>=0;s--){let a=n[s];if(i.has(a.lane))continue;let l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=Rr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,t,i,o,s,a)=>(this.prevLanes!==void 0&&this.prevLanes!==a&&(this.lanesChangedFlag=!0),this.prevLanes=a,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:t,scrollMargin:i,getItemKey:o,enabled:s,lanes:a}),{key:!1}),this.getMeasurements=Rr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:t,scrollMargin:i,getItemKey:o,enabled:s,lanes:a},l)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(let d of this.laneAssignments.keys())d>=n&&this.laneAssignments.delete(d);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));let u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);let f=this.measurementsCache.slice(0,u),c=new Array(a).fill(void 0);for(let d=0;d<u;d++){let p=f[d];p&&(c[p.lane]=d)}for(let d=u;d<n;d++){let p=o(d),v=this.laneAssignments.get(d),b,g;if(v!==void 0&&this.options.lanes>1){b=v;let x=c[b],C=x!==void 0?f[x]:void 0;g=C?C.end+this.options.gap:t+i}else{let x=this.options.lanes===1?f[d-1]:this.getFurthestMeasurement(f,d);g=x?x.end+this.options.gap:t+i,b=x?x.lane:d%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(d,b)}let _=l.get(p),w=typeof _=="number"?_:this.options.estimateSize(d),S=g+w;f[d]={index:d,start:g,size:w,end:S,key:p,lane:b},c[b]=d}return this.measurementsCache=f,f},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Rr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,t,i,o)=>this.range=n.length>0&&t>0?sI({measurements:n,outerSize:t,scrollOffset:i,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Rr(()=>{let n=null,t=null,i=this.calculateRange();return i&&(n=i.startIndex,t=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,t]},(n,t,i,o,s)=>o===null||s===null?[]:n({startIndex:o,endIndex:s,overscan:t,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{let t=this.options.indexAttribute,i=n.getAttribute(t);return i?parseInt(i,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(n,t)=>{let i=this.indexFromElement(n),o=this.measurementsCache[i];if(!o)return;let s=o.key,a=this.elementsCache.get(s);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,t,this))},this.resizeItem=(n,t)=>{let i=this.measurementsCache[n];if(!i)return;let o=this.itemSizeCache.get(i.key)??i.size,s=t-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,t)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((t,i)=>{t.isConnected||(this.observer.unobserve(t),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Rr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,t)=>{let i=[];for(let o=0,s=n.length;o<s;o++){let a=n[o],l=t[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{let t=this.getMeasurements();if(t.length!==0)return Oc(t[Zv(0,t.length-1,i=>Oc(t[i]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{let n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,t,i=0)=>{if(!this.scrollElement)return 0;let o=this.getSize(),s=this.getScrollOffset();t==="auto"&&(t=n>=s+o?"end":"start"),t==="center"?n+=(i-o)/2:t==="end"&&(n-=o);let a=this.getMaxScrollOffset();return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,t="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));let i=this.measurementsCache[n];if(!i)return;let o=this.getSize(),s=this.getScrollOffset();if(t==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)t="end";else if(i.start<=s+this.options.scrollPaddingStart)t="start";else return[s,t];if(t==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),t];let a=t==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,t,i.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:t="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,t),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:t="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let o=0,s=10,a=u=>{if(!this.targetWindow)return;let f=this.getOffsetForIndex(n,u);if(!f){console.warn("Failed to get offset for index:",n);return}let[c,d]=f;this._scrollToOffset(c,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{let p=()=>{if(this.currentScrollToIndex!==n)return;let v=this.getScrollOffset(),b=this.getOffsetForIndex(n,d);if(!b){console.warn("Failed to get offset for index:",n);return}qv(b[0],v)||l(d)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(p):p()})},l=u=>{this.targetWindow&&this.currentScrollToIndex===n&&(o++,o<s?this.targetWindow.requestAnimationFrame(()=>a(u)):console.warn(`Failed to scroll to index ${n} after ${s} attempts.`))};a(t)},this.scrollBy=(n,{behavior:t}={})=>{t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var n;let t=this.getMeasurements(),i;if(t.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=t[t.length-1])==null?void 0:n.end)??0;else{let o=Array(this.options.lanes).fill(null),s=t.length-1;for(;s>=0&&o.some(a=>a===null);){let a=t[s];o[a.lane]===null&&(o[a.lane]=a.end),s--}i=Math.max(...o.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:t,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(r)}},Zv=(e,r,n,t)=>{for(;e<=r;){let i=(e+r)/2|0,o=n(i);if(o<t)e=i+1;else if(o>t)r=i-1;else return i}return e>0?e-1:0};function sI({measurements:e,outerSize:r,scrollOffset:n,lanes:t}){let i=e.length-1,o=l=>e[l].start;if(e.length<=t)return{startIndex:0,endIndex:i};let s=Zv(0,i,o,n),a=s;if(t===1)for(;a<i&&e[a].end<n+r;)a++;else if(t>1){let l=Array(t).fill(0);for(;a<i&&l.some(f=>f<n+r);){let f=e[a];l[f.lane]=f.end,a++}let u=Array(t).fill(n+r);for(;s>=0&&u.some(f=>f>=n);){let f=e[s];u[f.lane]=f.start,s--}s=Math.max(0,s-s%t),a=Math.min(i,a+(t-1-a%t))}return{startIndex:s,endIndex:a}}var eg=typeof document<"u"?tr:G;function aI({useFlushSync:e=!0,...r}){let n=zr(()=>({}),{})[1],t={...r,onChange:(o,s)=>{var a;e&&s?ja(n):n(),(a=r.onChange)==null||a.call(r,o,s)}},[i]=$(()=>new Xs(t));return i.setOptions(t),eg(()=>i._didMount(),[]),eg(()=>i._willUpdate()),i}function tg(e){return aI({observeElementRect:Jv,observeElementOffset:Qv,scrollToFn:Xv,...e})}var Zs=new Set,Pt=()=>{let e=typeof window.$agent<"u",r=xt(()=>e?new Wt:null,[e]),n=j((s,a)=>{localStorage.setItem(s,a),r&&r.setStorageValue(s,a)},[r]),t=j(s=>{let a=localStorage.getItem(s);return a!=null?(r&&!Zs.has(s)&&(Zs.add(s),r.getStorageValue(s,l=>{let u=l.value;u!=null&&u!==a&&(console.log(`\u{1F504} [Storage] Background reconciled "${s}": native="${u}" wins over local="${a}".`),localStorage.setItem(s,u))})),Promise.resolve(a)):r&&!Zs.has(s)?(Zs.add(s),new Promise(l=>{let u=setTimeout(()=>{console.warn(`\u23F1\uFE0F [Storage] Recovery timeout for "${s}" (2s). Returning null.`),l(null)},2e3);r.getStorageValue(s,f=>{clearTimeout(u);let c=f.value;c!=null?(console.log(`\u{1F504} [Storage] Recovered "${s}" from native="${c}".`),localStorage.setItem(s,c),l(c)):l(null)})})):Promise.resolve(null)},[r]),i=j(s=>{localStorage.removeItem(s),r&&r.removeStorageValue(s)},[r]),o=j(()=>{localStorage.clear(),r&&r.resetStorage()},[r]);return xt(()=>({setItem:n,getItem:t,removeItem:i,clear:o}),[n,t,i,o])};var bn="bonds_user_data",wn={name:"",email:"",avatar:null,credits:0,partner:null,pillars:[]},rg=xr(wn),yr=()=>Cr(rg),ea=({children:e})=>{let[r,n]=$(()=>{try{let f=localStorage.getItem(bn);return f?{...wn,...JSON.parse(f)}:wn}catch{return wn}}),{getItem:t,setItem:i,removeItem:o}=Pt(),s=te(r);s.current=r,G(()=>{t(bn).then(f=>{if(f)try{let c={...wn,...JSON.parse(f)};n(d=>JSON.stringify(d)!==JSON.stringify(c)?c:d)}catch{}})},[t]);let a=j(f=>{let c=JSON.stringify(f);localStorage.setItem(bn,c),i(bn,c)},[i]),l=j(f=>{n(c=>{let d={...c,...f};return a(d),d})},[a]),u=j(()=>{n(wn),localStorage.removeItem(bn),o(bn)},[o]);return G(()=>(window.appUI=window.appUI||{},window.appUI.setUserData=l,()=>{delete window.appUI.setUserData}),[l]),G(()=>{let f=window.appUI._q;f&&(delete window.appUI._q,window.appUI.whenReady=function(c){c()},f.forEach(c=>c()))},[]),m.createElement(rg.Provider,{value:{...r,updateUser:l,clearUser:u}},e)};var Tc={check:m.createElement("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none"},m.createElement("polyline",{points:"4 12 10 18 20 6",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})),star:m.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"white"},m.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.27 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"})),trophy:m.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none"},m.createElement("path",{d:"M6 2h12v6a6 6 0 0 1-12 0V2z",fill:"white"}),m.createElement("path",{d:"M6 4H3a1 1 0 0 0-1 1v1a4 4 0 0 0 4 4m12-6h3a1 1 0 0 1 1 1v1a4 4 0 0 1-4 4",stroke:"white",strokeWidth:"1.5"}),m.createElement("path",{d:"M8 21h8m-4-7v7",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})),clock:m.createElement("svg",{width:"34",height:"34",viewBox:"0 0 24 24",fill:"none"},m.createElement("circle",{cx:"12",cy:"12",r:"10",stroke:"white",strokeWidth:"1.8"}),m.createElement("path",{d:"M12 6v6l4 2",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),m.createElement("circle",{cx:"12",cy:"12",r:"1.2",fill:"white"}))},lI={learn:m.createElement("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none"},m.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.createElement("path",{d:"M8 7h8M8 11h5",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})),practice:m.createElement("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none"},m.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.createElement("path",{d:"M8 10h8M8 14h4",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})),insight:m.createElement("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none"},m.createElement("path",{d:"M9 18h6M10 22h4",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),m.createElement("path",{d:"M12 2a7 7 0 0 0-4 12.7V16h8v-1.3A7 7 0 0 0 12 2z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),act:m.createElement("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none"},m.createElement("path",{d:"M12 22c5.5 0 10-4.5 10-10S17.5 2 12 2 2 6.5 2 12s4.5 10 10 10z",stroke:"white",strokeWidth:"2"}),m.createElement("path",{d:"M8 12l3 3 5-5",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}))},uI={learn:"Watch & Learn",practice:"Practice the Skill",insight:"Dr Leo's Insight",act:"Take Action",milestone:"Chapter Milestone"},cI=e=>({lock:m.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},m.createElement("rect",{x:"5",y:"11",width:"14",height:"10",rx:"2",stroke:e.lockedIcon,strokeWidth:"2"}),m.createElement("path",{d:"M8 11V7a4 4 0 1 1 8 0v4",stroke:e.lockedIcon,strokeWidth:"2",strokeLinecap:"round"})),diamond:m.createElement("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none"},m.createElement("path",{d:"M6 3h12l4 7-10 12L2 10l4-7z",stroke:e.lockedIcon,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))}),ng=375,ig=220,ta=12,fI=({text:e,theme:r})=>m.createElement("div",{className:"absolute -top-10 left-1/2 z-10 animate-float"},m.createElement("div",{className:"relative border-2 border-solid rounded-xl px-4 py-1.5 whitespace-nowrap",style:{background:r.floatBg,borderColor:r.floatBorder}},m.createElement("span",{className:"font-jakarta font-extrabold text-[13px] tracking-[1.5px] uppercase",style:{color:r.textPrimary}},e),m.createElement("div",{className:"absolute -bottom-[7px] left-1/2 -translate-x-1/2 w-0 h-0 border-solid border-l-[7px] border-l-transparent border-r-[7px] border-r-transparent border-t-[7px]",style:{borderTopColor:r.floatBorder}}),m.createElement("div",{className:"absolute -bottom-[5px] left-1/2 -translate-x-1/2 w-0 h-0 border-solid border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px]",style:{borderTopColor:r.floatBg}}))),dI=({node:e,color:r,onStart:n,nodeX:t})=>{let i=ig/2,o=t-i,s=t+i,a=0;o<ta?a=ta-o:s>ng-ta&&(a=ng-ta-s);let l=-a;return m.createElement("div",{className:"absolute z-20 animate-popover-in",style:{top:"100%",marginTop:12,left:"50%","--pop-offset":`${a}px`,width:ig}},m.createElement("div",{className:"absolute -top-[7px] w-0 h-0 border-solid border-l-[8px] border-l-transparent border-r-[8px] border-r-transparent border-b-[8px]",style:{borderBottomColor:r,left:"50%",transform:`translateX(calc(-50% + ${l}px))`}}),m.createElement("div",{className:"rounded-2xl px-4 py-3",style:{backgroundColor:r}},m.createElement("p",{className:"font-jakarta font-extrabold text-[15px] text-white leading-tight"},e.title),m.createElement("p",{className:"font-jakarta font-bold text-[11px] text-white/70 mt-0.5"},e.status==="paused"?"Unlocks tomorrow":e.status==="locked"?"Locked":uI[e.type]||(e.status==="completed"?"Completed":"In progress")),e.type!=="milestone"&&e.status!=="locked"&&e.status!=="paused"&&m.createElement("button",{onClick:u=>{u.stopPropagation(),n&&n(e)},className:"mt-2.5 w-full rounded-xl py-2 font-jakarta font-extrabold text-[13px] uppercase tracking-wide",style:{backgroundColor:"white",color:r,boxShadow:"0 2px 0 0 rgba(0,0,0,0.12)"}},"START +10 XP")))},og=Ra(({node:e,nodeX:r,style:n,isSelected:t,showFloatingLabel:i,onTap:o,onStart:s,accentColor:a,accentDark:l,theme:u})=>{let{title:f,status:c,type:d}=e,p=d==="milestone",v=c==="completed",b=c==="current",g=c==="locked",_=c==="paused",w=p?82:b?78:70,S=p?6:5,x=a||"#E44B8E",C=l||"#B83A72",T=u.lockedBg,I=u.lockedShadow,O="#FFB800",N="#CC9300",P=cI(u),E,A,R;p?v?(E=O,A=N,R=Tc.trophy):(E=T,A=I,R=P.diamond):g?(E=T,A=I,R=P.lock):_?(E=x+"80",A=C+"80",R=Tc.clock):(E=x,A=C,R=lI[d]||Tc.star);let B=a||E;return m.createElement("div",{className:"absolute flex flex-col items-center",style:{...n,width:w+40,marginLeft:-(w+40)/2}},i&&!t&&m.createElement(fI,{text:"START",theme:u}),m.createElement("div",{className:"relative"},m.createElement("button",{disabled:g,onClick:g?void 0:()=>o&&o(e),className:`relative rounded-full flex items-center justify-center overflow-hidden ${g?"cursor-default":_?"cursor-pointer animate-paused-clock":"cursor-pointer transition-transform duration-100 active:translate-y-[2px]"}`,style:{width:w,height:w,backgroundColor:E,boxShadow:`0 ${S}px 0 0 ${A}`}},v&&m.createElement("div",{className:"absolute inset-0 rounded-full pointer-events-none",style:{background:"radial-gradient(ellipse 70% 50% at 30% 15%, rgba(255,255,255,0.25), transparent 65%)"}}),R),t&&m.createElement(dI,{node:e,color:B,onStart:s,nodeX:r})),!p&&m.createElement("span",{className:"mt-2 text-[10px] font-jakarta font-bold text-center leading-tight tracking-wide",style:{color:v?u.labelCompleted:b||_?u.labelCurrent:u.labelLocked}},f))});og.displayName="JourneyNode";var sg=og;var hI={chapters:[{title:"Communication",index:1,nodes:[{id:1,type:"learn",title:"Learn",status:"completed"},{id:2,type:"practice",title:"Practice",status:"completed"},{id:3,type:"insight",title:"Insight",status:"completed"},{id:4,type:"act",title:"Act",status:"completed"},{id:5,type:"milestone",title:"Milestone",status:"completed"}],content:{lessonVideo:"https://example.com/videos/communication-lesson.mp4",lessonScript:"Communication is the foundation of every strong relationship. In this lesson, you'll learn the difference between hearing and truly listening \u2014 and how small shifts in how you speak and respond can transform your connection with your partner.",lessonQuestions:[{question:"What is active listening?",answers:["Waiting for your turn to speak","Fully focusing on and understanding the speaker","Repeating everything back word for word"],correctAnswer:1},{question:"Which response shows empathetic communication?",answers:['"I understand why that would be frustrating for you"',`"You shouldn't feel that way"`,'"Just calm down and think logically"'],correctAnswer:0},{question:'What is a "you" statement vs an "I" statement?',answers:['"You" statements express ownership, "I" statements assign blame',"They mean the same thing",'"You" statements assign blame, "I" statements express ownership'],correctAnswer:2}],practiceSkills:["Reflective listening during a disagreement","Asking open-ended questions instead of yes/no","Paraphrasing your partner's feelings before responding"],insightQuestions:["Do you feel truly heard in your relationship?","Can you identify your communication triggers?","Do you tend to shut down or escalate during conflict?"],insightVideo:"https://example.com/videos/communication-insight.mp4",actDescription:"Have a 10-minute conversation with your partner where you only ask open-ended questions and reflect back what they say.",actDaysToPerform:2}},{title:"Emotional Safety",index:2,nodes:[{id:6,type:"learn",title:"Learn",status:"completed"},{id:7,type:"practice",title:"Practice",status:"completed"},{id:8,type:"insight",title:"Insight",status:"completed"},{id:9,type:"act",title:"Act",status:"completed"},{id:10,type:"milestone",title:"Milestone",status:"completed"}],content:{lessonVideo:"https://example.com/videos/emotional-safety-lesson.mp4",lessonScript:"Emotional safety is the invisible foundation of a healthy relationship. When both partners feel safe to be vulnerable, honest, and imperfect, real intimacy can grow. This lesson explores what emotional safety looks like and how to nurture it daily.",lessonQuestions:[{question:"What is emotional safety in a relationship?",answers:["Feeling secure enough to be vulnerable without fear of judgment","Never disagreeing with your partner","Avoiding difficult conversations"],correctAnswer:0},{question:"Which behavior undermines emotional safety?",answers:["Validating your partner's feelings even when you disagree","Asking clarifying questions during disagreements","Dismissing your partner's concerns as overreacting"],correctAnswer:2},{question:"How can you rebuild emotional safety after a breach?",answers:["Pretend nothing happened","Acknowledge the hurt, take responsibility, and show changed behavior","Give your partner space indefinitely"],correctAnswer:1}],practiceSkills:["Naming your emotions out loud to your partner","Responding to vulnerability with curiosity instead of advice","Creating a daily check-in ritual (2 minutes each)"],insightQuestions:["When was the last time you felt truly safe being vulnerable?","What makes you pull away emotionally?","Do you trust your partner to hold your feelings gently?"],insightVideo:"https://example.com/videos/emotional-safety-insight.mp4",actDescription:`Share one thing you've been afraid to tell your partner. Start with "I feel..." and let them respond without interruption.`,actDaysToPerform:1}},{title:"Intimacy",index:3,nodes:[{id:11,type:"learn",title:"Learn",status:"completed"},{id:12,type:"practice",title:"Practice",status:"completed"},{id:13,type:"insight",title:"Insight",status:"completed"},{id:14,type:"act",title:"Act",status:"completed"},{id:15,type:"milestone",title:"Milestone",status:"completed"}],content:{lessonVideo:"https://example.com/videos/intimacy-lesson.mp4",lessonScript:"Intimacy goes far beyond physical closeness. Emotional, intellectual, and experiential intimacy are the threads that weave two lives together. Learn the five types of intimacy and how to cultivate each one.",lessonQuestions:[{question:"Which is NOT one of the five types of intimacy?",answers:["Emotional intimacy","Intellectual intimacy","Financial intimacy"],correctAnswer:2},{question:"What often causes intimacy to fade over time?",answers:["Spending too much time together","Taking each other for granted and stopping intentional connection","Having different hobbies"],correctAnswer:1},{question:"How can you deepen emotional intimacy?",answers:["Share your fears and dreams regularly","Only talk about practical matters","Wait for your partner to open up first"],correctAnswer:0}],practiceSkills:["Sharing a childhood memory you've never told your partner","Planning a surprise experience based on your partner's love language","Spending 15 minutes together with no screens, just talking"],insightQuestions:["Which type of intimacy feels strongest in your relationship?","Which type of intimacy do you crave more of?","When do you feel closest to your partner?"],insightVideo:"https://example.com/videos/intimacy-insight.mp4",actDescription:'Plan and execute a "connection date" \u2014 no phones, no distractions. Spend one hour doing something your partner loves, fully present.',actDaysToPerform:3}},{title:"Conflict Resolution",index:4,nodes:[{id:16,type:"learn",title:"Learn",status:"paused"},{id:17,type:"practice",title:"Practice",status:"locked"},{id:18,type:"insight",title:"Insight",status:"locked"},{id:19,type:"act",title:"Act",status:"locked"},{id:20,type:"milestone",title:"Milestone",status:"locked"}],content:{lessonVideo:"https://example.com/videos/conflict-resolution-lesson.mp4",lessonScript:"Every couple fights \u2014 but how you fight determines whether conflict strengthens or weakens your bond. This lesson covers the four horsemen of relationship conflict, de-escalation techniques, and how to repair after a rupture.",lessonQuestions:[{question:`Which is one of Gottman's "Four Horsemen" of conflict?`,answers:["Active listening","Contempt","Compromise"],correctAnswer:1},{question:'What is a "repair attempt" during conflict?',answers:["Apologizing even when you're right","Changing the subject to avoid the argument","Any effort to de-escalate tension and reconnect"],correctAnswer:2},{question:"When is the best time to discuss a recurring conflict?",answers:["When both partners are calm and have agreed to talk","Never \u2014 just let it go","In the heat of the moment"],correctAnswer:0}],practiceSkills:['Using a "soft start-up" instead of a harsh opener',"Taking a 20-minute break when flooded, then returning",'Expressing needs without blaming ("I need..." not "You always...")'],insightQuestions:["What is your default conflict style \u2014 fight, flight, or freeze?","Can you think of a fight that actually brought you closer?","What does your partner do that helps you calm down during conflict?"],insightVideo:"https://example.com/videos/conflict-resolution-insight.mp4",actDescription:"Choose one recurring minor conflict. Sit down with your partner and use the soft start-up technique to discuss it. Focus on understanding, not winning.",actDaysToPerform:2}},{title:"Attachment Styles",index:5,nodes:[{id:21,type:"learn",title:"Learn",status:"locked"},{id:22,type:"practice",title:"Practice",status:"locked"},{id:23,type:"insight",title:"Insight",status:"locked"},{id:24,type:"act",title:"Act",status:"locked"},{id:25,type:"milestone",title:"Milestone",status:"locked"}],content:{lessonVideo:"https://example.com/videos/attachment-styles-lesson.mp4",lessonScript:"Your attachment style \u2014 formed in childhood \u2014 shapes how you love, fight, and connect as an adult. Understanding your own and your partner's attachment patterns is the key to breaking unhelpful cycles.",lessonQuestions:[{question:"How many primary attachment styles are there?",answers:["Four","Two","Six"],correctAnswer:0},{question:"What characterizes an anxious attachment style?",answers:["Preferring independence and avoiding vulnerability","Craving closeness and fearing abandonment","Feeling comfortable with both closeness and independence"],correctAnswer:1},{question:"Can attachment styles change over time?",answers:["No, they are fixed for life","Only with medication","Yes, through awareness, therapy, and secure relationships"],correctAnswer:2}],practiceSkills:["Identifying your attachment triggers in real time","Communicating your needs without testing your partner","Self-soothing when your attachment alarm goes off"],insightQuestions:["Which attachment style do you most identify with?","How does your attachment style show up when you feel threatened?","What did love look like in your childhood home?"],insightVideo:"https://example.com/videos/attachment-styles-insight.mp4",actDescription:"Take an attachment style quiz together with your partner. Discuss your results openly \u2014 what surprised you and what felt familiar.",actDaysToPerform:1}},{title:"Shared Values",index:6,nodes:[{id:26,type:"learn",title:"Learn",status:"locked"},{id:27,type:"practice",title:"Practice",status:"locked"},{id:28,type:"insight",title:"Insight",status:"locked"},{id:29,type:"act",title:"Act",status:"locked"},{id:30,type:"milestone",title:"Milestone",status:"locked"}],content:{lessonVideo:"https://example.com/videos/shared-values-lesson.mp4",lessonScript:"Shared values are the compass of your relationship. They guide big decisions \u2014 where to live, how to raise kids, what to prioritize. This lesson helps you uncover your core values and find alignment with your partner.",lessonQuestions:[{question:"Why are shared values important in a relationship?",answers:["Partners should agree on everything","They eliminate all disagreements","They provide a foundation for major life decisions together"],correctAnswer:2},{question:"What should you do when core values differ?",answers:["Have honest conversations about non-negotiables and find compromises","Ignore the differences and hope they resolve","One partner should give in completely"],correctAnswer:0},{question:"Which is an example of a core value?",answers:["Preferring Italian food over Mexican","Commitment to family and community","Liking the same TV shows"],correctAnswer:1}],practiceSkills:["Listing your top 5 non-negotiable values independently","Comparing value lists with your partner without judgment",'Creating a shared "relationship mission statement"'],insightQuestions:["What values did you grow up with that you still hold?","Are there values you and your partner disagree on?","What does your ideal life together look like in 5 years?"],insightVideo:"https://example.com/videos/shared-values-insight.mp4",actDescription:"Each write down your top 5 values independently, then compare. Discuss where you align and where you differ \u2014 without trying to change each other.",actDaysToPerform:2}},{title:"Trust Building",index:7,nodes:[{id:31,type:"learn",title:"Learn",status:"locked"},{id:32,type:"practice",title:"Practice",status:"locked"},{id:33,type:"insight",title:"Insight",status:"locked"},{id:34,type:"act",title:"Act",status:"locked"},{id:35,type:"milestone",title:"Milestone",status:"locked"}],content:{lessonVideo:"https://example.com/videos/trust-building-lesson.mp4",lessonScript:"Trust isn't built in grand gestures \u2014 it's built in hundreds of small moments. Every time you show up, keep a promise, or choose honesty, you're depositing into your relationship's trust bank. Learn how trust works and how to rebuild it when broken.",lessonQuestions:[{question:"How is trust primarily built in a relationship?",answers:["Through one big romantic gesture","Through consistent small actions over time","By never making mistakes"],correctAnswer:1},{question:"What is the first step in rebuilding broken trust?",answers:["The person who broke trust taking full accountability","Forgetting what happened","Setting strict rules for the other person"],correctAnswer:0},{question:"What destroys trust the fastest?",answers:["Honest disagreements","Spending time apart","Deception and hidden information"],correctAnswer:2}],practiceSkills:["Following through on one small promise today","Being transparent about something you'd normally keep to yourself","Acknowledging when your partner trusts you with something difficult"],insightQuestions:["On a scale of 1-10, how much do you trust your partner?","Has trust ever been broken in your relationship?","What does your partner do that makes you trust them more?"],insightVideo:"https://example.com/videos/trust-building-insight.mp4",actDescription:"Make three small promises to your partner this week and keep every one. At the end of the week, talk about how it felt.",actDaysToPerform:3}},{title:"Emotional Intelligence",index:8,nodes:[{id:36,type:"learn",title:"Learn",status:"locked"},{id:37,type:"practice",title:"Practice",status:"locked"},{id:38,type:"insight",title:"Insight",status:"locked"},{id:39,type:"act",title:"Act",status:"locked"},{id:40,type:"milestone",title:"Milestone",status:"locked"}],content:{lessonVideo:"https://example.com/videos/emotional-intelligence-lesson.mp4",lessonScript:"Emotional intelligence (EQ) is your ability to recognize, understand, and manage your own emotions \u2014 and to recognize and influence the emotions of others. In relationships, high EQ means fewer misunderstandings and deeper connection.",lessonQuestions:[{question:"What are the four pillars of emotional intelligence?",answers:["Self-awareness, self-management, social awareness, relationship management","Happiness, sadness, anger, fear","Thinking, feeling, acting, reflecting"],correctAnswer:0},{question:"How does emotional intelligence help in relationships?",answers:["It helps you win arguments","It makes you feel less emotion overall","It helps you understand and regulate both your own and your partner's emotions"],correctAnswer:2},{question:"What is emotional regulation?",answers:["Suppressing your emotions","The ability to manage your emotional responses appropriately","Always staying calm no matter what"],correctAnswer:1}],practiceSkills:[`Labeling your emotion before reacting ("I notice I'm feeling...")`,"Pausing for 5 seconds before responding when triggered",'Asking your partner "What are you feeling right now?" with genuine curiosity'],insightQuestions:["Which emotions are hardest for you to sit with?","Do you tend to intellectualize feelings instead of feeling them?","How did your family handle emotions when you were growing up?"],insightVideo:"https://example.com/videos/emotional-intelligence-insight.mp4",actDescription:'For two days, practice the "pause and label" technique: before reacting to any emotional trigger, pause, name the emotion out loud, then choose your response.',actDaysToPerform:2}},{title:"Independence",index:9,nodes:[{id:41,type:"learn",title:"Learn",status:"locked"},{id:42,type:"practice",title:"Practice",status:"locked"},{id:43,type:"insight",title:"Insight",status:"locked"},{id:44,type:"act",title:"Act",status:"locked"},{id:45,type:"milestone",title:"Milestone",status:"locked"}],content:{lessonVideo:"https://example.com/videos/independence-lesson.mp4",lessonScript:"Healthy relationships need two whole individuals, not two halves making a whole. Maintaining your own identity, friendships, and passions doesn't weaken your bond \u2014 it strengthens it. Learn how to balance togetherness with individuality.",lessonQuestions:[{question:"Why is maintaining independence important in a relationship?",answers:["To keep your partner guessing","So you can leave at any time","Because codependency leads to resentment and loss of self"],correctAnswer:2},{question:"What is a sign of unhealthy codependency?",answers:["Enjoying alone time","Feeling anxious when your partner has their own plans","Having separate friend groups"],correctAnswer:1},{question:"How can you support your partner's independence?",answers:["Encourage their hobbies and friendships outside the relationship","Make sure they include you in everything","Feel hurt when they want alone time"],correctAnswer:0}],practiceSkills:["Spending an evening doing your own thing without guilt","Encouraging your partner to go out with friends","Identifying one personal goal that's just for you"],insightQuestions:["Do you feel like you've lost parts of yourself in this relationship?","What hobbies or interests have you given up since being together?","Does your partner's independence feel threatening or reassuring?"],insightVideo:"https://example.com/videos/independence-insight.mp4",actDescription:"Each partner spends a full evening pursuing a solo interest \u2014 a hobby, seeing friends, or a personal project. Share what you did afterward.",actDaysToPerform:2}},{title:"Romance",index:10,nodes:[{id:46,type:"learn",title:"Learn",status:"locked"},{id:47,type:"practice",title:"Practice",status:"locked"},{id:48,type:"insight",title:"Insight",status:"locked"},{id:49,type:"act",title:"Act",status:"locked"},{id:50,type:"milestone",title:"Milestone",status:"locked"}],content:{lessonVideo:"https://example.com/videos/romance-lesson.mp4",lessonScript:"Romance isn't just for new relationships \u2014 it's a practice that keeps love alive. The butterflies may fade, but intentional romance creates a different, deeper kind of magic. Learn how to keep the spark alive through everyday actions.",lessonQuestions:[{question:"What is the biggest myth about romance?",answers:["Romance requires effort","Romance should be effortless and spontaneous if you truly love someone","Romance looks different for everyone"],correctAnswer:1},{question:'What are "bids for connection" (Gottman)?',answers:["Formal requests for dates","Arguments that need resolution","Small everyday moments where one partner reaches out for attention or affection"],correctAnswer:2},{question:"How do love languages relate to romance?",answers:["Understanding your partner's love language helps you be romantic in ways they actually feel","Everyone should express love the same way","Love languages are not scientifically valid"],correctAnswer:0}],practiceSkills:["Leaving a handwritten note for your partner to find",'Responding to a "bid for connection" with full attention',"Planning a date night based on your partner's love language"],insightQuestions:["When did you last feel truly romanced by your partner?","What small gestures mean the most to you?","Do you feel like romance has faded, or is it just different?"],insightVideo:"https://example.com/videos/romance-insight.mp4",actDescription:"Plan a surprise for your partner using their love language. It doesn't need to be expensive \u2014 just thoughtful and personal.",actDaysToPerform:2}},{title:"Life Transitions",index:11,nodes:[{id:51,type:"learn",title:"Learn",status:"locked"},{id:52,type:"practice",title:"Practice",status:"locked"},{id:53,type:"insight",title:"Insight",status:"locked"},{id:54,type:"act",title:"Act",status:"locked"},{id:55,type:"milestone",title:"Milestone",status:"locked"}],content:{lessonVideo:"https://example.com/videos/life-transitions-lesson.mp4",lessonScript:"Moving, changing jobs, becoming parents, dealing with loss \u2014 life transitions test even the strongest relationships. This lesson teaches you how to navigate major changes as a team, not as two individuals struggling separately.",lessonQuestions:[{question:"Why are life transitions especially hard on relationships?",answers:["They create stress that disrupts established routines and roles","They're boring and mundane","They don't affect relationships much"],correctAnswer:0},{question:"What is the most important thing during a transition?",answers:["Making decisions quickly","Maintaining open communication and checking in often","Handling everything independently to reduce burden"],correctAnswer:1},{question:"How should couples approach major decisions during transitions?",answers:["The more decisive partner should lead","Avoid decisions until the transition is over","Make decisions together with both perspectives valued"],correctAnswer:2}],practiceSkills:['Creating a "transition plan" together for an upcoming change','Checking in daily during stressful periods with a simple "How are you really?"',"Dividing new responsibilities fairly and revisiting the split weekly"],insightQuestions:["What was the hardest transition you've faced as a couple?","Did a life change bring you closer or push you apart?","What upcoming transition are you most nervous about?"],insightVideo:"https://example.com/videos/life-transitions-insight.mp4",actDescription:"Discuss an upcoming change or challenge together. Create a simple plan: who handles what, how you'll check in, and what support each person needs.",actDaysToPerform:2}},{title:"Partnership",index:12,nodes:[{id:56,type:"learn",title:"Learn",status:"locked"},{id:57,type:"practice",title:"Practice",status:"locked"},{id:58,type:"insight",title:"Insight",status:"locked"},{id:59,type:"act",title:"Act",status:"locked"},{id:60,type:"milestone",title:"Milestone",status:"locked"}],content:{lessonVideo:"https://example.com/videos/partnership-lesson.mp4",lessonScript:"Partnership is where love meets logistics. It's about building a life together \u2014 managing finances, dividing labor, making decisions, and supporting each other's growth. True partnership means both people feel like equals.",lessonQuestions:[{question:'What does "equal partnership" mean?',answers:["Splitting everything exactly 50/50","One partner handling all responsibilities","Both partners feeling valued and heard, contributing in ways that play to their strengths"],correctAnswer:2},{question:'What is "mental load" in a relationship?',answers:["The invisible work of planning, organizing, and remembering things for the household","The stress of work deadlines","Thinking too much about the relationship"],correctAnswer:0},{question:"How should financial decisions be handled?",answers:["The higher earner decides","Transparently, with shared goals and regular money conversations","Separately \u2014 what's mine is mine"],correctAnswer:1}],practiceSkills:["Doing an audit of who handles which household tasks","Having a money date \u2014 reviewing finances together without blame","Creating a shared goals list for the next year"],insightQuestions:['Does one partner carry more of the "mental load"?',"Do you feel like equal partners or is one person leading?","What would a more balanced partnership look like for you?"],insightVideo:"https://example.com/videos/partnership-insight.mp4",actDescription:"Sit down and list every recurring household task. Discuss who currently owns each one and rebalance together. Check in after one week.",actDaysToPerform:3}},{title:"Mastery",index:13,nodes:[{id:61,type:"learn",title:"Learn",status:"locked"},{id:62,type:"practice",title:"Practice",status:"locked"},{id:63,type:"insight",title:"Insight",status:"locked"},{id:64,type:"act",title:"Act",status:"locked"},{id:65,type:"milestone",title:"Milestone",status:"locked"}],content:{lessonVideo:"https://example.com/videos/mastery-lesson.mp4",lessonScript:"You've built the skills. Now it's time to bring them all together. Mastery isn't perfection \u2014 it's the ability to catch yourself, repair quickly, and keep growing together. This final lesson is about sustaining the relationship you've worked so hard to build.",lessonQuestions:[{question:'What does "relationship mastery" mean?',answers:["Never having problems","Having the skills to navigate challenges and continuously grow together","Being the perfect partner"],correctAnswer:1},{question:"What is the most important relationship skill from this journey?",answers:["Consistent, intentional effort to understand and support each other","Winning arguments","Avoiding conflict at all costs"],correctAnswer:0},{question:"How do you maintain relationship growth long-term?",answers:["Set it and forget it \u2014 you've done the work","Only work on it when things go wrong","Regular check-ins, continued learning, and never taking each other for granted"],correctAnswer:2}],practiceSkills:['Creating a monthly "state of the relationship" check-in ritual',"Writing a letter of appreciation to your partner","Identifying one area to keep growing in together"],insightQuestions:["What has changed the most in your relationship during this journey?","What are you most proud of as a couple?","What is one thing you want to keep working on?"],insightVideo:"https://example.com/videos/mastery-insight.mp4",actDescription:"Write each other a letter about what you've learned during this journey and what you appreciate most about your partner. Read them to each other.",actDaysToPerform:1}}]},ag=hI;var pI=130,lg=80,mI=15,vI=80,gI=187,yI=68,_I=10,bI=e=>gI+Math.sin(e*2*Math.PI/_I)*yI,Sn=[{bg:"#E44B8E",dark:"#B83A72"},{bg:"#F06862",dark:"#C0534E"},{bg:"#8558C8",dark:"#6A46A0"},{bg:"#4545B5",dark:"#363690"},{bg:"#42A8C8",dark:"#348698"}],wI=e=>{let r=e.nodes.every(i=>i.status==="completed"),n=e.nodes.some(i=>i.status==="current"),t=e.nodes.some(i=>i.status==="paused");return r?"completed":n?"current":t?"paused":"locked"},SI=({chapter:e,color:r,status:n,isActive:t,onSelect:i,theme:o})=>m.createElement("button",{onClick:()=>i(),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-colors duration-200",style:{background:t?o.menuActive:"transparent"}},m.createElement("div",{className:"rounded-full flex items-center justify-center",style:{width:32,height:32,backgroundColor:n==="locked"?o.lockedBg:r.bg,boxShadow:n==="locked"?`0 2px 0 0 ${o.lockedShadow}`:`0 2px 0 0 ${r.dark}`}},n==="completed"?m.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},m.createElement("polyline",{points:"4 12 10 18 20 6",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})):n==="current"?m.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"white"},m.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.27 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"})):n==="paused"?m.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},m.createElement("circle",{cx:"12",cy:"12",r:"10",stroke:"white",strokeWidth:"2"}),m.createElement("path",{d:"M12 6v6l4 2",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})):m.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},m.createElement("rect",{x:"5",y:"11",width:"14",height:"10",rx:"2",stroke:o.lockedIcon,strokeWidth:"2"}),m.createElement("path",{d:"M8 11V7a4 4 0 1 1 8 0v4",stroke:o.lockedIcon,strokeWidth:"2",strokeLinecap:"round"}))),m.createElement("div",{className:"flex-1 text-left"},m.createElement("p",{className:"font-bold text-[10px] uppercase tracking-widest",style:{color:n==="locked"?o.textMuted:o.textSecondary}},"Chapter ",e.index,n==="paused"?" \xB7 Paused":""),m.createElement("p",{className:"font-extrabold text-[14px] leading-tight",style:{color:n==="locked"?o.lockedIcon:o.textPrimary}},e.title)),t&&m.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:o.textPrimary,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("polyline",{points:"9 18 15 12 9 6"}))),xI=({theme:e})=>{let{credits:r}=yr(),{chapters:n}=ag,t=te(null),[i,o]=$(()=>{for(let I=0;I<n.length;I++)if(n[I].nodes.some(O=>O.status==="current"||O.status==="paused"))return I;return 0}),[s,a]=$(null),[l,u]=$(!1),{nodePositions:f,chapterYStarts:c,chapterSeparators:d,slotSizes:p,totalHeight:v}=xt(()=>{let I=[],O=[],N=[],P=mI,E=0;n.forEach((B,U)=>{U>0&&(N.push({y:P+lg/2,title:B.title,chapterIdx:U}),P+=lg),O.push(P);let ee=Sn[U%Sn.length];B.nodes.forEach(K=>{let H=bI(E);E++,I.push({node:K,x:H,y:P,chapterIdx:U,color:ee,posStyle:{left:H,top:P}}),P+=pI})});let A=P+vI,R=I.map((B,U)=>U<I.length-1?I[U+1].y-B.y:A-B.y);return{nodePositions:I,chapterYStarts:O,chapterSeparators:N,slotSizes:R,totalHeight:A}},[n]),b=te(i),g=te(null),_=tg({count:f.length,getScrollElement:()=>t.current,estimateSize:I=>p[I],overscan:4,onChange:()=>{let I=t.current;if(!I)return;let O=I.scrollTop+150,N=0;for(let P=c.length-1;P>=0;P--)if(O>=c[P]){N=P;break}N!==b.current&&(b.current=N,o(N)),g.current!==null&&(g.current=null,a(null))}});G(()=>{let I=f.findIndex(O=>O.node.status==="current");I<0&&(I=f.findIndex(O=>O.node.status==="paused")),I>=0&&_.scrollToIndex(I,{align:"center"})},[f,_]);let w=j(I=>{a(O=>{let N=O===I.id?null:I.id;return g.current=N,N}),u(!1)},[]),S=j(I=>{a(null)},[]),x=j(I=>{u(!1),a(null);let O=f.findIndex(N=>N.chapterIdx===I);O>=0&&_.scrollToIndex(O,{align:"start",behavior:"smooth"})},[f,_]),C=n[i],T=Sn[i%Sn.length];return m.createElement("div",{className:"font-jakarta",style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",overflow:"hidden",background:e.bg,transition:"background 0.3s ease"}},m.createElement("div",{className:"flex items-center justify-center gap-7 px-4 pt-3 pb-4",style:{flexShrink:0}},m.createElement("div",{className:"flex items-center gap-2"},m.createElement("div",{className:"coin-shimmer",style:{width:36,height:36,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(circle at 35% 30%, #C8C8C8, #8A8A8A 70%, #6E6E6E)",boxShadow:"0 2px 0 0 #555"}},m.createElement("span",{className:"font-extrabold text-[14px] text-white",style:{textShadow:"0 1px 1px rgba(0,0,0,0.25)"}},"B")),m.createElement("span",{className:"font-extrabold text-[18px]",style:{color:e.creditsText}},r)),m.createElement("div",{className:"flex items-center gap-2"},m.createElement("div",{style:{width:36,height:36,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(180deg, #FF9600 0%, #FF7A00 100%)",boxShadow:"0 2px 0 0 #CC6600"}},m.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},m.createElement("path",{d:"M12 22c-4.4 0-7-2.7-7-6.2 0-2.2 1.3-4.2 2.6-5.7l1.3 1.3c.35.35.9.1.9-.45V4c0-.5.35-.85.8-.8C14.5 4 19 7.8 19 12.8c0 4.8-3 9.2-7 9.2z",fill:"white"}),m.createElement("path",{d:"M12 22c-2.2 0-3.5-1.6-3.5-3.5 0-1.3.7-2.5 1.6-3.4l.6.6c.18.18.45.08.45-.18V12.5c0-.25.18-.45.45-.42 1.8.45 4 2.5 4 5.7 0 2.5-1.3 4.2-3.6 4.2z",fill:"#FFF3D6"}))),m.createElement("span",{className:"font-extrabold text-[18px] text-[#FF9600]"},"3")),m.createElement("div",{style:{width:36,height:36,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #8558C8 0%, #4545B5 100%)",boxShadow:"0 2px 0 0 #363690"}},m.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"white"},m.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.27 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"})))),m.createElement("div",{style:{flexShrink:0,marginLeft:12,marginRight:12,marginBottom:8,position:"relative",zIndex:20}},m.createElement("button",{onClick:()=>{u(I=>!I),a(null)},className:"w-full rounded-2xl px-5 py-3 flex items-center justify-between",style:{position:"relative",zIndex:22,backgroundColor:T.bg,boxShadow:l?"none":`0 4px 0 0 ${T.dark}`,borderRadius:l?"16px 16px 0 0":"16px"}},m.createElement("div",{className:"text-left"},m.createElement("p",{className:"font-bold text-[11px] text-white/70 uppercase tracking-widest"},"Chapter ",C.index),m.createElement("p",{className:"font-extrabold text-[17px] text-white leading-tight mt-0.5"},C.title)),m.createElement("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center",style:{transform:l?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}},m.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("polyline",{points:"6 9 12 15 18 9"})))),m.createElement("div",{style:{position:"absolute",left:0,right:0,top:"100%",zIndex:21,maxHeight:l?400:0,opacity:l?1:0,overflowY:l?"auto":"hidden",overflowX:"hidden",transition:"opacity 0.25s ease",backgroundColor:e.glassBg,borderRadius:"0 0 16px 16px",border:`1px solid ${e.glassBorder}`,borderTop:"none",boxShadow:l?e.menuShadow:"none"}},m.createElement("div",{className:"py-2 px-1"},n.map((I,O)=>{let N=Sn[O%Sn.length],P=wI(I);return m.createElement(SI,{key:I.index,chapter:I,color:N,status:P,isActive:O===i,onSelect:()=>x(O),theme:e})})))),l&&m.createElement("div",{onClick:()=>u(!1),style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:15,background:e.backdrop}}),m.createElement("div",{ref:t,className:"scrollbar-hide",style:{flex:1,minHeight:0,overflowY:"auto",overflowX:"hidden",contain:"strict"}},m.createElement("div",{className:"relative w-full",style:{height:v}},d.map(I=>m.createElement("div",{key:`sep-${I.chapterIdx}`,style:{position:"absolute",top:I.y,left:0,right:0,transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:12,paddingLeft:24,paddingRight:24}},m.createElement("div",{style:{flex:1,height:1,background:e.separatorLine}}),m.createElement("span",{className:"font-jakarta font-bold",style:{fontSize:13,letterSpacing:.3,color:e.separatorText,whiteSpace:"nowrap"}},I.title),m.createElement("div",{style:{flex:1,height:1,background:e.separatorLine}}))),_.getVirtualItems().map(I=>{let O=f[I.index];return m.createElement(sg,{key:O.node.id,node:O.node,nodeX:O.x,isSelected:s===O.node.id,showFloatingLabel:O.node.status==="current",onTap:w,onStart:S,accentColor:O.color.bg,accentDark:O.color.dark,theme:e,style:O.posStyle})}))))},ra=xI;var xn="bonds_daily_question",Fr={category:"",question:"",options:[],selectedAnswer:null,date:null},cg=xr(Fr),Cn=()=>Cr(cg),ug=()=>new Date().toISOString().slice(0,10),na=({children:e})=>{let[r,n]=$(()=>{try{let p=localStorage.getItem(xn);return p?{...Fr,...JSON.parse(p)}:Fr}catch{return Fr}}),{getItem:t,setItem:i,removeItem:o}=Pt(),s=te(!1);G(()=>{t(xn).then(p=>{if(p)try{let v={...Fr,...JSON.parse(p)};n(b=>JSON.stringify(b)!==JSON.stringify(v)?v:b)}catch{}})},[t]);let a=j(p=>{let v=JSON.stringify(p);localStorage.setItem(xn,v),i(xn,v)},[i]),l=j(p=>{let v=p.selectedAnswer,b=p.options||[];if(typeof b=="string")try{b=JSON.parse(`[${b}]`)}catch{b=[]}let g={...Fr,...p,date:ug(),options:b,selectedAnswer:v!=null&&v!==""?v:null};n(g),a(g)},[a]),u=j(p=>{n(v=>{let b={...v,selectedAnswer:p};return a(b),b})},[a]),f=j(()=>{n(Fr),localStorage.removeItem(xn),o(xn)},[o]),c=j(()=>{s.current||(s.current=!0,Ae("bubble_fn_daily_question","fetch"))},[]),d=r.date!==ug();return G(()=>(window.appUI=window.appUI||{},window.appUI.setDailyQuestion=l,()=>{delete window.appUI.setDailyQuestion}),[l]),m.createElement(cg.Provider,{value:{...r,isStale:d,setDailyQuestion:l,markAnswered:u,clearDailyQuestion:f,fetchIfStale:c}},e)};var ia="#58CC02",CI="#46A302",fg="radial-gradient(circle at 35% 30%, #C8C8C8, #8A8A8A 70%, #6E6E6E)",dg="0 2px 0 0 #555",kI=({theme:e,pop:r})=>{let{name:n,credits:t}=yr(),{category:i,question:o,options:s,selectedAnswer:a,markAnswered:l}=Cn(),[u,f]=$(t||0),[c,d]=$(a),[p,v]=$(a!=null),[b,g]=$(p),_=te(null),w=te([]),S=te([]),x=te(null);G(()=>()=>{w.current.forEach(clearTimeout),w.current=[],S.current.forEach(N=>{try{N.remove()}catch{}}),S.current=[],x.current&&cancelAnimationFrame(x.current)},[]);let C=(N,P)=>{let E=setTimeout(N,P);return w.current.push(E),E},T=(N,P)=>{p||(v(!0),d(P),C(()=>{g(!0)},800),Ae("bubble_fn_daily_question","vote",{answer:N,index:P}),l(P),C(()=>{I()},2e3))},I=()=>{let N=document.createElement("div");N.className="dim-overlay active",document.body.appendChild(N),S.current.push(N);let P=document.createElement("div");P.className="credit-center-animation",P.style.cssText=`
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
            pointer-events: none;
        `,P.innerHTML=`
            <div class="overlay-coin" style="width: 80px; height: 80px; border-radius: 50%; background: ${fg}; display: flex; align-items: center; justify-content: center; box-shadow: 0 6px 24px rgba(0,0,0,0.3), ${dg};">
                <span style="font-family: 'Plus Jakarta Sans', sans-serif; font-weight: 800; font-size: 2rem; color: #fff; text-shadow: 0 1px 2px rgba(0,0,0,0.3); line-height: 1;">B</span>
            </div>
            <span class="overlay-plus" style="position: absolute; left: 100%; top: 50%; transform: translateY(-50%); margin-left: 10px; white-space: nowrap; font-family: 'Plus Jakarta Sans', sans-serif; font-weight: 800; font-size: 2rem; color: #fff; text-shadow: 0 2px 8px rgba(0,0,0,0.4); opacity: 0; transition: opacity 300ms ease;">+1</span>
        `,document.body.appendChild(P),S.current.push(P),C(()=>{let E=P.querySelector(".overlay-plus");E&&(E.style.opacity="1")},500),C(()=>{let E=P.querySelector(".overlay-plus");E&&(E.style.opacity="0")},1100),C(()=>{let E=P.getBoundingClientRect();if(P.classList.remove("credit-center-animation"),P.style.top=E.top+"px",P.style.left=E.left+"px",P.style.transform="none",P.classList.add("credit-move-animation"),N.classList.remove("active"),P.offsetHeight,_.current){let A=_.current.getBoundingClientRect(),R=A.left-E.left,B=A.top-E.top;P.style.transform=`translate(${R}px, ${B}px)`;let U=P.querySelector(".overlay-coin");U&&(U.style.transition="transform 600ms cubic-bezier(0.4, 0, 0.2, 1)",U.style.transformOrigin="top left",U.style.transform="scale(0.4)")}},1300),C(()=>{P.remove(),N.remove(),S.current=S.current.filter(E=>E!==P&&E!==N),_.current&&(_.current.style.transition="transform 0.3s ease",_.current.style.transform="scale(1.3)",C(()=>{_.current&&(_.current.style.transform="scale(1)")},300)),f(E=>{let A=E,R=E+1,B=400,U=null,ee=document.getElementById("creditsNumber");function K(H){U||(U=H);let ne=Math.min((H-U)/B,1),He=1-Math.pow(1-ne,3),at=Math.round(A+(R-A)*He);ee&&(ee.textContent=at),ne<1&&(x.current=requestAnimationFrame(K))}return x.current=requestAnimationFrame(K),R})},1900)},O=()=>{Ae("bubble_fn_daily_question","start_planning")};return m.createElement("div",{className:"relative w-full h-full overflow-x-hidden font-poppins flex flex-col",style:{background:e.bg}},m.createElement("div",{className:"absolute top-5 right-5 z-20 flex items-center gap-2"},m.createElement("div",{ref:_,className:"coin-shimmer",style:{width:32,height:32,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:fg,boxShadow:dg}},m.createElement("span",{className:"font-extrabold text-[12px] text-white",style:{textShadow:"0 1px 1px rgba(0,0,0,0.25)"}},"B")),m.createElement("span",{id:"creditsNumber",className:"font-extrabold text-[16px]",style:{color:e.creditsText}},u)),m.createElement("div",{className:"flex flex-col flex-1 min-h-0 px-7 pt-16 pb-8 max-w-[375px] mx-auto relative overflow-y-auto"},m.createElement("div",{className:"font-jakarta font-medium text-lg mb-6",style:{color:e.textSecondary}},i||"Time Together"),m.createElement("div",{className:"font-poppins font-bold text-xl leading-[30px] tracking-[0.02em] mb-8 max-w-[303px]",style:{color:e.textPrimary}},o),m.createElement("div",{className:"space-y-3"},s.map((N,P)=>{let E=N.index!==void 0?N.index:P+1,A=p&&c===E;return m.createElement("button",{key:E,className:`relative w-full h-12 rounded-xl border-2 border-solid cursor-pointer overflow-hidden transition-[transform,border-color] duration-200 text-left ${p?"pointer-events-none":"active:translate-y-[2px]"}`,style:{background:e.surface,borderColor:A?ia:e.border,boxShadow:A?`0 4px 0 ${CI}`:p?"none":`0 4px 0 ${e.cardShadow}`},onClick:()=>T(N.text,E)},m.createElement("div",{className:"option-bar absolute left-0 top-0 h-full w-full rounded-xl",style:{transform:p?`scaleX(${N.percent/100})`:void 0,background:A?`${ia}4D`:`${ia}30`}}),m.createElement("div",{className:"relative flex items-center justify-between h-full px-4 z-10"},m.createElement("span",{className:"font-poppins font-bold text-sm tracking-[0.02em]",style:{color:e.textPrimary}},N.text),m.createElement("span",{className:`percentage font-poppins text-xs tracking-[0.02em] ${p?"opacity-100":"opacity-0"}`,style:{color:e.textPrimary,fontWeight:A?"bold":"normal"}},N.percent,"%")))})),m.createElement("div",{className:"flex-1"}),m.createElement("div",{className:"flex flex-col items-center justify-center py-4"},b?m.createElement(m.Fragment,null,m.createElement("div",{className:"font-poppins text-base text-center leading-6 tracking-[0.02em] max-w-[309px] mb-6 animate-fade-in",style:{color:e.textSecondary}},n,", We would love to answer any follow up question you might have about ",i),m.createElement("button",{onClick:O,className:"px-10 py-3 rounded-xl border-b-[3px] border-solid border-[#D4D4D4] active:border-b-0 active:mt-[3px] animate-fade-in pointer-events-auto",style:{background:"#FFFFFF",color:ia}},m.createElement("span",{className:"font-jakarta font-extrabold text-[15px] pointer-events-none"},"Start"))):m.createElement("div",{className:"font-poppins text-base text-center leading-6 tracking-[0.02em] max-w-[295px]",style:{color:e.textSecondary}},"Vote and see the live results and also gain 1 credits"))))},oa=kI;var EI=`${Hi}/f1772112702436x988725373375085300/leo_think.png`,II=`${Hi}/f1772112696167x295067163375400700/leo_yay.png`,Nc=!1,AI=[{id:"funky-date",name:"Funky Date",emoji:"\u{1F4C5}",subtitle:"Spark something new together",cost:4,accent:"#FF9600"},{id:"dialogue-starter",name:"Dialogue Starter",emoji:"\u{1F4AC}",subtitle:"Great conversations start here",cost:4,accent:"#1CB0F6"},{id:"gift-inspiration",name:"Gift Inspiration",emoji:"\u{1F381}",subtitle:"Find the perfect surprise",cost:4,accent:"#CE82FF"}],OI=({dailyQuestion:e,push:r,theme:n})=>{if(!e?.question||e?.isStale)return null;let t=e?.selectedAnswer!==void 0&&e?.selectedAnswer!==null,i=()=>{Ae("bubble_fn_fun","open_daily_question"),r("daily-question")};return t?m.createElement("button",{onClick:i,className:"w-full rounded-2xl text-left relative overflow-hidden border-2 border-solid",style:{background:"#1A3A2A",borderColor:"#2ECC71",boxShadow:"0 4px 0 #145A2A"}},m.createElement("div",{className:"flex items-center p-4 pr-2"},m.createElement("div",{className:"flex-1 min-w-0"},m.createElement("div",{className:"flex items-center gap-2 mb-1"},m.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none"},m.createElement("circle",{cx:"12",cy:"12",r:"10",fill:"#2ECC71"}),m.createElement("polyline",{points:"8 12 11 15 16 9",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})),m.createElement("span",{className:"font-jakarta font-extrabold text-[14px] text-[#2ECC71]"},"Completed!")),m.createElement("p",{className:"font-poppins text-[13px] text-white/50 leading-snug"},"Daily Question"),m.createElement("p",{className:"font-poppins font-medium text-[13px] text-white/40 leading-snug mt-1 line-clamp-1"},"Come back tomorrow for a new one")),m.createElement("img",{src:II,alt:"Leo celebrating",className:"w-20 h-20 object-contain flex-shrink-0 -mr-1"}))):m.createElement("button",{onClick:i,className:"w-full rounded-2xl text-left relative border-2 border-solid animate-breathing-glow",style:{background:"linear-gradient(135deg, #58CC02 0%, #46A302 100%)",borderColor:"#58CC02",boxShadow:"0 4px 0 #3A8A01"}},m.createElement("div",{className:"flex items-center p-4 pr-2"},m.createElement("div",{className:"flex-1 min-w-0"},m.createElement("div",{className:"flex items-center gap-2 mb-2"},m.createElement("span",{className:"font-jakarta font-extrabold text-[11px] text-white/80 uppercase tracking-widest"},"Daily Question"),m.createElement("span",{className:"flex items-center gap-1 bg-white/20 rounded-full px-2.5 py-0.5"},m.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none"},m.createElement("circle",{cx:"12",cy:"12",r:"10",fill:"#FFD700",stroke:"#DAA520",strokeWidth:"1"}),m.createElement("text",{x:"12",y:"16",textAnchor:"middle",fill:"#8B6914",fontSize:"12",fontWeight:"bold"},"$")),m.createElement("span",{className:"font-jakarta font-bold text-[10px] text-white"},"+1"))),m.createElement("p",{className:"font-poppins font-bold text-[15px] text-white leading-snug line-clamp-2 mb-3 pr-2"},e?.question||"No question available today"),m.createElement("span",{className:"inline-block font-jakarta font-extrabold text-[13px] text-[#58CC02] rounded-xl px-5 py-2 border-b-[3px] border-solid border-[#D4D4D4] active:border-b-0 active:mt-[3px]",style:{background:"#FFFFFF"}},"Answer Now")),m.createElement("img",{src:EI,alt:"Dr. Leo thinking",className:"w-24 h-24 object-contain flex-shrink-0 -mr-1 -mb-2"})))},TI=({activity:e,index:r,push:n,theme:t,animate:i})=>m.createElement("button",{onClick:()=>{Ae("bubble_fn_fun","open_activity",{activityId:e.id}),n("activity-detail",{activityId:e.id,name:e.name})},className:`w-full rounded-2xl text-left relative overflow-hidden border-2 border-solid ${i?"animate-fade-in":""}`,style:{opacity:i?0:1,animationDelay:i?`${r*100}ms`:void 0,background:t.surface,borderColor:t.border,boxShadow:`0 4px 0 ${t.cardShadow}`}},m.createElement("div",{className:"py-5 pl-5 pr-24 min-h-[100px]"},m.createElement("p",{className:"font-jakarta font-extrabold text-[18px] mb-1.5",style:{color:t.textPrimary}},e.name),m.createElement("p",{className:"font-poppins text-[13px] leading-snug",style:{color:t.textSecondary}},e.subtitle),m.createElement("p",{className:"font-poppins text-[11px] mt-2",style:{color:t.textMuted}},e.cost," credits")),m.createElement("div",{className:"absolute -bottom-2 -right-2 w-[80px] h-[80px] rounded-full flex items-center justify-center",style:{background:e.accent}},m.createElement("span",{className:"text-[36px] leading-none"},e.emoji))),NI=({theme:e,push:r})=>{let n=Cn(),{isStale:t,fetchIfStale:i}=n;G(()=>{t&&i()},[t,i]);let o=!Nc;return Nc||(Nc=!0),m.createElement("div",{className:"px-5 pt-6 pb-10 font-poppins"},m.createElement(OI,{dailyQuestion:n,push:r,theme:e}),m.createElement("div",{className:"mt-8"},m.createElement("h2",{className:"font-jakarta font-bold text-[18px] mb-4",style:{color:e.textPrimary}},"Activities"),m.createElement("div",{className:"flex flex-col gap-4"},AI.map((s,a)=>m.createElement(TI,{key:s.id,activity:s,index:a,push:r,theme:e,animate:o})))))},hg=NI;var sa={dark:{bg:"#1B1B2F",surface:"#252538",textPrimary:"#FFFFFF",textSecondary:"rgba(255,255,255,0.6)",textMuted:"rgba(255,255,255,0.3)",border:"rgba(255,255,255,0.1)",navInactive:"rgba(255,255,255,0.6)",lockedBg:"#3C3C4E",lockedShadow:"#2A2A3A",lockedIcon:"rgba(255,255,255,0.35)",labelCompleted:"rgba(255,255,255,0.5)",labelCurrent:"#FFFFFF",labelLocked:"rgba(255,255,255,0.25)",floatBg:"#2B2B3D",floatBorder:"#4A4A5E",menuActive:"rgba(255,255,255,0.1)",menuShadow:"0 8px 24px rgba(0,0,0,0.4)",backdrop:"rgba(0,0,0,0.4)",creditsText:"#D4D4D4",glassBg:"rgba(37,37,56,0.97)",glassBorder:"rgba(255,255,255,0.08)",cardShadow:"#0A0A16",separatorLine:"rgba(255,255,255,0.2)",separatorText:"rgba(255,255,255,0.4)",onboarding:{bg:"#1B1B2F",text:"#FFFFFF",textSecondary:"rgba(255,255,255,0.6)",textMuted:"rgba(255,255,255,0.3)",optionBg:"#252538",optionBorder:"rgba(255,255,255,0.1)",optionSelectedBg:"#252538",optionSelectedBorder:"#E44B8E",optionShadow:"0 4px 0 #0A0A16",optionSelectedShadow:"0 4px 0 #B83A72",optionDimmedBg:"#252538",optionDimmedBorder:"rgba(255,255,255,0.06)",optionDimmedShadow:"none",progressBarBg:"#252538",progressBarBorder:"rgba(255,255,255,0.08)",progressBarFill:"#E44B8E",backBg:"rgba(37,37,56,0.97)",backBorder:"rgba(255,255,255,0.08)",backIcon:"#FFFFFF",divider:"rgba(255,255,255,0.08)",ctaBg:"#E44B8E",ctaShadow:"0 4px 0 #B83A72",ctaDisabledBg:"#252538",ctaDisabledBorder:"rgba(255,255,255,0.1)",ctaDisabledShadow:"0 4px 0 #0A0A16",ctaDisabledText:"rgba(255,255,255,0.3)",ctaText:"#FFFFFF",sliderFilled:"#E44B8E",sliderUnfilled:"rgba(255,255,255,0.1)",dotEmpty:"#252538",dotEmptyBorder:"rgba(255,255,255,0.1)",dotEmptyShadow:"0 3px 0 #0A0A16",dotFilledShadow:"0 3px 0 #B83A72",labelFilled:"rgba(255,255,255,0.8)",labelUnfilled:"rgba(255,255,255,0.4)",inputBg:"#252538",inputBorder:"rgba(255,255,255,0.1)",inputFocusBorder:"#E44B8E",inputPlaceholder:"rgba(255,255,255,0.3)",charCount:"rgba(255,255,255,0.25)",refreshIcon:"#E44B8E"},simulator:{landingBg:"#252538",landingBorder:"rgba(255,255,255,0.08)",landingTitle:"#FFFFFF",landingSubtitle:"rgba(255,255,255,0.6)",landingHint:"rgba(255,255,255,0.4)",creditCost:"rgba(255,255,255,0.35)",sessionBg:"#1B1B2F",statusText:"#FFFFFF",statusSubtext:"rgba(255,255,255,0.5)",waveformLine:"#E44B8E",waveformBg:"transparent",micBg:"rgba(255,255,255,0.08)",micBorder:"rgba(255,255,255,0.2)",micIcon:"#FFFFFF",micActiveBg:"#E44B8E",micActiveBorder:"#B83A72",micActiveIcon:"#FFFFFF",micStopBg:"rgba(228,75,142,0.15)",micStopIcon:"#E44B8E",transcriptBg:"rgba(255,255,255,0.06)",transcriptBorder:"rgba(255,255,255,0.1)",transcriptText:"#FFFFFF",dotActive:"#E44B8E",dotInactive:"rgba(255,255,255,0.15)",dotBorder:"rgba(255,255,255,0.2)",transitionText:"#FFFFFF",transitionSubtext:"rgba(255,255,255,0.5)",resultsBg:"#252538",resultsBorder:"rgba(255,255,255,0.08)",resultsTitle:"#FFFFFF",scoreFraction:"rgba(255,255,255,0.5)",metricUp:"#58CC02",metricDown:"#FF4B4B",metricNeutral:"rgba(255,255,255,0.4)",metricText:"#FFFFFF",sectionTitle:"#58CC02",sectionTitleImprove:"#FF9600",bulletText:"rgba(255,255,255,0.7)",readMoreText:"#E44B8E",dialogBg:"#252538",dialogBorder:"rgba(255,255,255,0.1)",dialogTitle:"#FFFFFF",dialogText:"rgba(255,255,255,0.7)",dialogDimBg:"rgba(0,0,0,0.6)"}},light:{bg:"#F0F0F5",surface:"#FFFFFF",textPrimary:"#1B1B2F",textSecondary:"rgba(0,0,0,0.55)",textMuted:"rgba(0,0,0,0.3)",border:"rgba(0,0,0,0.08)",navInactive:"rgba(0,0,0,0.45)",lockedBg:"#D0D0D8",lockedShadow:"#B0B0B8",lockedIcon:"rgba(0,0,0,0.25)",labelCompleted:"rgba(0,0,0,0.45)",labelCurrent:"#1B1B2F",labelLocked:"rgba(0,0,0,0.2)",floatBg:"#FFFFFF",floatBorder:"#D0D0D8",menuActive:"rgba(0,0,0,0.06)",menuShadow:"0 8px 24px rgba(0,0,0,0.12)",backdrop:"rgba(0,0,0,0.25)",creditsText:"#555555",glassBg:"rgba(240,240,245,0.97)",glassBorder:"rgba(0,0,0,0.06)",cardShadow:"#D0D0D8",separatorLine:"rgba(0,0,0,0.15)",separatorText:"rgba(0,0,0,0.35)",onboarding:{bg:"#F0F0F5",text:"#1B1B2F",textSecondary:"rgba(0,0,0,0.55)",textMuted:"rgba(0,0,0,0.3)",optionBg:"#FFFFFF",optionBorder:"rgba(0,0,0,0.08)",optionSelectedBg:"#FFFFFF",optionSelectedBorder:"#E44B8E",optionShadow:"0 4px 0 #D0D0D8",optionSelectedShadow:"0 4px 0 #B83A72",optionDimmedBg:"#FFFFFF",optionDimmedBorder:"rgba(0,0,0,0.04)",optionDimmedShadow:"none",progressBarBg:"#FFFFFF",progressBarBorder:"rgba(0,0,0,0.06)",progressBarFill:"#E44B8E",backBg:"rgba(240,240,245,0.97)",backBorder:"rgba(0,0,0,0.06)",backIcon:"#1B1B2F",divider:"rgba(0,0,0,0.06)",ctaBg:"#E44B8E",ctaShadow:"0 4px 0 #B83A72",ctaDisabledBg:"#FFFFFF",ctaDisabledBorder:"rgba(0,0,0,0.08)",ctaDisabledShadow:"0 4px 0 #D0D0D8",ctaDisabledText:"rgba(0,0,0,0.25)",ctaText:"#FFFFFF",sliderFilled:"#E44B8E",sliderUnfilled:"rgba(0,0,0,0.08)",dotEmpty:"#FFFFFF",dotEmptyBorder:"rgba(0,0,0,0.08)",dotEmptyShadow:"0 3px 0 #D0D0D8",dotFilledShadow:"0 3px 0 #B83A72",labelFilled:"rgba(0,0,0,0.6)",labelUnfilled:"rgba(0,0,0,0.3)",inputBg:"#FFFFFF",inputBorder:"rgba(0,0,0,0.08)",inputFocusBorder:"#E44B8E",inputPlaceholder:"rgba(0,0,0,0.3)",charCount:"rgba(0,0,0,0.2)",refreshIcon:"#E44B8E"},simulator:{landingBg:"#FFFFFF",landingBorder:"rgba(0,0,0,0.06)",landingTitle:"#1B1B2F",landingSubtitle:"rgba(0,0,0,0.55)",landingHint:"rgba(0,0,0,0.35)",creditCost:"rgba(0,0,0,0.3)",sessionBg:"#F0F0F5",statusText:"#1B1B2F",statusSubtext:"rgba(0,0,0,0.4)",waveformLine:"#E44B8E",waveformBg:"transparent",micBg:"rgba(0,0,0,0.04)",micBorder:"rgba(0,0,0,0.12)",micIcon:"#1B1B2F",micActiveBg:"#E44B8E",micActiveBorder:"#B83A72",micActiveIcon:"#FFFFFF",micStopBg:"rgba(228,75,142,0.1)",micStopIcon:"#E44B8E",transcriptBg:"rgba(0,0,0,0.03)",transcriptBorder:"rgba(0,0,0,0.06)",transcriptText:"#1B1B2F",dotActive:"#E44B8E",dotInactive:"rgba(0,0,0,0.08)",dotBorder:"rgba(0,0,0,0.12)",transitionText:"#1B1B2F",transitionSubtext:"rgba(0,0,0,0.4)",resultsBg:"#FFFFFF",resultsBorder:"rgba(0,0,0,0.06)",resultsTitle:"#1B1B2F",scoreFraction:"rgba(0,0,0,0.4)",metricUp:"#58CC02",metricDown:"#FF4B4B",metricNeutral:"rgba(0,0,0,0.3)",metricText:"#1B1B2F",sectionTitle:"#58CC02",sectionTitleImprove:"#FF9600",bulletText:"rgba(0,0,0,0.6)",readMoreText:"#E44B8E",dialogBg:"#FFFFFF",dialogBorder:"rgba(0,0,0,0.06)",dialogTitle:"#1B1B2F",dialogText:"rgba(0,0,0,0.6)",dialogDimBg:"rgba(0,0,0,0.4)"}}},aa=["system","on","off"],pg={system:"System",on:"On",off:"Off"},la=()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";var L={},st={OUTPUT_AUDIO_STARTED:"output_audio_buffer.started",OUTPUT_AUDIO_STOPPED:"output_audio_buffer.stopped",RESPONSE_DONE:"response.done",RESPONSE_CANCEL:"response.cancel",OUTPUT_AUDIO_TRANSCRIPT_DELTA:"response.output_audio_transcript.delta",OUTPUT_AUDIO_TRANSCRIPT_DONE:"response.output_audio_transcript.done",OUTPUT_TEXT_DELTA:"response.output_text.delta",OUTPUT_TEXT_DONE:"response.output_text.done",INPUT_AUDIO_TRANSCRIPTION_COMPLETED:"conversation.item.input_audio_transcription.completed",CONVERSATION_ITEM_ADDED:"conversation.item.added",SESSION_UPDATED:"session.updated",SESSION_UPDATE_DONE:"session.update.done"},kn={ISSUE:"issue",EVALUATION:"evaluation"},mg=[1,2];L.config={AZURE_RESOURCE:"daphn-m8o8ki4f-eastus2",WEBRTC_URL:null,API_KEY:null,CLIENT_SECRETS_URL:null,TRANSCRIPTION_MODEL:"whisper-1",VOICE_STAGE1:"echo",VOICE_STAGE2:"marin",VAD_THRESHOLD:.5,VAD_PREFIX_PADDING_MS:300,VAD_SILENCE_DURATION_MS:1200,VAD_CREATE_RESPONSE:!0,TRIGGER_PHRASE:"ok, beginning simulation",TIMEOUT_FIRST_RESPONSE:1e3,STAGE4_CLOSE_TIMEOUT:2e3,USER_NAME:"User",ISSUE_JSON_INSTRUCTIONS_TEMPLATE:null,EVALUATION_JSON_INSTRUCTIONS_TEMPLATE:null};L.state={connection:{pc:null,dc:null,micStream:null,micTracks:[],audioEl:null,connNum:1},conversation:{messages:[],assistantLines:[],currentAssistantLine:"",userLines:[]},stages:{current:null,simulation:{mode:!1,triggered:!1,partnerTurnCount:0,userTurnCount:0,startIndex:-1}},json:{waiting:!1,buffer:"",type:null,evaluationData:null},assistantSpeaking:!1,evaluationRequested:!1,currentIssue:"",currentIssueData:null,pushToTalk:{isActive:!1,canActivate:!1},cleaningUp:!1};var Pc=new Set;L.emit=function(e,r){let n={type:e,ts:Date.now(),data:r||{}};Pc.forEach(t=>{try{t(n)}catch(i){console.error("[RT] Listener error:",i)}})};function _g(e){Pc.add(e)}function bg(e){Pc.delete(e)}L.emitWarning=function(e,r){L.emit("warning",{message:e,code:r||"WARNING"})};function ua(){return new Date().toLocaleTimeString()}function Mt(e){let r=L.state;if(!r.connection.dc)return L.emit("error",{message:"Data channel is null",code:"DATA_CHANNEL_NULL"}),!1;if(r.connection.dc.readyState!=="open")return L.emit("error",{message:`Data channel state is '${r.connection.dc.readyState}' (expected 'open')`,code:"DATA_CHANNEL_NOT_READY"}),nt("error"),!1;try{let n=typeof e=="string"?e:JSON.stringify(e);return r.connection.dc.send(n),!0}catch(n){return L.emit("error",{message:n.message,code:"DATA_CHANNEL_SEND_ERROR"}),nt("error"),!1}}function Oe(){return L.state}function Yi(){return L.config}function wg(e){let n=Oe().stages.simulation;return e==="PARTNER_SPEAKING"?{partnerTurnCount:n.partnerTurnCount+1,userTurnCount:n.userTurnCount}:e==="PUSH_TO_TALK_READY"?{partnerTurnCount:n.partnerTurnCount,userTurnCount:n.userTurnCount+1}:{partnerTurnCount:n.partnerTurnCount,userTurnCount:n.userTurnCount}}function Sg(e){if(!e)return!1;let r=e.toLowerCase();return!(!r.includes("simulation")||!(r.includes("ok,")||r.includes("ok ")||r.includes("okay"))||!r.includes("begin"))}L.setApiKey=function(e){if(!e){L.emit("error",{message:"API key cannot be empty"});return}L.config.API_KEY=e};L.setClientSecretsUrl=function(e){if(!e){L.emit("error",{message:"Client secrets URL cannot be empty"});return}L.config.CLIENT_SECRETS_URL=e};L.setUserName=function(e){L.config.USER_NAME=e||"User"};L.setTriggerPhrase=function(e){L.config.TRIGGER_PHRASE=e||"ok, beginning simulation"};L.setVoice=function(e,r){if(!mg.includes(e)){L.emit("error",{message:`Invalid stage: ${e}. Valid stages: ${mg.join(", ")}`});return}if(!r){L.emit("error",{message:"Voice cannot be empty"});return}e===1?L.config.VOICE_STAGE1=r:e===2&&(L.config.VOICE_STAGE2=r)};L.setVadConfig=function(e){if(e.threshold!==void 0){if(e.threshold<0||e.threshold>1){L.emit("error",{message:"VAD threshold must be between 0 and 1"});return}L.config.VAD_THRESHOLD=e.threshold}e.prefixPaddingMs!==void 0&&(L.config.VAD_PREFIX_PADDING_MS=e.prefixPaddingMs),e.silenceDurationMs!==void 0&&(L.config.VAD_SILENCE_DURATION_MS=e.silenceDurationMs),e.createResponse!==void 0&&(L.config.VAD_CREATE_RESPONSE=e.createResponse)};function xg(e,r){let n=Yi();if(e==="issue_json")return n.ISSUE_JSON_INSTRUCTIONS_TEMPLATE?n.ISSUE_JSON_INSTRUCTIONS_TEMPLATE.replace(/\[USERNAME\]/g,n.USER_NAME):(L.emit("error",{message:"ISSUE_JSON_INSTRUCTIONS_TEMPLATE not set"}),null);if(e==="evaluation_json"){if(n.EVALUATION_JSON_INSTRUCTIONS_TEMPLATE){let t=n.EVALUATION_JSON_INSTRUCTIONS_TEMPLATE.replace(/\[ISSUE\]/g,r.issue||"the main conflict in the relationship");return t+=`

`+(r.conversationHistory||""),t}return L.emit("error",{message:"EVALUATION_JSON_INSTRUCTIONS_TEMPLATE not set"}),null}return L.emit("error",{message:`Unknown instruction type: ${e}`}),null}function PI(){let e=Oe(),r=e.stages.simulation.startIndex>=0?e.stages.simulation.startIndex:0;return e.conversation.messages.slice(r).map(t=>`${t.type==="user"?"User":"Assistant"}: ${t.text}`).join(`
`)}function vg(e){}function ca(e){let r=Oe();r.connection.micTracks&&r.connection.micTracks.forEach(n=>{n.enabled=e})}L.startPushToTalk=function(){let e=Oe();return e.pushToTalk.isActive?!1:e.pushToTalk.canActivate?e.assistantSpeaking?(L.emitWarning("Cannot start push-to-talk while assistant is speaking","ASSISTANT_SPEAKING"),!1):!e.connection.dc||e.connection.dc.readyState!=="open"?(L.emit("error",{message:"Data channel is not ready",code:"DATA_CHANNEL_NOT_READY"}),nt("error"),!1):(ca(!0),e.pushToTalk.isActive=!0,L.emit("state",{state:"PUSH_TO_TALK_ACTIVE"}),L.emit("user_speaking",{text:"..."}),!0):(L.emitWarning("Push-to-talk is not available at this time","PUSH_TO_TALK_NOT_AVAILABLE"),!1)};L.stopPushToTalk=function(){let e=Oe();return e.pushToTalk.isActive?(e.pushToTalk.isActive=!1,ca(!1),e.connection.dc&&e.connection.dc.readyState==="open"?(Mt({type:"input_audio_buffer.commit"}),e.stages.simulation.mode&&!e.evaluationRequested?(e.stages.simulation.userTurnCount++,e.stages.simulation.userTurnCount===2?(e.evaluationRequested=!0,e.connection.audioEl&&!e.connection.audioEl.muted&&(e.connection.audioEl.muted=!0),L.emit("state",{state:"PUSH_TO_TALK_STOPPED"}),setTimeout(()=>{DI()},100)):(Mt({type:"response.create"}),L.emit("state",{state:"PUSH_TO_TALK_STOPPED"}))):(Mt({type:"response.create"}),L.emit("state",{state:"PUSH_TO_TALK_STOPPED"}))):(L.emit("error",{message:"Cannot send audio commit/response: data channel not ready",code:"DATA_CHANNEL_NOT_READY"}),nt("error")),!0):!1};function Mc(){let e=Oe();e.assistantSpeaking&&(Mt({type:st.RESPONSE_CANCEL}),Mt({type:"output_audio_buffer.clear"})),e.connection.audioEl&&!e.connection.audioEl.paused&&(e.connection.audioEl.pause(),e.connection.audioEl.currentTime=0)}function MI(){let e=Oe();if(!e.connection.dc||e.connection.dc.readyState!=="open"){L.emit("error",{message:"Cannot request issue JSON: data channel not ready",code:"DATA_CHANNEL_NOT_READY"}),nt("error");return}e.json.waiting=!0,e.json.buffer="",e.json.type=kn.ISSUE,L.emit("state",{state:"LOADING_SIMULATION"}),setTimeout(()=>{e.connection.audioEl&&(e.connection.audioEl.muted=!0)},100);let r=xg("issue_json",{});if(!r){L.emit("error",{message:"Failed to get issue JSON instructions"}),e.json.waiting=!1,e.json.type=null;return}Mt({type:"response.create",response:{conversation:"none",output_modalities:["text"],instructions:r}})}function DI(){let e=Oe();if(!e.connection.dc||e.connection.dc.readyState!=="open"){L.emit("error",{message:"Cannot request evaluation JSON: data channel not ready",code:"DATA_CHANNEL_NOT_READY"}),nt("error");return}e.connection.audioEl&&!e.connection.audioEl.muted&&(e.connection.audioEl.muted=!0),e.json.waiting=!0,e.json.buffer="",e.json.type=kn.EVALUATION;let r=PI(),n=xg("evaluation_json",{issue:e.currentIssue,conversationHistory:r});if(!n){L.emit("error",{message:"Failed to get evaluation JSON instructions"}),e.json.waiting=!1,e.json.type=null;return}Mt({type:"response.create",response:{conversation:"none",output_modalities:["text"],instructions:n}})}async function LI(e){let r=Oe(),n=Yi();r.currentIssue=e.issue||r.currentIssue,r.stages.simulation.mode=!0,r.stages.simulation.partnerTurnCount=0,r.stages.simulation.userTurnCount=0,r.stages.simulation.startIndex=r.conversation.messages.length,await nt("transition");let t=n.USER_NAME,i=JSON.stringify(e,null,2);L.emit("stage2_token_needed",{voice:n.VOICE_STAGE2,userName:t,issue:r.currentIssue,jsonContext:i})}async function RI(){let e=Oe(),r=Yi();if(!e.currentIssueData&&!e.currentIssue)return L.emit("error",{message:"Cannot retry simulation: no issue data available. Start from Stage 1 first."}),!1;e.json.evaluationData=null,e.json.waiting=!1,e.json.buffer="",e.json.type=null,e.evaluationRequested=!1,e.stages.simulation.mode=!0,e.stages.simulation.triggered=!1,e.stages.simulation.partnerTurnCount=0,e.stages.simulation.userTurnCount=0,e.stages.simulation.startIndex=0,e.conversation.messages=[],e.conversation.assistantLines=[],e.conversation.currentAssistantLine="",e.conversation.userLines=[],e.assistantSpeaking=!1,e.pushToTalk.isActive=!1,e.pushToTalk.canActivate=!1,await nt("transition");let n=e.currentIssueData||{issue:e.currentIssue},t=r.USER_NAME,i=JSON.stringify(n,null,2);return L.emit("stage2_token_needed",{voice:r.VOICE_STAGE2,userName:t,issue:e.currentIssue,jsonContext:i}),!0}function Gi(e){let r=Oe(),n=e.delta||e.transcript||"";if(r.json.waiting){(e.type===st.OUTPUT_TEXT_DELTA||e.type==="response.text.delta"||e.type==="response.output_text.delta")&&(r.json.buffer+=n);return}r.conversation.currentAssistantLine+=n;let t=r.stages.simulation.mode?"partner_text_delta":"coach_text_delta";L.emit(t,{text:r.conversation.currentAssistantLine,isFinal:!1,durationMs:e.duration_ms}),!r.json.waiting&&!r.stages.simulation.triggered&&Sg(r.conversation.currentAssistantLine)&&(r.stages.simulation.triggered=!0)}function Ki(e){let r=Oe();if(r.json.waiting){if(e.type===st.OUTPUT_TEXT_DONE||e.type==="response.text.done"||e.type==="response.output_text.done"){let t=e.text||r.json.buffer||"";r.json.waiting=!1,r.json.buffer="",r.connection.audioEl&&(r.connection.audioEl.muted=!1);try{let i=t.trim(),o=i.match(/```(?:json)?\s*([\s\S]*?)\s*```/)||i.match(/\{[\s\S]*\}/);o&&(i=o[1]||o[0]);let s=JSON.parse(i);r.json.type===kn.ISSUE?(r.currentIssue=s.issue||r.currentIssue,r.currentIssueData=s,LI(s)):r.json.type===kn.EVALUATION&&(r.json.evaluationData=s,L.emit("evaluation_json_received",{evaluationJson:s}),setTimeout(()=>{L.emit("state",{state:"SESSION_COMPLETED"}),nt("completed")},500))}catch{}r.json.type=null,r.conversation.currentAssistantLine="";return}return}let n=e.text||e.transcript||r.conversation.currentAssistantLine||"";if(n){if(!r.json.waiting&&!r.stages.simulation.triggered&&Sg(n)){r.stages.simulation.triggered=!0;return}if(r.stages.simulation.mode&&!r.evaluationRequested){if(r.stages.simulation.userTurnCount>=2){L.emit("state",{state:"PARTNER_RESPONSE_BLOCKED",reason:"user_has_2_turns"}),Mc(),r.conversation.currentAssistantLine="";return}r.stages.simulation.partnerTurnCount++,r.stages.simulation.partnerTurnCount===2&&r.stages.simulation.userTurnCount===0&&(r.stages.simulation.userTurnCount=1)}r.conversation.assistantLines.push("["+ua()+"] Assistant: "+n),r.conversation.currentAssistantLine="",r.conversation.messages.push({type:"assistant",text:n,timestamp:ua()}),r.stages.simulation.mode?L.emit("partner_text",{text:n}):L.emit("coach_text",{text:n})}}function FI(e){let r=Oe(),n=e.transcript||"";if(!n)return;let t=n.toLowerCase().trim();if(["you.","you","you you","you you you","thank you.","thank you"].includes(t)){console.warn("[RT] Filtered potential STT hallucination:",n);return}r.conversation.userLines.push("["+ua()+"] User: "+n),r.conversation.messages.push({type:"user",text:n,timestamp:ua()}),L.emit("user_transcript",{text:n})}function $I(e){let r=Oe();if(r.stages.simulation.mode&&!r.evaluationRequested&&(r.stages.simulation.userTurnCount>=2||r.stages.simulation.partnerTurnCount>=2)){r.connection.audioEl&&!r.connection.audioEl.muted&&(r.connection.audioEl.muted=!0),Mc();return}if(r.assistantSpeaking=!0,ca(!1),r.stages.simulation.mode){if(!r.evaluationRequested){let n=wg("PARTNER_SPEAKING");L.emit("state",{state:"PARTNER_SPEAKING",partnerTurnCount:n.partnerTurnCount,userTurnCount:n.userTurnCount})}}else L.emit("state",{state:"COACH_SPEAKING"})}function gg(e){let r=Oe();r.assistantSpeaking=!1,r.stages.simulation.mode&&!r.evaluationRequested&&r.stages.simulation.partnerTurnCount===2&&r.stages.simulation.userTurnCount===1&&e.type===st.RESPONSE_DONE&&setTimeout(()=>{r.connection.audioEl&&!r.connection.audioEl.muted&&(r.connection.audioEl.muted=!0)},500);let n=r.stages.simulation.userTurnCount>=2;if(r.json.waiting&&r.json.type===kn.EVALUATION||r.stages.simulation.mode&&n||n||r.stages.simulation.triggered&&!r.stages.simulation.mode)r.pushToTalk.canActivate=!1;else if(!r.json.waiting||r.json.type!==kn.EVALUATION)if(r.pushToTalk.canActivate=!0,r.stages.simulation.mode&&!r.evaluationRequested){let t=wg("PUSH_TO_TALK_READY");L.emit("state",{state:"PUSH_TO_TALK_READY",partnerTurnCount:t.partnerTurnCount,userTurnCount:t.userTurnCount})}else L.emit("state",{state:"PUSH_TO_TALK_READY"});if(r.stages.simulation.triggered&&!r.json.waiting&&!r.stages.simulation.mode){MI();return}r.stages.simulation.mode||r.json.waiting}function yg(e){L.emit("error",{message:"SERVER_ERROR",code:"SERVER_ERROR",raw:e}),nt("error")}var BI={[st.OUTPUT_AUDIO_STARTED]:$I,[st.OUTPUT_AUDIO_STOPPED]:gg,[st.RESPONSE_DONE]:gg,[st.OUTPUT_AUDIO_TRANSCRIPT_DELTA]:Gi,"response.audio_transcript.delta":Gi,[st.OUTPUT_TEXT_DELTA]:Gi,"response.text.delta":Gi,"response.output_text.delta":Gi,[st.OUTPUT_AUDIO_TRANSCRIPT_DONE]:Ki,"response.audio_transcript.done":Ki,[st.OUTPUT_TEXT_DONE]:Ki,"response.text.done":Ki,"response.output_text.done":Ki,[st.INPUT_AUDIO_TRANSCRIPTION_COMPLETED]:FI,[st.SESSION_UPDATED]:vg,[st.SESSION_UPDATE_DONE]:vg,error:yg,"error.occurred":yg};function UI(e){let r=Oe();if(!(!r.connection.dc||r.connection.dc.readyState!=="open"))try{let n=JSON.parse(e.data),t=BI[n.type];t&&t(n)}catch(n){n instanceof SyntaxError?L.emit("error",{message:`JSON parse error: ${n.message}`,code:"JSON_PARSE_ERROR"}):L.emit("error",{message:`Error parsing event: ${n.message}`,code:"EVENT_PARSE_ERROR"}),nt("error")}}function jI(){let e=document.getElementById("rtAudio");if(e)try{if(e.srcObject){let n=e.srcObject;n&&typeof n.getTracks=="function"&&n.getTracks().forEach(t=>{try{t.stop()}catch{}}),e.srcObject=null}e.pause(),e.load(),e.parentNode&&e.remove()}catch{}let r=document.createElement("audio");return r.id="rtAudio",r.autoplay=!0,r.setAttribute("playsinline","true"),r.setAttribute("webkit-playsinline","true"),r.muted=!1,r.volume=1,r.currentTime=0,document.body.appendChild(r),r}async function WI(){let e=Oe();if(e.connection.micStream||e.connection.micTracks&&e.connection.micTracks.length>0){try{(e.connection.micTracks||(e.connection.micStream?e.connection.micStream.getTracks():[])).forEach(n=>{try{n.onended=null,n.onmute=null,n.onunmute=null,n.stop()}catch{}})}catch{}e.connection.micStream=null,e.connection.micTracks=[]}if(navigator.permissions&&navigator.permissions.query)try{if((await navigator.permissions.query({name:"microphone"})).state==="denied"){let n=new Error("Microphone permission denied");throw n.name="NotAllowedError",n}}catch{}try{if(e.connection.micStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),e.connection.micTracks=e.connection.micStream.getTracks(),!e.connection.micTracks||e.connection.micTracks.length===0)throw new Error("No audio tracks returned from getUserMedia");return e.connection.micTracks.forEach(r=>{r.onended=()=>{let n=Oe();n.cleaningUp||(n.assistantSpeaking&&Mc(),L.emit("error",{message:"MICROPHONE_TRACK_ENDED",code:"TRACK_ENDED",userMessage:"Microphone access was revoked or disconnected. Please check your microphone permissions."}),nt("error"))}}),e.connection.micStream}catch(r){throw e.connection.micStream&&e.connection.micStream.getTracks().forEach(n=>n.stop()),e.connection.micStream=null,e.connection.micTracks=[],r}}function zI(e){let r=Oe(),n=Yi(),t=e.createDataChannel("oai-events");return r.connection.dc=t,t.onopen=()=>{r.stages.simulation.mode?r.stages.simulation.mode&&setTimeout(()=>{Mt({type:"response.create"})},n.TIMEOUT_FIRST_RESPONSE):(Mt({type:"conversation.item.create",item:{type:"message",role:"user",content:[{type:"input_text",text:"Hi!"}]}}),Mt({type:"response.create"}))},t.onclose=()=>{},t.onerror=()=>{},t.onmessage=UI,t}function VI(e){let r=Oe();e.onconnectionstatechange=function(){let n=e.connectionState;(n==="failed"||n==="disconnected")&&(L.emit("error",{message:`Connection ${n}`,code:"CONNECTION_FAILED"}),r.connection.pc===e&&nt("error"))},e.oniceconnectionstatechange=function(){let n=e.iceConnectionState;(n==="failed"||n==="disconnected"||n==="closed")&&(L.emit("error",{message:`ICE ${n}`,code:n==="failed"?"ICE_CONNECTION_FAILED":"ICE_CONNECTION_STATE_CHANGE"}),r.connection.pc===e&&n==="failed"&&nt("error"))},e.onicegatheringstatechange=function(){},e.onsignalingstatechange=function(){}}async function qI(e,r){let t=`https://${Yi().AZURE_RESOURCE}.openai.azure.com/openai/v1/realtime/calls?webrtcfilter=on`,i=await fetch(t,{method:"POST",headers:{Authorization:"Bearer "+e,"Content-Type":"application/sdp"},body:r.sdp});if(!i.ok){let s=await i.text().catch(()=>"Unknown error");throw new Error(`SDP exchange failed: ${i.status} - ${s}`)}return await i.text()}function Cg(){let e=Oe();e.stages.simulation.mode||(e.conversation.messages=[]),e.conversation.assistantLines=[],e.conversation.currentAssistantLine="",e.conversation.userLines=[],e.json.buffer="",e.assistantSpeaking=!1,e.stages.simulation.triggered=!1,e.json.waiting=!1,e.json.type=null,e.stages.simulation.mode||(e.evaluationRequested=!1),e.stages.simulation.mode||(e.currentIssue="",e.currentIssueData=null,e.stages.simulation.partnerTurnCount=0,e.stages.simulation.userTurnCount=0,e.stages.simulation.startIndex=-1),e.pushToTalk.isActive=!1,e.pushToTalk.canActivate=!1,e.pushToTalk.startTime=null,e.cleaningUp=!1}function HI(){let e=Oe();e.stages.simulation.mode?e.stages.simulation.mode&&L.emit("state",{state:"BEGIN_SIMULATION"}):L.emit("state",{state:"SESSION_STARTED"})}async function GI(e){let r=Oe(),n=new RTCPeerConnection;r.connection.pc=n,r.connection.connNum=r.stages.simulation.mode?2:1;let t=jI();r.connection.audioEl=t,n.ontrack=l=>{if(l.streams?.[0])try{let u=l.streams[0],f=u.getAudioTracks();if(f.length===0){L.emitWarning("Received stream has no audio tracks","NO_AUDIO_TRACKS_IN_STREAM");return}let c=f.filter(d=>d.readyState!=="live");c.length>0&&L.emitWarning(`Some audio tracks are not live (states: ${c.map(d=>d.readyState).join(", ")})`,"INACTIVE_AUDIO_TRACKS"),f.forEach(d=>{d.onended=()=>{}}),t.srcObject=u;try{let d=t.play();d!==void 0&&d.then(()=>{}).catch(()=>{})}catch{}}catch(u){L.emit("error",{message:`Failed to set audio stream: ${u.message}`,code:"AUDIO_STREAM_SETUP_ERROR",rawError:u.message||String(u)})}};let i=await WI();if(!r.connection.micTracks||r.connection.micTracks.length===0)throw new Error("No microphone tracks available to add to WebRTC connection");let o=r.connection.micTracks.filter(l=>l.readyState!=="live");if(o.length>0){let l=o.map(u=>u.readyState).join(", ");throw new Error(`Microphone tracks are not in 'live' state (states: ${l})`)}r.connection.micTracks.forEach(l=>{n.addTrack(l,i)}),ca(!1),zI(n),VI(n);let s=await n.createOffer();await n.setLocalDescription(s);let a=await qI(e,s);await n.setRemoteDescription({type:"answer",sdp:a})}async function nt(e){let r=Oe(),n=e||"stopped";if(!r.cleaningUp&&!(!r.connection.pc&&!r.connection.dc&&!r.connection.micStream)){r.cleaningUp=!0;try{if(r.connection.dc){try{r.connection.dc.onopen=null,r.connection.dc.onclose=null,r.connection.dc.onmessage=null,r.connection.dc.onerror=null,r.connection.dc.close()}catch{}r.connection.dc=null}if(r.connection.pc){try{r.connection.pc.onconnectionstatechange=null,r.connection.pc.oniceconnectionstatechange=null,r.connection.pc.onicegatheringstatechange=null,r.connection.pc.onsignalingstatechange=null,r.connection.pc.ontrack=null,r.connection.pc.onnegotiationneeded=null,r.connection.pc.ondatachannel=null,r.connection.pc.getSenders().forEach(i=>{try{i.track&&i.track.stop()}catch{}});try{(r.connection.pc.getReceivers?r.connection.pc.getReceivers():[]).forEach(o=>{try{o.track&&o.track.stop()}catch{}})}catch{}r.connection.pc.close()}catch{}r.connection.pc=null}if(r.connection.micTracks&&(r.connection.micTracks.forEach(t=>{try{t.stop()}catch{}}),r.connection.micTracks=[]),r.connection.micStream=null,r.connection.audioEl){try{let t=r.connection.audioEl;if(t.srcObject){let o=t.srcObject;o&&typeof o.getTracks=="function"&&o.getTracks().forEach(s=>{try{s.stop()}catch{}})}t.srcObject=null,t.pause(),t.load(),t.currentTime=0,t.parentNode&&t.remove();let i=document.getElementById("rtAudio");if(i&&i!==t)try{i.srcObject&&(i.srcObject=null),i.pause(),i.load(),i.parentNode&&i.remove()}catch{}}catch{}r.connection.audioEl=null}if(r.pushToTalk.isActive=!1,r.pushToTalk.canActivate=!1,r.pushToTalk.startTime=null,n==="transition")return;n==="stopped"&&(Cg(),r.connection.pc=null,r.connection.dc=null,r.connection.micStream=null,r.connection.micTracks=[],r.connection.audioEl=null,r.connection.connNum=1),n==="error"?L.emit("state",{state:"SESSION_ERROR"}):n==="stopped"&&L.emit("state",{state:"SESSION_STOPPED"})}catch(t){r.cleaningUp||L.emit("error",{message:t.message||String(t),code:"CLEANUP_ERROR"})}finally{r.cleaningUp=!1}}}L.preWarmDelay=async function(e=2e3){!L._firstSessionCompleted&&(L._firstSessionCompleted=!0,await new Promise(n=>setTimeout(n,e)))};L.start=async function(e){if(!e||e==="__TOKEN__"){L.emit("error",{message:"Ephemeral token is required. Provide a valid token.",code:"INVALID_TOKEN"});return}document.readyState!=="complete"&&await new Promise(r=>{document.readyState==="complete"?r():window.addEventListener("load",r,{once:!0})});try{HI(),Cg(),await GI(e)}catch(r){let n="UNKNOWN_ERROR",t=r.message||String(r);r.name==="NotAllowedError"||r.name==="PermissionDeniedError"||r.name==="NotReadableError"||r.name==="TrackStartError"||r.name==="AbortError"||r.message&&r.message.toLowerCase().includes("permission denied")?(n="PERMISSION_DENIED",t="Microphone access denied. Please allow microphone access in your browser and system settings."):r.name==="NotFoundError"||r.name==="DevicesNotFoundError"?(n="NO_MICROPHONE",t="No microphone found. Please connect a microphone and try again."):r.message&&r.message.includes("readyState")&&(n="MICROPHONE_INVALID",t="Microphone is not ready. Please try again."),L.emit("error",{message:t,code:n,rawError:r.name+": "+(r.message||String(r))})}};L.stop=nt;L.retrySimulation=RI;L.getMicStream=function(){let e=Oe();if(!e.connection.micStream)return null;let r=new MediaStream;return e.connection.micTracks.forEach(n=>{r.addTrack(n.clone())}),r};var Dt=L;var KI=({open:e,onClose:r,title:n,children:t,actions:i=[],theme:o,closeOnBackdrop:s=!0})=>{let[a,l]=$(!1),[u,f]=$(!1);G(()=>{if(e)l(!0),f(!1);else if(a){f(!0);let p=setTimeout(()=>{l(!1),f(!1)},150);return()=>clearTimeout(p)}},[e,a]);let c=j(()=>{s&&r&&r()},[s,r]);if(!a)return null;let d=o.simulator;return m.createElement("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-6"},m.createElement("div",{className:`absolute inset-0 ${u?"dialog-overlay-out":"dialog-overlay-in"}`,style:{background:d.dialogDimBg},onClick:c}),m.createElement("div",{className:`relative w-full max-w-sm rounded-2xl p-6 border border-solid ${u?"dialog-card-out":"dialog-card-in"}`,style:{background:d.dialogBg,borderColor:d.dialogBorder}},n&&m.createElement("h3",{className:"font-jakarta font-extrabold text-[18px] mb-3 text-center",style:{color:d.dialogTitle}},n),m.createElement("div",{className:"font-poppins text-[14px] leading-relaxed text-center",style:{color:d.dialogText}},t),i.length>0&&m.createElement("div",{className:"flex flex-col gap-3 mt-6"},i.map((p,v)=>m.createElement("button",{key:v,onClick:p.onClick,disabled:p.disabled,className:`w-full py-3 rounded-xl font-jakarta font-extrabold text-[14px] border-b-[4px] border-solid active:border-b-0 active:translate-y-[1px] transition-[transform] duration-100 ${p.disabled?"opacity-40":""}`,style:p.primary?{background:"#58CC02",borderColor:"#46A302",color:"#FFFFFF"}:{background:d.dialogBg,borderColor:d.dialogBorder,color:d.dialogTitle}},p.label)))))},fa=KI;var kg=!1,YI=()=>/android/i.test(navigator.userAgent),JI=({onStart:e,creditCost:r=4,theme:n})=>{let[t,i]=$(!1),o=n.simulator,s=()=>{if(YI()&&!kg){kg=!0,i(!0);return}e()},a=()=>{i(!1),e()};return m.createElement("div",{className:"flex flex-col items-center justify-center h-full px-6 py-8"},m.createElement("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mb-8",style:{background:o.micBg,borderColor:o.micBorder}},m.createElement("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:o.micIcon,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))),m.createElement("h1",{className:"font-jakarta font-extrabold text-[28px] text-center mb-3",style:{color:o.landingTitle}},"Conversation"),m.createElement("h1",{className:"font-jakarta font-extrabold text-[28px] text-center mb-6 -mt-2",style:{color:o.landingTitle}},"Simulator"),m.createElement("p",{className:"font-poppins text-[15px] text-center leading-relaxed mb-auto px-4",style:{color:o.landingSubtitle}},"Practice what you want to say, and how you say it. Get honest and objective guidance."),m.createElement("div",{className:"w-full flex flex-col items-center gap-3 mt-8"},m.createElement("p",{className:"font-poppins text-[13px]",style:{color:o.landingHint}},"Find a quiet place to start"),m.createElement("button",{onClick:s,className:"w-full max-w-[260px] py-3.5 rounded-xl font-jakarta font-extrabold text-[16px] text-white border-b-[4px] border-solid active:border-b-0 active:translate-y-[1px] transition-[transform] duration-100",style:{background:"#58CC02",borderColor:"#46A302"}},"Start"),m.createElement("p",{className:"font-poppins text-[12px]",style:{color:o.creditCost}},"Uses ",r," credits")),m.createElement(fa,{open:t,onClose:a,title:"Let's make sure you can hear us!",theme:n,closeOnBackdrop:!1,actions:[{label:"Got it",onClick:a,primary:!0}]},m.createElement("p",{className:"mb-3"},"This experience includes audio. Some devices may experience low or no audio output."),m.createElement("p",null,"Use the side buttons to turn up your volume. Please ensure both Media and Ringer levels are active.")))},Eg=JI;var Fe={FFT_SIZE:2048,SIMULATED_SAMPLES:512,WAVEFORM_AMPLITUDE:30,FADE_DISTANCE:20,LINE_WIDTH:2,BUTTON_RADIUS:30,BUTTON_STROKE_WIDTH:1,BUTTON_VISUAL_GAP:2,PHASE_INCREMENT:.05,PHASE_MULTIPLIER:.3,ENVELOPE_AMPLITUDE:.4,ENVELOPE_OFFSET:.6,WAVE_FREQUENCIES:[5,13,21],WAVE_AMPLITUDES:[.25,.15,.1],LOCAL_PHASE_MULTIPLIER:.1,NOISE_AMPLITUDE:.08,SIMULATED_RANGE:70},QI=({rtState:e,buttonVisible:r=!1,theme:n})=>{let t=te(null),i=te({mode:"idle",running:!1,rafId:null,phase:0,audioCtx:null,analyser:null,dataArray:null,micStream:null,simulatedData:new Array(Fe.SIMULATED_SAMPLES).fill(128),buttonVisible:!1});i.current.buttonVisible=r,i.current.theme=n;let o=j(()=>{let c=i.current;if(c.analyser?._source){try{c.analyser._source.disconnect()}catch{}c.analyser._source=null}},[]),s=j(async()=>{let c=i.current;if((!c.audioCtx||c.audioCtx.state==="closed")&&(c.audioCtx=new(window.AudioContext||window.webkitAudioContext)),c.audioCtx.state==="suspended")try{await c.audioCtx.resume()}catch{}return c.audioCtx},[]),a=j(async()=>{let c=i.current;try{let d=window.RT?.state?.connection?.audioEl||document.getElementById("rtAudio");if(!d?.srcObject){c.mode="simulated";return}let p=d.srcObject,v=p?.getAudioTracks()||[];if(!p||v.length===0){c.mode="simulated";return}let b=await s();o();let g=b.createMediaStreamSource(p);if(c.analyser=b.createAnalyser(),c.analyser.fftSize=Fe.FFT_SIZE,g.connect(c.analyser),c.analyser._source=g,c.dataArray=new Uint8Array(c.analyser.frequencyBinCount),b.state==="suspended")try{await b.resume()}catch{}c.mode="real"}catch{c.mode="simulated"}},[s,o]),l=j(async()=>{let c=i.current;try{let d=window.RT?.getMicStream?.()||window.RT?.state?.connection?.micStream;if(!d)return;c.micStream=d;let p=await s();o();let v=p.createMediaStreamSource(d);c.analyser=p.createAnalyser(),c.analyser.fftSize=Fe.FFT_SIZE,v.connect(c.analyser),c.analyser._source=v,c.dataArray=new Uint8Array(c.analyser.frequencyBinCount),c.mode="real"}catch{}},[s,o]),u=j(()=>{let c=i.current;c.running=!1,c.mode="idle",c.rafId&&(cancelAnimationFrame(c.rafId),c.rafId=null),o()},[o]),f=j(()=>{let c=i.current,d=t.current;if(!d||!c.running)return;let p=d.getContext("2d"),v=window.devicePixelRatio||1,b=d.width/v,_=d.height/v/2,w=c.theme.simulator.waveformLine,S="rgba(255,255,255,0)";p.clearRect(0,0,d.width,d.height),p.strokeStyle=w,p.lineWidth=Fe.LINE_WIDTH,p.lineCap="round";let x=c.buttonVisible,C=b/2,T=Fe.BUTTON_RADIUS+Fe.BUTTON_STROKE_WIDTH/2+Fe.LINE_WIDTH/2+Fe.BUTTON_VISUAL_GAP,I=x?C-T:b,O=x?C+T:b,N=(A,R,B,U)=>{let ee=R-A;if(ee<=Fe.FADE_DISTANCE*2&&(B||U))return null;let K=p.createLinearGradient(A,_,R,_),H=Fe.FADE_DISTANCE/ee;if(B&&U)K.addColorStop(0,S),K.addColorStop(H,w),K.addColorStop(1-H,w),K.addColorStop(1,S);else if(B)K.addColorStop(0,S),K.addColorStop(H,w),K.addColorStop(1,w);else if(U)K.addColorStop(0,w),K.addColorStop(1-H,w),K.addColorStop(1,S);else return null;return K},P=(A,R,B,U)=>{let ee=N(A,R,B,U);p.strokeStyle=ee||w,p.beginPath(),p.moveTo(A,_),p.lineTo(R,_),p.stroke()},E=(A,R,B,U,ee)=>{if(B-R<=0||A.length===0)return;let H=N(R,B,U,ee);p.strokeStyle=H||w,p.beginPath();for(let ne=R;ne<B;ne++){let He=Math.floor(ne/b*A.length),at=(A[He]-128)/128,Ye=_+at*Fe.WAVEFORM_AMPLITUDE;ne===R?p.moveTo(ne,Ye):p.lineTo(ne,Ye)}p.stroke()};if(c.mode==="baseline")x?(I>0&&P(0,I,!0,!1),O<b&&P(O,b,!1,!0)):P(0,b,!0,!0);else if(c.mode==="simulated"||c.mode==="real"){let A=[];if(c.mode==="real"&&c.analyser&&c.dataArray)c.analyser.getByteTimeDomainData(c.dataArray),A=Array.from(c.dataArray);else if(c.mode==="simulated"){c.phase+=Fe.PHASE_INCREMENT;let R=Math.sin(c.phase*Fe.PHASE_MULTIPLIER)*Fe.ENVELOPE_AMPLITUDE+Fe.ENVELOPE_OFFSET;for(let B=0;B<Fe.SIMULATED_SAMPLES;B++){let U=B/Fe.SIMULATED_SAMPLES*Math.PI*2,ee=0;for(let ne=0;ne<Fe.WAVE_FREQUENCIES.length;ne++)ee+=Math.sin(U*Fe.WAVE_FREQUENCIES[ne])*Fe.WAVE_AMPLITUDES[ne];let K=Math.sin(B*Fe.LOCAL_PHASE_MULTIPLIER+c.phase*.2)*.1,H=(Math.random()-.5)*Fe.NOISE_AMPLITUDE;ee=(ee+K+H)*R,c.simulatedData[B]=Math.round(128+ee*Fe.SIMULATED_RANGE)}A=c.simulatedData}A.length>0&&(x?(I>0&&E(A,0,I,!0,!1),O<b&&E(A,O,b,!1,!0)):E(A,0,b,!0,!0))}p.strokeStyle=w,c.rafId=requestAnimationFrame(f)},[]);return G(()=>{let c=i.current;c.audioCtx&&c.audioCtx.state==="suspended"&&c.audioCtx.resume().catch(()=>{});let d=()=>{c.running||(c.running=!0,c.rafId=requestAnimationFrame(f))};switch(e){case"COACH_SPEAKING":case"PARTNER_SPEAKING":a().then(()=>{d()});break;case"PUSH_TO_TALK_READY":case"PUSH_TO_TALK_STOPPED":o(),c.mode="baseline",d();break;case"PUSH_TO_TALK_ACTIVE":l().then(()=>{d()});break;case"LOADING_SIMULATION":case"SESSION_STOPPED":case"SESSION_ERROR":case"SESSION_COMPLETED":case"SESSION_STARTED":case"BEGIN_SIMULATION":u();break;default:c.running||(c.mode="idle");break}},[e,f,a,l,o,u]),G(()=>{let c=t.current;if(!c)return;let d=()=>{let p=c.getBoundingClientRect();if(p.width===0||p.height===0)return;let v=window.devicePixelRatio||1;c.width=p.width*v,c.height=p.height*v,c.getContext("2d").scale(v,v)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),G(()=>{let c=i.current;return()=>{if(c.running=!1,c.rafId&&cancelAnimationFrame(c.rafId),o(),c.audioCtx&&c.audioCtx.state!=="closed")try{c.audioCtx.close()}catch{}}},[o]),m.createElement("canvas",{ref:t,className:"w-full",style:{height:72,display:"block"}})},Ig=QI;var XI=({state:e="hidden",onPress:r})=>{if(e==="hidden")return null;let n=e==="recording",t=e==="waiting";return m.createElement("div",{style:{width:60,height:70,position:"relative",flexShrink:0}},m.createElement("button",{onClick:r,style:{width:60,height:70,border:"none",background:"transparent",cursor:"pointer",padding:0,position:"relative"}},m.createElement("svg",{width:"60",height:"70",viewBox:"0 0 60 70",fill:"none",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2,opacity:n?0:1,transition:"opacity 0.2s",filter:t?"drop-shadow(0 0 4px rgba(255,255,255,0.7)) drop-shadow(0 0 8px rgba(255,255,255,0.3))":"none",animation:t?"borderPulse 1.5s ease-in-out infinite":"none"}},m.createElement("rect",{x:"0.5",y:"0.5",width:"59",height:"69",rx:"29.5",stroke:"white"}),m.createElement("path",{d:"M21.5625 35V23.75C21.5625 21.5122 22.4514 19.3661 24.0338 17.7838C25.6161 16.2014 27.7622 15.3125 30 15.3125C32.2378 15.3125 34.3839 16.2014 35.9662 17.7838C37.5486 19.3661 38.4375 21.5122 38.4375 23.75V35C38.4375 37.2378 37.5486 39.3839 35.9662 40.9662C34.3839 42.5486 32.2378 43.4375 30 43.4375C27.7622 43.4375 25.6161 42.5486 24.0338 40.9662C22.4514 39.3839 21.5625 37.2378 21.5625 35ZM44.0625 35C44.0625 34.627 43.9143 34.2694 43.6506 34.0056C43.3869 33.7419 43.0292 33.5938 42.6562 33.5938C42.2833 33.5938 41.9256 33.7419 41.6619 34.0056C41.3982 34.2694 41.25 34.627 41.25 35C41.25 37.9837 40.0647 40.8452 37.955 42.955C35.8452 45.0647 32.9837 46.25 30 46.25C27.0163 46.25 24.1548 45.0647 22.045 42.955C19.9353 40.8452 18.75 37.9837 18.75 35C18.75 34.627 18.6018 34.2694 18.3381 34.0056C18.0744 33.7419 17.7167 33.5938 17.3438 33.5938C16.9708 33.5938 16.6131 33.7419 16.3494 34.0056C16.0857 34.2694 15.9375 34.627 15.9375 35C15.9418 38.4849 17.2381 41.8445 19.5759 44.429C21.9136 47.0135 25.1267 48.6394 28.5938 48.9922V53.2812C28.5938 53.6542 28.7419 54.0119 29.0056 54.2756C29.2694 54.5393 29.627 54.6875 30 54.6875C30.373 54.6875 30.7306 54.5393 30.9944 54.2756C31.2581 54.0119 31.4062 53.6542 31.4062 53.2812V48.9922C34.8733 48.6394 38.0863 47.0135 40.4241 44.429C42.7619 41.8445 44.0582 38.4849 44.0625 35Z",fill:"white"})),m.createElement("svg",{width:"60",height:"70",viewBox:"0 0 60 70",fill:"none",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2,opacity:n?1:0,transition:"opacity 0.2s"}},m.createElement("rect",{x:"0.5",y:"0.5",width:"59",height:"69",rx:"29.5",fill:"white",fillOpacity:"0.25"}),m.createElement("rect",{x:"0.5",y:"0.5",width:"59",height:"69",rx:"29.5",stroke:"white"}),m.createElement("rect",{x:"15",y:"20",width:"30",height:"30",rx:"5",fill:"#D70146"}))))},Ag=XI;var ZI=18,Og=Fa(({theme:e},r)=>{let n=te(null),t=te({currentLines:{user:null,assistant:null,coach:null},pacingBuffer:"",pacingTimer:null,isFinalLinePending:!1,lastFullText:""}),i=te({updateText:null,clearText:null});G(()=>{typeof r=="function"?r(n.current):r&&(r.current=n.current)},[r]),G(()=>{let s=n.current;if(!s)return;let a=t.current;function l(f,c,d){let p=s.querySelector(".ts-inner");p||(s.innerHTML='<div class="ts-inner" style="width:100%;height:100%;padding:0.8em 30px;overflow-y:auto;scrollbar-width:none;-webkit-mask-image:linear-gradient(to bottom,transparent 0%,black 15px,black 100%);mask-image:linear-gradient(to bottom,transparent 0%,black 15px,black 100%);box-sizing:border-box;"></div>',p=s.querySelector(".ts-inner"));let v=a.currentLines[f];if(!v){for(;p.children.length>=2;)p.removeChild(p.firstChild);v=document.createElement("div"),v.style.cssText="margin:0;line-height:1.6;font-size:inherit;opacity:0.8;word-wrap:break-word;display:block;text-align:center;color:#ffffff;font-family:Poppins,sans-serif;transition:opacity 0.3s ease;",v.style.opacity="1",v.style.fontWeight="500",p.appendChild(v),a.currentLines[f]=v}f==="user"&&c==="..."?(v.style.opacity="0.5",v.style.fontStyle="italic",v.textContent=c):(v.style.opacity="1",v.style.fontStyle="normal",v.textContent=c),p.style.scrollBehavior="smooth",p.scrollTop=p.scrollHeight,d&&(v.style.opacity="0.8",v.style.fontWeight="400",a.currentLines[f]=null)}function u(f,c){if(a.pacingTimer)return;let d=a.currentLines[f]?.textContent||"";a.pacingTimer=setInterval(()=>{a.pacingBuffer.length>0?(d+=a.pacingBuffer.charAt(0),a.pacingBuffer=a.pacingBuffer.substring(1),l(f,d,!1)):a.isFinalLinePending?(clearInterval(a.pacingTimer),a.pacingTimer=null,l(f,d,!0),a.isFinalLinePending=!1,a.lastFullText=""):(clearInterval(a.pacingTimer),a.pacingTimer=null)},c)}return i.current.updateText=function(f,c,d,p){if(f==="user"){l(f,c,d);return}let v=c.substring(a.lastFullText.length);if(a.pacingBuffer+=v,a.lastFullText=c,d&&(a.isFinalLinePending=!0),!a.pacingTimer&&a.pacingBuffer.length>0){let b=p?.duration_ms?p.duration_ms/a.pacingBuffer.length:1e3/ZI;u(f,Math.max(10,b))}},i.current.clearText=function(){let f=s.querySelector(".ts-inner");f&&(f.innerHTML=""),a.currentLines.user=null,a.currentLines.assistant=null,a.currentLines.coach=null,a.pacingTimer&&clearInterval(a.pacingTimer),a.pacingTimer=null,a.pacingBuffer="",a.isFinalLinePending=!1,a.lastFullText=""},s._transcriptAPI=i.current,()=>{a.pacingTimer&&clearInterval(a.pacingTimer)}},[]);let o=e.simulator;return m.createElement("div",{ref:n,style:{width:"95%",maxWidth:900,fontSize:15,lineHeight:"1.6",height:"6.4em",margin:"15px auto 10px",padding:0,textAlign:"center",background:o.transcriptBg,borderRadius:14,overflow:"hidden",position:"relative",border:`1px solid ${o.transcriptBorder}`}},m.createElement("div",{className:"ts-inner",style:{width:"100%",height:"100%",padding:"0.8em 30px",overflowY:"auto",scrollbarWidth:"none",WebkitMaskImage:"linear-gradient(to bottom, transparent 0%, black 15px, black 100%)",maskImage:"linear-gradient(to bottom, transparent 0%, black 15px, black 100%)",boxSizing:"border-box"}}))});Og.displayName="Transcript";var Tg=Og;var eA=4,tA=({theme:e,onComplete:r,onClose:n,onStage2Start:t})=>{let i=e.simulator,o=te(null),[s,a]=$(1),[l,u]=$("loading"),[f,c]=$("hidden"),[d,p]=$(0),v=f==="recording"?"Tap when done speaking":f==="ready"?"Tap to speak":["COACH_SPEAKING","PARTNER_SPEAKING"].includes(l)?"Listen":l==="loading"?"Connecting...":"",b=j(()=>o.current?._transcriptAPI,[]),g=j(w=>{let{type:S,data:x}=w,C=b();switch(S){case"state":{let T=x.state;switch(u(T),T){case"SESSION_STARTED":case"BEGIN_SIMULATION":c("hidden"),C&&C.clearText();break;case"COACH_SPEAKING":c("hidden");break;case"PARTNER_SPEAKING":c("hidden"),x.partnerTurnCount&&p((x.partnerTurnCount-1)*2+1);break;case"PUSH_TO_TALK_READY":c("ready"),x.userTurnCount&&p(x.userTurnCount*2);break;case"PUSH_TO_TALK_ACTIVE":c("recording");break;case"PUSH_TO_TALK_STOPPED":c("waiting");break;case"LOADING_SIMULATION":a("transition"),c("hidden"),C&&C.clearText();break;case"SESSION_COMPLETED":a(3),c("hidden");break;case"SESSION_ERROR":case"SESSION_STOPPED":c("hidden");break;default:break}break}case"coach_text_delta":case"partner_text_delta":{let T=S==="partner_text_delta"?"assistant":"coach";C&&C.updateText(T,x.text||"",!1,{duration_ms:x.durationMs});break}case"coach_text":C&&C.updateText("coach",x.text||"",!0);break;case"partner_text":C&&C.updateText("assistant",x.text||"",!0);break;case"user_speaking":C&&C.updateText("user",x.text||"...",!1);break;case"user_transcript":C&&C.updateText("user",x.text||"",!0);break;case"stage2_token_needed":t&&t(),Ae("bubble_fn_simulator","stage2_token_needed",{voice:x.voice,userName:x.userName,issue:x.issue,jsonContext:x.jsonContext});break;case"evaluation_json_received":r&&r(x.evaluationJson||x);break;case"error":console.error("[Simulator] RT error:",x.message,x.code);break;default:break}},[r,t,b]);G(()=>(_g(g),()=>bg(g)),[g]),G(()=>{l==="PARTNER_SPEAKING"&&s==="transition"&&a(2)},[l,s]);let _=()=>{f==="ready"?Dt.startPushToTalk():f==="recording"&&Dt.stopPushToTalk()};return s==="transition"?m.createElement("div",{className:"flex flex-col items-center justify-center h-full px-6",style:{background:i.sessionBg}},m.createElement("p",{className:"font-jakarta font-bold text-[20px] text-center",style:{color:i.transitionText}},"Your simulation will begin shortly"),m.createElement("div",{className:"mt-6"},m.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"animate-spin",style:{animationDuration:"1.5s"}},m.createElement("circle",{cx:"12",cy:"12",r:"10",stroke:i.transitionSubtext,strokeWidth:"2",strokeDasharray:"50 20",strokeLinecap:"round"})))):m.createElement("div",{className:"flex flex-col h-full",style:{background:i.sessionBg}},m.createElement("div",{className:"shrink-0 flex items-center justify-between px-4 pt-4 pb-2"},m.createElement("button",{onClick:n,className:"p-2 rounded-full",style:{color:i.statusText}},m.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))),s===2&&m.createElement("div",{className:"flex items-center gap-1.5"},Array.from({length:eA}).map((w,S)=>m.createElement("div",{key:S,className:"rounded-full border border-solid transition-[background-color] duration-300",style:{width:S<d?20:16,height:8,borderRadius:4,background:S<d?i.dotActive:i.dotInactive,borderColor:S<d?i.dotActive:i.dotBorder}}))),m.createElement("div",{className:"w-10"})),m.createElement("div",{className:"flex-1 flex flex-col items-center justify-end px-6 pb-4"},m.createElement("p",{className:"font-jakarta font-bold text-[20px] mb-6",style:{color:i.statusText}},v),m.createElement("div",{className:"relative w-4/5",style:{height:72}},m.createElement(Ig,{rtState:l,buttonVisible:f!=="hidden",theme:e}),f!=="hidden"&&m.createElement("div",{className:"absolute inset-0 flex items-center justify-center",style:{zIndex:10}},m.createElement(Ag,{state:f,onPress:_,theme:e})))),m.createElement("div",{className:"shrink-0 px-3 pb-4 pt-3"},m.createElement(Tg,{ref:o,theme:e})))},Ng=tA;var rA=["#FF4B4B","#FF8C00","#FFD700","#9ACD32","#58CC02"],nA=({evaluation:e,theme:r,onRetry:n,onDone:t})=>{let i=r.simulator,[o,s]=$(!1);if(!e)return null;let{overall_score:a=1,skill_level:l="Getting Started",metrics:u=[],strengths:f=[],improvements:c=[],summary:d=""}=e;return m.createElement("div",{className:"flex flex-col h-full",style:{background:i.sessionBg}},m.createElement("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-5 pt-6 pb-4"},m.createElement("div",{className:"text-center mb-6"},m.createElement("h2",{className:"font-jakarta font-extrabold text-[24px] mb-3",style:{color:i.resultsTitle}},l),m.createElement("div",{className:"flex items-center justify-center gap-2 mb-2"},rA.map((p,v)=>m.createElement("div",{key:v,className:"rounded-full",style:{width:16,height:16,background:v<a?p:i.dotInactive,border:v<a?"none":`1px solid ${i.dotBorder}`}}))),m.createElement("p",{className:"font-poppins text-[14px]",style:{color:i.scoreFraction}},a,"/5")),m.createElement("div",{className:"flex flex-col gap-2 mb-6"},u.map((p,v)=>m.createElement("div",{key:v,className:"flex items-center gap-3 py-2"},m.createElement("span",{className:"text-[18px]",style:{color:p.direction==="up"?i.metricUp:i.metricDown}},p.direction==="up"?"\u2191":"\u2193"),m.createElement("span",{className:"font-poppins font-medium text-[15px]",style:{color:i.metricText}},p.name)))),f.length>0&&m.createElement("div",{className:"mb-5"},m.createElement("h3",{className:"font-jakarta font-bold text-[14px] mb-2",style:{color:i.sectionTitle}},"What you did well"),m.createElement("ul",{className:"flex flex-col gap-1.5"},f.map((p,v)=>m.createElement("li",{key:v,className:"font-poppins text-[13px] leading-relaxed",style:{color:i.bulletText}},"\u2022"," ",p)))),c.length>0&&m.createElement("div",{className:"mb-5"},m.createElement("h3",{className:"font-jakarta font-bold text-[14px] mb-2",style:{color:i.sectionTitleImprove}},"Areas to improve"),m.createElement("ul",{className:"flex flex-col gap-1.5"},c.map((p,v)=>m.createElement("li",{key:v,className:"font-poppins text-[13px] leading-relaxed",style:{color:i.bulletText}},"\u2022"," ",p)))),d&&m.createElement("div",{className:"mb-4"},o?m.createElement("p",{className:"font-poppins text-[13px] leading-relaxed",style:{color:i.bulletText}},d):m.createElement("button",{onClick:()=>s(!0),className:"font-jakarta font-bold text-[13px] underline",style:{color:i.readMoreText}},"Read more"))),m.createElement("div",{className:"shrink-0 flex items-center border-t border-solid",style:{borderColor:i.resultsBorder,background:i.resultsBg}},m.createElement("button",{onClick:n,className:"flex-1 py-4 text-center"},m.createElement("span",{className:"font-jakarta font-extrabold text-[14px] block",style:{color:i.resultsTitle}},"TRY AGAIN"),m.createElement("span",{className:"font-poppins text-[11px]",style:{color:i.scoreFraction}},"Same topic")),m.createElement("div",{style:{width:1,height:40,background:i.resultsBorder}}),m.createElement("button",{onClick:t,className:"flex-1 py-4 text-center"},m.createElement("span",{className:"font-jakarta font-extrabold text-[14px]",style:{color:i.resultsTitle}},"DONE"))))},Pg=nA;var iA=({theme:e,onSessionChange:r})=>{let[n,t]=$("landing"),[i,o]=$(null),[s,a]=$(!1),l=te(null);G(()=>{r&&r(n==="session")},[n,r]);let u=j(()=>{t("session"),Ae("bubble_fn_simulator","start_session")},[]);G(()=>(window.appUI.onSimulatorToken=_=>{_&&Dt.start(_)},window.appUI.onSimulatorStage2Token=_=>{_&&Dt.start(_)},()=>{delete window.appUI.onSimulatorToken,delete window.appUI.onSimulatorStage2Token}),[]);let f=j(_=>{o(_),t("results"),Ae("bubble_fn_simulator","session_complete",{score:_?.overall_score||0,skillLevel:_?.skill_level||""})},[]),c=j(()=>{a(!0)},[]),d=j(()=>{Dt.stop("stopped"),a(!1),t("landing"),o(null),Ae("bubble_fn_simulator","session_closed"),l.current&&(l.current(),l.current=null)},[]),p=j(()=>{a(!1),l.current=null},[]),v=j(()=>{t("session"),o(null),Dt.retrySimulation()},[]),b=j(()=>{t("landing"),o(null)},[]),g=j(()=>{Ae("bubble_fn_simulator","deduct_credits")},[]);return G(()=>(window.appUI._simulatorRequestLeave=_=>n!=="session"?!0:(l.current=_,a(!0),!1),()=>{delete window.appUI._simulatorRequestLeave}),[n]),m.createElement("div",{className:"w-full h-full"},n==="landing"&&m.createElement(Eg,{onStart:u,theme:e}),n==="session"&&m.createElement(Ng,{theme:e,onComplete:f,onClose:c,onStage2Start:g}),n==="results"&&m.createElement(Pg,{evaluation:i,theme:e,onRetry:v,onDone:b}),m.createElement(fa,{open:s,onClose:p,title:"End session?",theme:e,closeOnBackdrop:!1,actions:[{label:"End Session",onClick:d,primary:!0},{label:"Continue",onClick:p}]},m.createElement("p",null,"This will close your current simulation. Your progress will be lost.")))},Mg=iA;var oA=e=>({background:e.glassBg,borderColor:e.glassBorder}),da=({children:e,theme:r})=>m.createElement("p",{className:"font-jakarta font-bold text-[10px] uppercase tracking-[2px] mb-2 px-1",style:{color:r.textMuted}},e),Ji=({icon:e,label:r,right:n,theme:t,last:i})=>m.createElement("div",{className:`flex items-center justify-between py-3 px-1 ${i?"":"border-b border-solid"}`,style:{borderColor:i?"transparent":t.border}},m.createElement("div",{className:"flex items-center gap-3"},e,m.createElement("span",{className:"font-semibold text-[14px]",style:{color:t.textPrimary}},r)),n),Qi=({theme:e})=>m.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:e.textMuted,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("polyline",{points:"9 18 15 12 9 6"})),sA=({theme:e,darkModePref:r,setDarkModePref:n,onLogout:t})=>{let i=oA(e),{name:o,email:s,pillars:a}=yr(),l=()=>{Ae("bubble_fn_profile","logout"),localStorage.clear(),t&&t()};return m.createElement("div",{className:"px-5 pt-6 pb-10 font-jakarta"},m.createElement("div",{className:"flex items-center gap-4 mb-2"},m.createElement("div",{className:"rounded-full flex items-center justify-center",style:{width:56,height:56,background:e.border}},m.createElement("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:e.textSecondary,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.createElement("circle",{cx:"12",cy:"7",r:"4"}))),m.createElement("div",null,m.createElement("p",{className:"font-extrabold text-[20px]",style:{color:e.textPrimary}},o),m.createElement("p",{className:"text-[12px]",style:{color:e.textSecondary}},s))),m.createElement("div",{className:"rounded-2xl p-4 mt-4 border border-solid",style:i},m.createElement("div",{className:"flex items-center justify-between"},m.createElement("div",{className:"flex items-center gap-3"},m.createElement("div",{className:"rounded-full flex items-center justify-center",style:{width:36,height:36,border:`1.5px dashed ${e.textMuted}`}},m.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:e.textMuted,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))),m.createElement("span",{className:"font-semibold text-[14px]",style:{color:e.textSecondary}},"No partner connected")),m.createElement("button",{className:"rounded-full px-4 py-1.5 text-[12px] font-bold border border-solid",style:{borderColor:"#E44B8E",color:"#E44B8E"}},"Invite"))),m.createElement("div",{className:"mt-6"},m.createElement(da,{theme:e},"Relationship"),m.createElement("div",{className:"rounded-2xl p-4 border border-solid",style:i},m.createElement("div",{className:"flex items-center justify-between"},m.createElement("div",{className:"flex-1"},m.createElement("p",{className:"font-semibold text-[14px] mb-2",style:{color:e.textPrimary}},"Your Pillars"),m.createElement("div",{className:"flex flex-wrap gap-2"},a.map(u=>m.createElement("span",{key:u,className:"rounded-full px-3 py-1 text-[11px] font-bold border border-solid",style:{borderColor:e.border,color:e.textSecondary}},u)))),m.createElement(Qi,{theme:e})))),m.createElement("div",{className:"mt-6"},m.createElement(da,{theme:e},"Preferences"),m.createElement("div",{className:"rounded-2xl px-4 border border-solid",style:i},m.createElement(Ji,{theme:e,last:!0,icon:m.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:e.textSecondary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})),label:"Dark Mode",right:m.createElement("div",{className:"flex rounded-xl overflow-hidden",style:{background:e.border}},aa.map((u,f)=>{let c=r===u,d=r===aa[f+1],p=f<aa.length-1&&!c&&!d;return m.createElement("div",{key:u,className:"flex items-center"},m.createElement("button",{onClick:()=>n(u),className:"px-3 py-1.5 text-[12px] font-bold transition-colors duration-200",style:{background:c?"#E44B8E":"transparent",color:c?"#fff":e.textSecondary}},pg[u]),p&&m.createElement("div",{style:{width:1,height:14,background:e.textMuted}}))}))}))),m.createElement("div",{className:"mt-6"},m.createElement(da,{theme:e},"Account"),m.createElement("div",{className:"rounded-2xl px-4 border border-solid",style:i},m.createElement(Ji,{theme:e,last:!0,icon:m.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:e.textSecondary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),m.createElement("path",{d:"M22 7l-10 7L2 7"})),label:"Account Info",right:m.createElement(Qi,{theme:e})}))),m.createElement("div",{className:"mt-6"},m.createElement(da,{theme:e},"Support"),m.createElement("div",{className:"rounded-2xl px-4 border border-solid",style:i},m.createElement(Ji,{theme:e,icon:m.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:e.textSecondary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})),label:"Share Feedback",right:m.createElement(Qi,{theme:e})}),m.createElement(Ji,{theme:e,icon:m.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:e.textSecondary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),m.createElement("polyline",{points:"14 2 14 8 20 8"})),label:"Terms of Service",right:m.createElement(Qi,{theme:e})}),m.createElement(Ji,{theme:e,last:!0,icon:m.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:e.textSecondary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),m.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})),label:"Privacy Policy",right:m.createElement(Qi,{theme:e})}))),m.createElement("div",{className:"mt-8 flex flex-col items-center gap-3"},m.createElement("button",{onClick:l,className:"font-bold text-[14px] py-2 px-8 rounded-full border border-solid",style:{borderColor:e.border,color:e.textSecondary}},"Log Out"),m.createElement("button",{className:"text-[12px] font-semibold",style:{color:e.textMuted}},"Delete Account"),m.createElement("p",{className:"text-[10px] mt-2",style:{color:e.textMuted}},Js)))},Dg=({title:e,theme:r})=>m.createElement("div",{className:"p-8 text-center",style:{color:r.textPrimary}},m.createElement("h2",{className:"text-2xl font-bold mb-4"},e),m.createElement("p",{style:{opacity:.7}},"Coming Soon")),Dc="bonds_dark_mode",aA=({onLogout:e})=>{let r=Pt(),[n,t]=$(()=>localStorage.getItem(Dc)||"system"),i=E=>{t(E),r.setItem(Dc,E)};G(()=>{r.getItem(Dc).then(E=>{E&&t(A=>E!==A?E:A)})},[r]);let[o,s]=$(la);G(()=>{let E=window.matchMedia("(prefers-color-scheme: dark)"),A=R=>s(R.matches?"dark":"light");return E.addEventListener("change",A),()=>E.removeEventListener("change",A)},[]);let l=sa[n==="on"?"dark":n==="off"?"light":o],[u,f]=$("journey"),[c,d]=$({journey:["journey"],simulator:["simulator"],fun:["fun"],profile:["profile"]}),[p,v]=$(null),[b,g]=$(!1),_=(E,A={})=>{v("push"),d(R=>({...R,[u]:[...R[u],{id:E,...A}]}))},w=()=>{v("pop"),d(E=>{let A=E[u];return A.length<=1?E:{...E,[u]:A.slice(0,-1)}})},S=E=>{E!==u&&(b&&u==="simulator"&&window.appUI._simulatorRequestLeave&&!window.appUI._simulatorRequestLeave(()=>{v("tab"),f(E)})||(v("tab"),f(E)))},x=c[u],C=x[x.length-1],T=typeof C=="string"?C:C.id,I=typeof C=="object"?C:{},O=()=>{let E={push:_,pop:w,theme:l,...I},A;switch(u){case"journey":A=m.createElement(ra,{...E});break;case"simulator":A=m.createElement(Mg,{theme:l,onSessionChange:g});break;case"fun":T==="daily-question"?A=m.createElement(oa,{...E}):T==="activity-detail"?A=m.createElement(Dg,{title:I.name||"Activity",theme:l}):A=m.createElement(hg,{...E});break;case"profile":A=m.createElement(sA,{theme:l,darkModePref:n,setDarkModePref:i,onLogout:e});break;default:A=m.createElement(Dg,{title:"Not Found",theme:l})}let R=p==="push"?"animate-slide-in-right":p==="pop"?"animate-slide-in-left":p==="tab"?"animate-tab-switch":"";return m.createElement("div",{key:`${u}-${x.length}`,className:`w-full flex-1 ${R}`},A)},N=({id:E,label:A,icon:R})=>{let B=u===E;return m.createElement("button",{onClick:()=>S(E),className:`flex flex-col items-center justify-center gap-1 transition-[color,transform,opacity] duration-200 ease-out ${B?"font-bold scale-110 active-tab-shimmer":"font-medium scale-100"}`,style:{color:B?"#E44B8E":l.navInactive,opacity:B?1:.7}},R,m.createElement("span",{className:"font-jakarta text-[10px] tracking-wide"},A))},P={journey:m.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("circle",{cx:"12",cy:"12",r:"10"}),m.createElement("path",{d:"M16.24 7.76l-2.12 6.36-6.36 2.12 2.12-6.36 6.36-2.12z"})),simulator:m.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),m.createElement("path",{d:"M8 10h.01"}),m.createElement("path",{d:"M12 10h.01"}),m.createElement("path",{d:"M16 10h.01"})),fun:m.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("path",{d:"M20 12v10H4V12"}),m.createElement("path",{d:"M2 7h20v5H2z"}),m.createElement("path",{d:"M12 22V7"}),m.createElement("path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}),m.createElement("path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"})),profile:m.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.createElement("circle",{cx:"12",cy:"7",r:"4"}))};return m.createElement("div",{className:"w-full h-full font-poppins flex flex-col overflow-hidden",style:{background:l.bg,transition:"background 0.3s ease"}},m.createElement("div",{className:"flex-1 min-h-0 overflow-y-auto scrollbar-hide relative overflow-x-hidden flex flex-col"},x.length>1&&m.createElement("div",{className:"absolute top-4 left-4 z-50"},m.createElement("button",{onClick:w,className:"p-2 rounded-full border border-solid transition-colors",style:{background:l.glassBg,borderColor:l.glassBorder,color:l.textPrimary}},m.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},m.createElement("polyline",{points:"15 18 9 12 15 6"})))),O()),m.createElement("div",{className:"shrink-0 h-20 border-t border-solid",style:{background:l.glassBg,borderColor:l.glassBorder,transition:"background 0.3s ease, border-color 0.3s ease"}},m.createElement("div",{className:"flex items-center justify-around h-full max-w-[500px] mx-auto px-4"},m.createElement(N,{id:"journey",label:"Journey",icon:P.journey}),m.createElement(N,{id:"simulator",label:"Simulator",icon:P.simulator}),m.createElement(N,{id:"fun",label:"Fun",icon:P.fun}),m.createElement(N,{id:"profile",label:"Profile",icon:P.profile}))))},Lg=aA;var lA=({question:e,options:r=[],refreshable:n=!0,previousAnswer:t,theme:i,onAnswer:o,onRefresh:s})=>{let a=i?.onboarding||{},[l,u]=$(t?.index??null),[f,c]=$(""),[d,p]=$(0),v=te(null),b=(w,S)=>{u(S);let x=typeof w=="string"?w:w.text,C=typeof w=="string"?"":w.variable||"";o&&o({answer:x,variable:C,index:S})},g=()=>{c("out"),v.current&&(v.current.classList.remove("refresh-spin"),v.current.offsetWidth,v.current.classList.add("refresh-spin")),setTimeout(()=>{u(null),s&&s(),p(w=>w+1),c("in"),setTimeout(()=>c(""),450)},300)},_=f==="out"?"refresh-out":f==="in"?"refresh-in":"";return m.createElement("div",{className:"flex flex-col h-full w-full"},m.createElement("div",{className:"flex-1 px-7 pt-8 pb-6 w-full overflow-hidden"},m.createElement("h1",{className:"font-bold text-[22px] leading-[30px] tracking-[0.02em] mb-8",style:{color:a.text}},e),m.createElement("div",{className:`space-y-5 ${_}`,key:d},r.map((w,S)=>{let x=typeof w=="string"?w:w.text,C=l===S;return m.createElement("button",{key:S,onClick:()=>b(w,S),className:"w-full text-left px-5 py-4 rounded-2xl border-2 border-solid transition-[background-color,border-color,box-shadow,transform] duration-200 active:translate-y-[2px]",style:{background:C?a.optionSelectedBg:a.optionBg,borderColor:C?a.optionSelectedBorder:a.optionBorder,boxShadow:C?a.optionSelectedShadow:a.optionShadow}},m.createElement("span",{className:"font-bold text-[14px] leading-[22px] tracking-[0.02em]",style:{color:a.text}},x))}))),n&&m.createElement("div",{className:"shrink-0 pb-10 w-full flex flex-col items-center gap-1"},m.createElement("span",{className:"font-medium text-[14px] tracking-[0.5px]",style:{color:a.textSecondary}},"Choose the most relevant option"),m.createElement("span",{className:"font-medium text-[10px] tracking-[0.5px]",style:{color:a.textMuted}},"or"),m.createElement("button",{onClick:g,className:"flex items-center gap-2 mt-1 group",disabled:f!==""},m.createElement("svg",{ref:v,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",style:{willChange:"transform"}},m.createElement("path",{d:"M1.667 3.333v5h5",stroke:a.refreshIcon,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),m.createElement("path",{d:"M3.51 12.5a7.5 7.5 0 1 0 1.14-7.833L1.667 8.333",stroke:a.refreshIcon,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),m.createElement("span",{className:"font-bold text-[14px] tracking-[0.5px] underline decoration-solid",style:{color:a.refreshIcon}},"Refresh answers"))))},Rg=lA;var uA=({question:e,stops:r=[],previousAnswer:n,theme:t,onAnswer:i})=>{let o=t?.onboarding||{},[s,a]=$(n?.index??null),[l,u]=$(n?r.length:0),[f,c]=$(null),d=te(n?.index??null);G(()=>{n||r.forEach((b,g)=>{setTimeout(()=>u(_=>Math.max(_,g+1)),120*(g+1))})},[n,r]);let p=(b,g)=>{d.current=s,a(g),c(g),setTimeout(()=>c(null),600)},v=()=>{if(s===null)return;let b=r[s];i({answer:b.label,variable:b.variable,index:s})};return m.createElement("div",{className:"flex flex-col h-full w-full"},m.createElement("div",{className:"flex-1 px-7 pt-8 pb-6 w-full flex flex-col"},m.createElement("h1",{className:"font-bold text-[22px] leading-[30px] tracking-[0.02em] mb-6",style:{color:o.text}},e),m.createElement("div",{className:"flex-1 flex items-center"},m.createElement("div",{className:"relative w-full py-2"},r.map((b,g)=>{let _=s===g,w=s!==null&&g<=s,S=g<l,x=f===g;return m.createElement("div",{key:g,className:`stop-reveal flex items-center gap-4 py-[10px] ${S?"":"invisible"}`,style:{animationDelay:n?"0ms":`${120*g}ms`}},m.createElement("div",{className:"relative flex flex-col items-center shrink-0 w-6"},g>0&&m.createElement("div",{className:"absolute -top-[10px] w-[3px] h-[10px] rounded-full transition-[background-color] duration-300",style:{backgroundColor:w?o.sliderFilled:o.sliderUnfilled}}),m.createElement("button",{onClick:()=>p(b,g),className:`relative w-6 h-6 rounded-full border-2 border-solid transition-[background-color,border-color,box-shadow] duration-200 ${x?"dot-pop":""}`,style:{backgroundColor:w?o.sliderFilled:o.dotEmpty,borderColor:w?o.sliderFilled:o.dotEmptyBorder,boxShadow:w?o.dotFilledShadow:o.dotEmptyShadow}}),g<r.length-1&&m.createElement("div",{className:"absolute -bottom-[10px] w-[3px] h-[10px] rounded-full transition-[background-color] duration-300",style:{backgroundColor:w&&g<s?o.sliderFilled:o.sliderUnfilled}})),m.createElement("button",{onClick:()=>p(b,g),className:"flex items-center gap-3 flex-1 min-w-0"},m.createElement("span",{className:`text-2xl select-none ${x?"emoji-bounce":""}`,style:{display:"inline-block"}},b.emoji||""),m.createElement("span",{className:`text-[15px] leading-snug transition-colors duration-200 ${_?"font-bold":"font-medium"}`,style:{color:_?o.text:w?o.labelFilled:o.labelUnfilled}},b.label)))})))),m.createElement("div",{className:"shrink-0 pb-10 px-7 w-full"},m.createElement("button",{onClick:v,disabled:s===null,className:`w-full h-[54px] rounded-2xl flex items-center justify-center transition-[background-color,border-color,box-shadow,transform] duration-200 border-2 border-solid ${s!==null?"active:translate-y-[2px]":""}`,style:s!==null?{background:o.ctaBg,borderColor:o.ctaBg,boxShadow:o.ctaShadow}:{background:o.ctaDisabledBg,borderColor:o.ctaDisabledBorder,boxShadow:o.ctaDisabledShadow}},m.createElement("span",{className:"font-extrabold text-[16px] tracking-[2px] uppercase",style:{color:s!==null?o.ctaText:o.ctaDisabledText}},"Continue"))))},Fg=uA;var cA=({question:e,options:r=[],maxSelections:n=3,previousAnswer:t,theme:i,onAnswer:o})=>{let s=i?.onboarding||{},[a,l]=$(()=>t?.indices?new Set(t.indices):new Set),u=p=>{l(v=>{let b=new Set(v);return b.has(p)?b.delete(p):b.size<n&&b.add(p),b})},f=()=>{if(a.size!==n)return;let p=[...a].sort((g,_)=>g-_),v=p.map(g=>{let _=r[g];return typeof _=="string"?_:_.text}),b=p.map(g=>{let _=r[g];return typeof _=="string"?"":_.variable||""});o({answer:v.join(","),variable:b.join(","),indices:p})},c=a.size>=n,d=a.size===n;return m.createElement("div",{className:"flex flex-col h-full w-full"},m.createElement("div",{className:"flex-1 px-7 pt-8 pb-6 w-full overflow-y-auto"},m.createElement("h1",{className:"font-bold text-[22px] leading-[30px] tracking-[0.02em] mb-2",style:{color:s.text}},e),m.createElement("p",{className:"text-[13px] font-medium mb-6",style:{color:s.textMuted}},a.size," / ",n," selected"),m.createElement("div",{className:"flex flex-wrap gap-3"},r.map((p,v)=>{let b=typeof p=="string"?p:p.text,g=a.has(v),_=c&&!g;return m.createElement("button",{key:v,onClick:()=>u(v),className:"px-5 py-3 rounded-full border-2 border-solid transition-[background-color,border-color,box-shadow,opacity,transform] duration-200 active:translate-y-[1px]",style:{background:g?s.optionSelectedBg:_?s.optionDimmedBg:s.optionBg,borderColor:g?s.optionSelectedBorder:_?s.optionDimmedBorder:s.optionBorder,boxShadow:g?s.optionSelectedShadow:_?s.optionDimmedShadow:s.optionShadow,opacity:_?.4:1}},m.createElement("span",{className:"font-bold text-[14px] leading-[20px] tracking-[0.02em]",style:{color:g?s.text:s.textSecondary}},b))}))),m.createElement("div",{className:"shrink-0 pb-10 px-7 w-full"},m.createElement("button",{onClick:f,disabled:!d,className:`w-full h-[54px] rounded-2xl flex items-center justify-center transition-[background-color,border-color,box-shadow,transform] duration-200 border-2 border-solid ${d?"active:translate-y-[2px]":""}`,style:d?{background:s.ctaBg,borderColor:s.ctaBg,boxShadow:s.ctaShadow}:{background:s.ctaDisabledBg,borderColor:s.ctaDisabledBorder,boxShadow:s.ctaDisabledShadow}},m.createElement("span",{className:"font-extrabold text-[16px] tracking-[2px] uppercase",style:{color:d?s.ctaText:s.ctaDisabledText}},"Continue"))))},$g=cA;var fA=({question:e,placeholder:r,charGuidance:n,previousAnswer:t,theme:i,onAnswer:o})=>{let s=i?.onboarding||{},[a,l]=$(t?.answer||""),u=()=>{a.trim()&&o({answer:a.trim(),variable:""})},f=!!a.trim();return m.createElement("div",{className:"flex flex-col h-full w-full"},m.createElement("div",{className:"flex-1 px-7 pt-8 pb-6 w-full flex flex-col"},m.createElement("h1",{className:"font-bold text-[22px] leading-[30px] tracking-[0.02em] mb-6",style:{color:s.text}},e),m.createElement("div",{className:"relative flex-1 max-h-[220px]"},m.createElement("style",null,`.ob-textarea::placeholder { color: ${s.inputPlaceholder}; }`),m.createElement("textarea",{value:a,onChange:c=>l(c.target.value),placeholder:r||"Type your answer...",className:"ob-textarea w-full h-full resize-none rounded-2xl px-5 py-4 border-2 border-solid text-[15px] leading-[24px] font-medium focus:outline-none transition-colors",style:{background:s.inputBg,borderColor:s.inputBorder,color:s.text},onFocus:c=>{c.target.style.borderColor=s.inputFocusBorder},onBlur:c=>{c.target.style.borderColor=s.inputBorder}}),n&&m.createElement("span",{className:"absolute bottom-3 right-4 text-[11px] font-medium",style:{color:a.length>n?"#E44B8E":s.charCount}},a.length," / ",n))),m.createElement("div",{className:"shrink-0 pb-10 px-7 w-full"},m.createElement("button",{onClick:u,disabled:!f,className:`w-full h-[54px] rounded-2xl flex items-center justify-center transition-[background-color,border-color,box-shadow,transform] duration-200 border-2 border-solid ${f?"active:translate-y-[2px]":""}`,style:f?{background:s.ctaBg,borderColor:s.ctaBg,boxShadow:s.ctaShadow}:{background:s.ctaDisabledBg,borderColor:s.ctaDisabledBorder,boxShadow:s.ctaDisabledShadow}},m.createElement("span",{className:"font-extrabold text-[16px] tracking-[2px] uppercase",style:{color:f?s.ctaText:s.ctaDisabledText}},"Continue"))))},Bg=fA;var dA={"single-select":Rg,slider:Fg,"multi-select":$g,"open-question":Bg},Lc="onboarding_state",hA=({steps:e=[],credits:r=0,initialStep:n=0,initialAnswers:t={},showCredits:i=!0,theme:o,onComplete:s,onBack:a})=>{let l=o?.onboarding||{},[u,f]=$(n),[c,d]=$(r),[p,v]=$(t),[b,g]=$("forward"),[_,w]=$(!1),[S,x]=$(!1),[C,T]=$({}),[I,O]=$(!1),[N,P]=$(!1),E=te(null),A=te(!1),R=te([]),B=te([]),U=te(null),ee=Pt();G(()=>{let se=R,pe=B,me=U;return()=>{se.current.forEach(clearTimeout),se.current=[],pe.current.forEach(ae=>{try{ae.remove()}catch{}}),pe.current=[],me.current&&cancelAnimationFrame(me.current)}},[]);let K=(se,pe)=>{let me=setTimeout(se,pe);return R.current.push(me),me};G(()=>{let se=!1;return Promise.all([ee.getItem(Lc),ee.getItem("credits_intro_seen")]).then(([pe,me])=>{if(!se){if(me==="true"&&P(!0),pe)try{let ae=JSON.parse(pe);ae.currentStep!=null&&f(ae.currentStep),ae.answers&&v(ae.answers),ae.credits!=null&&d(ae.credits),ae.rotationOffsets&&T(ae.rotationOffsets)}catch(ae){console.warn("Failed to restore onboarding state:",ae)}O(!0)}}),()=>{se=!0}},[ee]);let H=e[u],ne=e.length,He=(u+1)/ne*100,at=j((se,pe)=>{if(se.optionPool&&se.visibleCount){let me=se.optionPool,ae=se.visibleCount,de=C[pe]||0,Te=[];for(let Je=0;Je<ae;Je++)Te.push(me[(de+Je)%me.length]);return Te}return se.options},[C]),Ye=j((se,pe,me,ae)=>{let de={currentStep:se,answers:pe,credits:me,rotationOffsets:ae};ee.setItem(Lc,JSON.stringify(de))},[ee]),Lt=j(()=>{_||u>=ne-1||(g("forward"),w(!0),K(()=>{f(se=>se+1),w(!1),x(!1)},300))},[u,ne,_]),Ze=j(()=>{_||u===0||(g("back"),w(!0),K(()=>{f(se=>se-1),w(!1),x(!1)},300))},[u,_]),bt=j(()=>{i&&E.current&&(E.current.style.transition="transform 0.3s ease",E.current.style.transform="scale(1.3)",K(()=>{E.current&&(E.current.style.transform="scale(1)")},300))},[i]),fe=j(()=>new Promise(se=>{if(!E.current||A.current){se();return}A.current=!0;let pe="radial-gradient(circle at 35% 30%, #C8C8C8, #8A8A8A 70%, #6E6E6E)",me="0 2px 0 0 #555",ae,de,Te,Je,Ke=()=>{clearTimeout(Je);let ut=de.querySelector(".overlay-plus");ut&&(ut.style.opacity="0"),Te.style.opacity="0";let wr=de.getBoundingClientRect();if(de.classList.remove("credit-center-animation"),de.style.top=wr.top+"px",de.style.left=wr.left+"px",de.style.transform="none",de.classList.add("credit-move-animation"),ae.classList.remove("active"),de.offsetHeight,E.current){let Zt=E.current.getBoundingClientRect(),Bt=Zt.left-wr.left,Ut=Zt.top-wr.top;de.style.transform=`translate(${Bt}px, ${Ut}px)`;let $r=de.querySelector(".overlay-coin");$r&&($r.style.transition="transform 600ms cubic-bezier(0.4, 0, 0.2, 1)",$r.style.transformOrigin="top left",$r.style.transform="scale(0.4)")}K(()=>{de.remove(),ae.remove(),Te.remove(),B.current=B.current.filter(Zt=>Zt!==de&&Zt!==ae&&Zt!==Te),E.current&&(E.current.style.transition="transform 0.3s ease",E.current.style.transform="scale(1.3)",K(()=>{E.current&&(E.current.style.transform="scale(1)")},300)),d(1),P(!0),ee.setItem("credits_intro_seen","true"),A.current=!1,se()},700)};Je=K(()=>{Ke()},1e4),ae=document.createElement("div"),ae.className="dim-overlay",ae.addEventListener("click",Ke),ae.addEventListener("touchend",ut=>{ut.preventDefault(),Ke()}),document.body.appendChild(ae),B.current.push(ae),requestAnimationFrame(()=>ae.classList.add("active")),de=document.createElement("div"),de.className="credit-center-animation",de.style.cssText=`
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                z-index: 10000;
                pointer-events: none;
            `,de.innerHTML=`
                <div class="overlay-coin" style="width: 80px; height: 80px; border-radius: 50%; background: ${pe}; display: flex; align-items: center; justify-content: center; box-shadow: 0 6px 24px rgba(0,0,0,0.3), ${me};">
                    <span style="font-family: 'Plus Jakarta Sans', sans-serif; font-weight: 800; font-size: 2rem; color: #fff; text-shadow: 0 1px 2px rgba(0,0,0,0.3); line-height: 1;">B</span>
                </div>
                <span class="overlay-plus" style="position: absolute; left: 100%; top: 50%; transform: translateY(-50%); margin-left: 10px; white-space: nowrap; font-family: 'Plus Jakarta Sans', sans-serif; font-weight: 800; font-size: 2rem; color: #fff; text-shadow: 0 2px 8px rgba(0,0,0,0.4); opacity: 0; transition: opacity 300ms ease;">+1</span>
            `,document.body.appendChild(de),B.current.push(de),Te=document.createElement("div"),Te.style.cssText=`
                position: fixed;
                top: calc(50% + 64px);
                left: 50%;
                transform: translateX(-50%);
                z-index: 9999;
                display: flex;
                flex-direction: column;
                align-items: center;
                opacity: 0;
                transition: opacity 0.4s ease;
                pointer-events: none;
            `,Te.innerHTML=`
                <p style="font-family:'Plus Jakarta Sans',sans-serif;font-weight:700;font-size:18px;color:#FFFFFF;margin:0 0 8px 0;line-height:1.4;text-align:center;">
                    Meet your Bonds coins!
                </p>
                <p style="font-family:'Poppins',sans-serif;font-weight:400;font-size:14px;color:rgba(255,255,255,0.7);margin:0 0 24px 0;line-height:1.5;text-align:center;max-width:280px;padding:0 20px;">
                    Every answer earns you a coin.<br/>Use them to unlock experiences in Bonds.
                </p>
                <button style="
                    pointer-events:auto;
                    font-family:'Plus Jakarta Sans',sans-serif;
                    font-weight:700;
                    font-size:16px;
                    color:white;
                    background:#E44B8E;
                    border:none;
                    border-radius:16px;
                    padding:14px 48px;
                    cursor:pointer;
                    letter-spacing:0.5px;
                    box-shadow:0 4px 0 #B83A72;
                    transition:transform 0.15s ease, box-shadow 0.15s ease;
                ">OK, Cool!</button>
            `,document.body.appendChild(Te),B.current.push(Te);let pt=Te.querySelector("button");pt&&(pt.addEventListener("click",Ke),pt.addEventListener("touchstart",ut=>{ut.preventDefault(),Ke()})),K(()=>{let ut=de.querySelector(".overlay-plus");ut&&(ut.style.opacity="1")},500),K(()=>{Te.style.opacity="1",Te.style.pointerEvents="auto"},1e3)}),[ee]),Rt=j(se=>{if(S)return;x(!0);let pe=!p[u],me=pe?c+1:c,ae={questionId:H?.questionId,type:H?.type,...se},de={...p,[u]:ae},Te=pe&&c===0&&!N&&!A.current;v(de),pe&&!Te&&d(me);let Je=u+1;Ye(Je,de,me,C),Ae("bubble_fn_onboarding","step_complete",{step:u,answer:se.answer||"",variable:se.variable||""});let Ke=()=>{u>=ne-1?(ee.removeItem(Lc),Ae("bubble_fn_onboarding","complete",{answers:JSON.stringify(de),credits:me}),s&&s(de,me)):K(()=>Lt(),600)};Te?K(()=>fe().then(Ke),500):(pe&&bt(),Ke())},[u,H,p,c,ne,Lt,Ye,ee,S,C,s,N,fe,bt]),Ft=j(()=>{let se=e[u];!se||!se.optionPool||!se.visibleCount||(T(pe=>{let me=pe[u]||0;return{...pe,[u]:me+se.visibleCount}}),Ae("bubble_fn_onboarding","refresh",{step:u}))},[u,e]);if(!I)return m.createElement("div",{className:"w-full h-full",style:{background:l.bg}});let $t=H?dA[H.type]:null,_r=()=>_?b==="forward"?"animate-slide-out-left":"animate-slide-out-right":"animate-fade-in",br=p[u]||null,En=H?at(H,u):[];return m.createElement("div",{className:"flex flex-col w-full h-full overflow-hidden font-jakarta",style:{background:l.bg}},m.createElement("div",{className:"relative z-20 shrink-0 pt-[18px] pb-4 px-[18px]"},m.createElement("button",{onClick:u===0&&a?a:Ze,className:`w-8 h-8 rounded-full border border-solid flex items-center justify-center transition-opacity duration-200 ${u===0&&!a?"opacity-0 pointer-events-none":""}`,style:{background:l.backBg,borderColor:l.backBorder}},m.createElement("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none"},m.createElement("path",{d:"M6 1L1 6L6 11",stroke:l.backIcon,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),m.createElement("div",{className:"absolute left-1/2 top-[18px] -translate-x-1/2 flex flex-col gap-1.5 items-center"},m.createElement("span",{className:"font-semibold text-[10px] tracking-[0.5px]",style:{color:l.text}},u+1,"/",ne),m.createElement("div",{className:"h-[14px] w-[180px] rounded-[90px] border border-solid overflow-hidden",style:{borderColor:l.progressBarBorder,background:l.progressBarBg}},m.createElement("div",{className:"w-full h-full rounded-[90px] transition-transform duration-500 ease-out origin-left",style:{transform:`scaleX(${He/100})`,background:l.progressBarFill}}))),i&&m.createElement("div",{className:"absolute top-[18px] right-[18px] z-10 flex items-center gap-2"},m.createElement("div",{ref:E,className:"coin-shimmer",style:{width:32,height:32,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(circle at 35% 30%, #C8C8C8, #8A8A8A 70%, #6E6E6E)",boxShadow:"0 2px 0 0 #555"}},m.createElement("span",{className:"font-jakarta font-extrabold text-[12px] text-white",style:{textShadow:"0 1px 1px rgba(0,0,0,0.25)"}},"B")),m.createElement("span",{className:"font-extrabold text-[16px] min-w-[16px] text-center",style:{color:o?.creditsText}},c))),m.createElement("div",{className:"w-full h-px",style:{background:l.divider}}),m.createElement("div",{className:`flex-1 flex flex-col overflow-hidden ${_r()}`,key:u},$t?m.createElement($t,{...H,options:En,previousAnswer:br,theme:o,onAnswer:Rt,onRefresh:Ft}):m.createElement("div",{className:"flex-1 flex items-center justify-center"},m.createElement("span",{className:"text-sm",style:{color:l.textMuted}},"Unknown step type: ",H?.type))))},ha=hA;var pA=[{type:"single-select",questionId:"gender",question:"What's your gender?",refreshable:!1,options:[{text:"Male",variable:"male"},{text:"Female",variable:"female"},{text:"Non-binary",variable:"non_binary"},{text:"Prefer not to say",variable:"prefer_not_to_say"}]},{type:"slider",questionId:"relationship_duration",question:"How long have you been together?",stops:[{label:"Less than 6 months",variable:"lt_6mo",emoji:"\u{1F970}"},{label:"6 months \u2013 1 year",variable:"6mo_1yr",emoji:"\u{1F48C}"},{label:"1 \u2013 3 years",variable:"1_3yr",emoji:"\u{1F91D}"},{label:"3 \u2013 5 years",variable:"3_5yr",emoji:"\u{1F525}"},{label:"5 \u2013 10 years",variable:"5_10yr",emoji:"\u{1F48E}"},{label:"10+ years",variable:"10plus_yr",emoji:"\u{1F3C6}"}]},{type:"multi-select",questionId:"strengthen_areas",question:"Choose 3 Areas to Strengthen Your Bond",maxSelections:3,options:[{text:"Communication",variable:"communication"},{text:"Trust",variable:"trust"},{text:"Intimacy",variable:"intimacy"},{text:"Quality Time",variable:"quality_time"},{text:"Conflict Resolution",variable:"conflict_resolution"},{text:"Emotional Support",variable:"emotional_support"},{text:"Shared Goals",variable:"shared_goals"},{text:"Fun & Adventure",variable:"fun_adventure"}]},{type:"single-select",questionId:"last_argument",question:"Think about your last argument... what was it about?",refreshable:!0,visibleCount:4,optionPool:[{text:"Household chores",variable:"chores"},{text:"Money or finances",variable:"finances"},{text:"Quality time together",variable:"quality_time"},{text:"Parenting decisions",variable:"parenting"},{text:"Communication style",variable:"communication"},{text:"Social plans or friends",variable:"social"},{text:"Work-life balance",variable:"work_life"},{text:"Personal habits",variable:"habits"}]},{type:"single-select",questionId:"partner_do_more",question:"What do you wish your partner would do more of?",refreshable:!0,visibleCount:4,optionPool:[{text:"Listen without fixing",variable:"listen"},{text:"Plan surprise dates",variable:"surprise_dates"},{text:"Help around the house",variable:"house_help"},{text:'Say "I love you" more',variable:"say_love"},{text:"Give compliments",variable:"compliments"},{text:"Initiate physical affection",variable:"affection"},{text:"Ask about my day",variable:"ask_day"},{text:"Put the phone down",variable:"phone_down"},{text:"Share their feelings",variable:"share_feelings"}]},{type:"single-select",questionId:"partner_matters",question:"What do you think matters most to your partner?",refreshable:!0,visibleCount:4,optionPool:[{text:"Feeling respected",variable:"respected"},{text:"Quality time together",variable:"quality_time"},{text:"Physical affection",variable:"physical_affection"},{text:"Words of encouragement",variable:"encouragement"},{text:"Financial security",variable:"financial"},{text:"Acts of service",variable:"service"},{text:"Having fun together",variable:"fun"},{text:"Being listened to",variable:"listened"},{text:"Personal space",variable:"space"},{text:"Shared goals and dreams",variable:"shared_goals"}]},{type:"single-select",questionId:"loving_gesture",question:"Which would feel most loving from your partner?",refreshable:!0,visibleCount:4,optionPool:[{text:"A handwritten note",variable:"note"},{text:"A long hug after a tough day",variable:"hug"},{text:"Cooking my favorite meal",variable:"cooking"},{text:"Planning a weekend getaway",variable:"getaway"},{text:"Saying they're proud of me",variable:"proud"},{text:"Taking over my responsibilities",variable:"responsibilities"},{text:"A thoughtful gift",variable:"gift"},{text:"An undistracted evening together",variable:"evening"}]},{type:"single-select",questionId:"instant_smile",question:"Which would instantly make you smile?",refreshable:!0,visibleCount:4,optionPool:[{text:'A random "thinking of you" text',variable:"text_msg"},{text:"Flowers for no reason",variable:"flowers"},{text:"My favorite snack waiting at home",variable:"snack"},{text:"A playlist made just for me",variable:"playlist"},{text:"A spontaneous dance in the kitchen",variable:"dance"},{text:"A compliment in front of friends",variable:"public_compliment"},{text:"Breakfast in bed",variable:"breakfast"},{text:"A silly inside joke callback",variable:"inside_joke"}]},{type:"open-question",questionId:"truly_loved",question:"What makes you feel truly loved?",placeholder:"Take your time, there's no wrong answer...",charGuidance:150},{type:"open-question",questionId:"communication_change",question:"If you could change one thing about how you and your partner communicate, what would it be?",placeholder:"Be as honest as you'd like...",charGuidance:200}],pa=pA;var mA={welcome:{signin:{exit:"phase-fade-out",enter:"phase-slide-up",exitDuration:300},onboarding:{exit:"phase-zoom-out",enter:"phase-slide-up",exitDuration:450},main:{exit:"phase-zoom-out",enter:"phase-scale-in",exitDuration:450}},signin:{welcome:{exit:"phase-slide-down",enter:"phase-zoom-in",exitDuration:400},main:{exit:"phase-zoom-out",enter:"phase-scale-in",exitDuration:450},onboarding:{exit:"phase-zoom-out",enter:"phase-slide-up",exitDuration:450}},onboarding:{main:{exit:"phase-complete-out",enter:"phase-scale-in",exitDuration:600},welcome:{exit:"phase-slide-down",enter:"phase-zoom-in",exitDuration:400}},main:{welcome:{exit:"phase-fade-out",enter:"phase-fade-in",exitDuration:300},onboarding:{exit:"phase-fade-out",enter:"phase-slide-up",exitDuration:300}}},vA={exit:"phase-fade-out",enter:"phase-fade-in",exitDuration:300},gA=()=>{let{clearUser:e}=yr(),{clearDailyQuestion:r}=Cn(),[n,t]=$("loading"),[i,o]=$(""),[s,a]=$(null),l=te(!1),u=te("loading"),{getItem:f,setItem:c,removeItem:d}=Pt(),p="bonds_session_active",v="bonds_device_id",b="onboarding_complete",g="bonds_auth_pending",[_,w]=$(()=>localStorage.getItem("bonds_dark_mode")||"system"),[S,x]=$(la);G(()=>{f("bonds_dark_mode").then(E=>{E&&w(A=>E!==A?E:A)})},[f]),G(()=>{let E=window.matchMedia("(prefers-color-scheme: dark)"),A=R=>x(R.matches?"dark":"light");return E.addEventListener("change",A),()=>E.removeEventListener("change",A)},[]);let T=sa[_==="on"?"dark":_==="off"?"light":S],I=j(E=>{if(l.current)return;let A=u.current;if(A===E)return;if(A==="loading"){u.current=E,t(E),o("phase-fade-in");return}let R=mA[A]?.[E]||vA;l.current=!0,o(R.exit),setTimeout(()=>{u.current=E,t(E),o(R.enter),l.current=!1},R.exitDuration)},[]);G(()=>{let E=async()=>{try{let R=window.APP_CONFIG?.MIXPANEL_TOKEN;if(!R){console.warn("\u26A0\uFE0F Mixpanel Token NOT found in window.APP_CONFIG. Analytics disabled.");return}qi.init(R,{debug:!0,track_pageview:!1,persistence:"localStorage"}),console.log("\u{1F4CA} Mixpanel Initialized");let B=await f(v);B?(B.startsWith("$device:")&&(B=B.replace(/^\$device:/,""),await c(v,B)),qi.identify(B)):(B=qi.get_distinct_id().replace(/^\$device:/,""),await c(v,B),qi.identify(B)),a(B)}catch(R){console.error("\u274C Analytics Init Failed:",R)}},A=async()=>{try{let[R,B,,U]=await Promise.all([f(p),f(b),f(v),f("onboarding_state")]);console.log(`\u{1F4CB} [App] Session check \u2014 session=${R}, onboarding=${B}, state=${U?"saved":"none"}`),R==="true"?I(B==="true"?"main":"onboarding"):U?(c(p,"true"),I("onboarding")):localStorage.getItem(g)==="true"?setTimeout(()=>{u.current==="loading"&&(localStorage.removeItem(g),I("welcome"))},1e4):I("welcome")}catch(R){console.error("\u274C App: Failed to check session:",R),I("welcome")}};E(),window.appUI=window.appUI||{},window.appUI.setLoginState=R=>{localStorage.removeItem(g),R?(c(p,"true"),c(b,"true"),I("main")):(d(p),I("welcome"))},A()},[f,c,d,I]);let O=E=>{E==="go"?(c(p,"true"),I("onboarding")):E==="signin"&&I("signin")},N=()=>{c(b,"true"),I("main")},P=()=>{e(),r(),d(p),d(b),d("onboarding_state"),d(v),d("bonds_dark_mode"),I("welcome")};return n==="loading"?m.createElement("div",{className:"absolute inset-0 bg-black flex flex-col items-center justify-center font-jakarta"},m.createElement("div",{className:"animate-pulse flex flex-col items-center"},m.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",className:"mb-4"},m.createElement("circle",{cx:"32",cy:"32",r:"32",fill:"white",opacity:"0.2"}),m.createElement("rect",{x:"24",y:"24",width:"16",height:"16",fill:"#FF2258",className:"animate-spin-slow"})),m.createElement("span",{className:"text-white/40 text-xs tracking-widest uppercase"},"Loading Bonds..."))):m.createElement("div",{className:"absolute inset-0"},m.createElement("div",{className:`w-full h-full ${i}`},n==="welcome"&&m.createElement(Qs,{deviceId:s,onAction:O}),n==="signin"&&m.createElement(Vv,{theme:T,onBack:()=>I("welcome")}),n==="onboarding"&&m.createElement(ha,{steps:pa,credits:0,showCredits:!0,theme:T,onComplete:N,onBack:()=>I("welcome")}),n==="main"&&m.createElement(Lg,{onLogout:P})))},yA=()=>m.createElement(ea,null,m.createElement(na,null,m.createElement(gA,null))),Ug=yA;window.appUI=window.appUI||{};var _A=()=>{["https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap"].forEach(r=>{if(!document.querySelector(`link[href="${r}"]`)){let n=document.createElement("link");n.href=r,n.rel="stylesheet",document.head.appendChild(n)}}),window.BubbleBridge={send:(r,n)=>{window[r]&&window[r](n)}},window.appUI.resetAllStorage=()=>{let r=["bonds_session_active","bonds_device_id","onboarding_complete","onboarding_state","credits_intro_seen","bonds_user_data","bonds_daily_question"];r.forEach(n=>localStorage.removeItem(n));try{let n=new Wt;r.forEach(t=>n.removeStorageValue(t))}catch(n){console.warn("NativelyStorage unavailable:",n.message)}window.location.reload()},console.log("\u{1F30D} Globals Initialized")};_A();window.appUI.mountMainApp=e=>{let r=Vr(e);return r.render(m.createElement(Ug,null)),r};window.appUI.mountWelcome=(e,r={})=>{let n=Vr(e);return n.render(m.createElement(Qs,{...r})),n};window.appUI.mountDailyQuestion=(e,r={})=>{let n=Vr(e);return n.render(m.createElement(ea,null,m.createElement(na,null,m.createElement(oa,{...r})))),n};window.appUI.mountOnboarding=(e,r={})=>{let n={steps:pa,credits:0,showCredits:!0},t=Vr(e);return t.render(m.createElement(ha,{...n,...r})),t};window.appUI.mountJourney=(e,r={})=>{let n={credits:5},t=Vr(e);return t.render(m.createElement(ra,{...n,...r})),t};var jg=document.getElementById("app-content-area");jg?(window.appUI.mountMainApp(jg),console.log("\u{1F680} Main App Auto-Mounted into #app-content-area")):console.log("\u{1F4E6} UI Kit loaded. Mount functions ready on window.appUI");window.RT=Dt;})();
